function xO(t,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();var rC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function AO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var l=Function.bind.apply(e,o);return new l}return e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),i}var Y={},RO={get exports(){return Y},set exports(t){Y=t}},bm={},re={},PO={get exports(){return re},set exports(t){re=t}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd=Symbol.for("react.element"),DO=Symbol.for("react.portal"),NO=Symbol.for("react.fragment"),OO=Symbol.for("react.strict_mode"),LO=Symbol.for("react.profiler"),MO=Symbol.for("react.provider"),UO=Symbol.for("react.context"),FO=Symbol.for("react.forward_ref"),jO=Symbol.for("react.suspense"),BO=Symbol.for("react.memo"),$O=Symbol.for("react.lazy"),sC=Symbol.iterator;function VO(t){return t===null||typeof t!="object"?null:(t=sC&&t[sC]||t["@@iterator"],typeof t=="function"?t:null)}var tx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nx=Object.assign,ix={};function Au(t,e,i){this.props=t,this.context=e,this.refs=ix,this.updater=i||tx}Au.prototype.isReactComponent={};Au.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Au.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rx(){}rx.prototype=Au.prototype;function zw(t,e,i){this.props=t,this.context=e,this.refs=ix,this.updater=i||tx}var Hw=zw.prototype=new rx;Hw.constructor=zw;nx(Hw,Au.prototype);Hw.isPureReactComponent=!0;var oC=Array.isArray,sx=Object.prototype.hasOwnProperty,Ww={current:null},ox={key:!0,ref:!0,__self:!0,__source:!0};function ax(t,e,i){var r,o={},l=null,h=null;if(e!=null)for(r in e.ref!==void 0&&(h=e.ref),e.key!==void 0&&(l=""+e.key),e)sx.call(e,r)&&!ox.hasOwnProperty(r)&&(o[r]=e[r]);var f=arguments.length-2;if(f===1)o.children=i;else if(1<f){for(var g=Array(f),v=0;v<f;v++)g[v]=arguments[v+2];o.children=g}if(t&&t.defaultProps)for(r in f=t.defaultProps,f)o[r]===void 0&&(o[r]=f[r]);return{$$typeof:Cd,type:t,key:l,ref:h,props:o,_owner:Ww.current}}function GO(t,e){return{$$typeof:Cd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cd}function zO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var aC=/\/+/g;function o0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zO(""+t.key):e.toString(36)}function Vp(t,e,i,r,o){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var h=!1;if(t===null)h=!0;else switch(l){case"string":case"number":h=!0;break;case"object":switch(t.$$typeof){case Cd:case DO:h=!0}}if(h)return h=t,o=o(h),t=r===""?"."+o0(h,0):r,oC(o)?(i="",t!=null&&(i=t.replace(aC,"$&/")+"/"),Vp(o,e,i,"",function(v){return v})):o!=null&&(qw(o)&&(o=GO(o,i+(!o.key||h&&h.key===o.key?"":(""+o.key).replace(aC,"$&/")+"/")+t)),e.push(o)),1;if(h=0,r=r===""?".":r+":",oC(t))for(var f=0;f<t.length;f++){l=t[f];var g=r+o0(l,f);h+=Vp(l,e,i,g,o)}else if(g=VO(t),typeof g=="function")for(t=g.call(t),f=0;!(l=t.next()).done;)l=l.value,g=r+o0(l,f++),h+=Vp(l,e,i,g,o);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return h}function gp(t,e,i){if(t==null)return t;var r=[],o=0;return Vp(t,r,"","",function(l){return e.call(i,l,o++)}),r}function HO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ii={current:null},Gp={transition:null},WO={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:Gp,ReactCurrentOwner:Ww};Ye.Children={map:gp,forEach:function(t,e,i){gp(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return gp(t,function(){e++}),e},toArray:function(t){return gp(t,function(e){return e})||[]},only:function(t){if(!qw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=Au;Ye.Fragment=NO;Ye.Profiler=LO;Ye.PureComponent=zw;Ye.StrictMode=OO;Ye.Suspense=jO;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WO;Ye.cloneElement=function(t,e,i){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nx({},t.props),o=t.key,l=t.ref,h=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,h=Ww.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var f=t.type.defaultProps;for(g in e)sx.call(e,g)&&!ox.hasOwnProperty(g)&&(r[g]=e[g]===void 0&&f!==void 0?f[g]:e[g])}var g=arguments.length-2;if(g===1)r.children=i;else if(1<g){f=Array(g);for(var v=0;v<g;v++)f[v]=arguments[v+2];r.children=f}return{$$typeof:Cd,type:t.type,key:o,ref:l,props:r,_owner:h}};Ye.createContext=function(t){return t={$$typeof:UO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MO,_context:t},t.Consumer=t};Ye.createElement=ax;Ye.createFactory=function(t){var e=ax.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:FO,render:t}};Ye.isValidElement=qw;Ye.lazy=function(t){return{$$typeof:$O,_payload:{_status:-1,_result:t},_init:HO}};Ye.memo=function(t,e){return{$$typeof:BO,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=Gp.transition;Gp.transition={};try{t()}finally{Gp.transition=e}};Ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ye.useCallback=function(t,e){return ii.current.useCallback(t,e)};Ye.useContext=function(t){return ii.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return ii.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return ii.current.useEffect(t,e)};Ye.useId=function(){return ii.current.useId()};Ye.useImperativeHandle=function(t,e,i){return ii.current.useImperativeHandle(t,e,i)};Ye.useInsertionEffect=function(t,e){return ii.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return ii.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return ii.current.useMemo(t,e)};Ye.useReducer=function(t,e,i){return ii.current.useReducer(t,e,i)};Ye.useRef=function(t){return ii.current.useRef(t)};Ye.useState=function(t){return ii.current.useState(t)};Ye.useSyncExternalStore=function(t,e,i){return ii.current.useSyncExternalStore(t,e,i)};Ye.useTransition=function(){return ii.current.useTransition()};Ye.version="18.2.0";(function(t){t.exports=Ye})(PO);const lx=Gw(re),r1=xO({__proto__:null,default:lx},[re]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO=re,KO=Symbol.for("react.element"),YO=Symbol.for("react.fragment"),QO=Object.prototype.hasOwnProperty,XO=qO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JO={key:!0,ref:!0,__self:!0,__source:!0};function ux(t,e,i){var r,o={},l=null,h=null;i!==void 0&&(l=""+i),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(h=e.ref);for(r in e)QO.call(e,r)&&!JO.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:KO,type:t,key:l,ref:h,props:o,_owner:XO.current}}bm.Fragment=YO;bm.jsx=ux;bm.jsxs=ux;(function(t){t.exports=bm})(RO);var s1={},Eg={},ZO={get exports(){return Eg},set exports(t){Eg=t}},Fi={},o1={},eL={get exports(){return o1},set exports(t){o1=t}},cx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,ie){var he=K.length;K.push(ie);e:for(;0<he;){var ye=he-1>>>1,Ie=K[ye];if(0<o(Ie,ie))K[ye]=ie,K[he]=Ie,he=ye;else break e}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],he=K.pop();if(he!==ie){K[0]=he;e:for(var ye=0,Ie=K.length,_e=Ie>>>1;ye<_e;){var qe=2*(ye+1)-1,it=K[qe],rt=qe+1,He=K[rt];if(0>o(it,he))rt<Ie&&0>o(He,it)?(K[ye]=He,K[rt]=he,ye=rt):(K[ye]=it,K[qe]=he,ye=qe);else if(rt<Ie&&0>o(He,he))K[ye]=He,K[rt]=he,ye=rt;else break e}}return ie}function o(K,ie){var he=K.sortIndex-ie.sortIndex;return he!==0?he:K.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();t.unstable_now=function(){return h.now()-f}}var g=[],v=[],b=1,S=null,P=3,$=!1,j=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(K){for(var ie=i(v);ie!==null;){if(ie.callback===null)r(v);else if(ie.startTime<=K)r(v),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=i(v)}}function L(K){if(I=!1,O(K),!j)if(i(g)!==null)j=!0,Q(N);else{var ie=i(v);ie!==null&&oe(L,ie.startTime-K)}}function N(K,ie){j=!1,I&&(I=!1,C(q),q=-1),$=!0;var he=P;try{for(O(ie),S=i(g);S!==null&&(!(S.expirationTime>ie)||K&&!z());){var ye=S.callback;if(typeof ye=="function"){S.callback=null,P=S.priorityLevel;var Ie=ye(S.expirationTime<=ie);ie=t.unstable_now(),typeof Ie=="function"?S.callback=Ie:S===i(g)&&r(g),O(ie)}else r(g);S=i(g)}if(S!==null)var _e=!0;else{var qe=i(v);qe!==null&&oe(L,qe.startTime-ie),_e=!1}return _e}finally{S=null,P=he,$=!1}}var H=!1,F=null,q=-1,se=5,Z=-1;function z(){return!(t.unstable_now()-Z<se)}function W(){if(F!==null){var K=t.unstable_now();Z=K;var ie=!0;try{ie=F(!0,K)}finally{ie?U():(H=!1,F=null)}}else H=!1}var U;if(typeof x=="function")U=function(){x(W)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,J=ne.port2;ne.port1.onmessage=W,U=function(){J.postMessage(null)}}else U=function(){D(W,0)};function Q(K){F=K,H||(H=!0,U())}function oe(K,ie){q=D(function(){K(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){j||$||(j=!0,Q(N))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return i(g)},t.unstable_next=function(K){switch(P){case 1:case 2:case 3:var ie=3;break;default:ie=P}var he=P;P=ie;try{return K()}finally{P=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=P;P=K;try{return ie()}finally{P=he}},t.unstable_scheduleCallback=function(K,ie,he){var ye=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ye+he:ye):he=ye,K){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=he+Ie,K={id:b++,callback:ie,priorityLevel:K,startTime:he,expirationTime:Ie,sortIndex:-1},he>ye?(K.sortIndex=he,e(v,K),i(g)===null&&K===i(v)&&(I?(C(q),q=-1):I=!0,oe(L,he-ye))):(K.sortIndex=Ie,e(g,K),j||$||(j=!0,Q(N))),K},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(K){var ie=P;return function(){var he=P;P=ie;try{return K.apply(this,arguments)}finally{P=he}}}})(cx);(function(t){t.exports=cx})(eL);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=re,Mi=o1;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dx=new Set,jh={};function Ra(t,e){cu(t,e),cu(t+"Capture",e)}function cu(t,e){for(jh[t]=e,t=0;t<e.length;t++)dx.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a1=Object.prototype.hasOwnProperty,tL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lC={},uC={};function nL(t){return a1.call(uC,t)?!0:a1.call(lC,t)?!1:tL.test(t)?uC[t]=!0:(lC[t]=!0,!1)}function iL(t,e,i,r){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rL(t,e,i,r){if(e===null||typeof e>"u"||iL(t,e,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ri(t,e,i,r,o,l,h){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=h}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pn[t]=new ri(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pn[e]=new ri(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pn[t]=new ri(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pn[t]=new ri(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pn[t]=new ri(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pn[t]=new ri(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pn[t]=new ri(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pn[t]=new ri(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pn[t]=new ri(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kw=/[\-:]([a-z])/g;function Yw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kw,Yw);Pn[e]=new ri(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kw,Yw);Pn[e]=new ri(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kw,Yw);Pn[e]=new ri(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pn[t]=new ri(t,1,!1,t.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pn[t]=new ri(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qw(t,e,i,r){var o=Pn.hasOwnProperty(e)?Pn[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rL(e,i,o,r)&&(i=null),r||o===null?nL(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):o.mustUseProperty?t[o.propertyName]=i===null?o.type===3?!1:"":i:(e=o.attributeName,r=o.attributeNamespace,i===null?t.removeAttribute(e):(o=o.type,i=o===3||o===4&&i===!0?"":""+i,r?t.setAttributeNS(r,e,i):t.setAttribute(e,i))))}var Es=hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mp=Symbol.for("react.element"),Fl=Symbol.for("react.portal"),jl=Symbol.for("react.fragment"),Xw=Symbol.for("react.strict_mode"),l1=Symbol.for("react.profiler"),fx=Symbol.for("react.provider"),px=Symbol.for("react.context"),Jw=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),c1=Symbol.for("react.suspense_list"),Zw=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),gx=Symbol.for("react.offscreen"),cC=Symbol.iterator;function Jc(t){return t===null||typeof t!="object"?null:(t=cC&&t[cC]||t["@@iterator"],typeof t=="function"?t:null)}var Dt=Object.assign,a0;function hh(t){if(a0===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);a0=e&&e[1]||""}return`
`+a0+t}var l0=!1;function u0(t,e){if(!t||l0)return"";l0=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(v){var r=v}Reflect.construct(t,[],e)}else{try{e.call()}catch(v){r=v}t.call(e.prototype)}else{try{throw Error()}catch(v){r=v}t()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var o=v.stack.split(`
`),l=r.stack.split(`
`),h=o.length-1,f=l.length-1;1<=h&&0<=f&&o[h]!==l[f];)f--;for(;1<=h&&0<=f;h--,f--)if(o[h]!==l[f]){if(h!==1||f!==1)do if(h--,f--,0>f||o[h]!==l[f]){var g=`
`+o[h].replace(" at new "," at ");return t.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",t.displayName)),g}while(1<=h&&0<=f);break}}}finally{l0=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?hh(t):""}function sL(t){switch(t.tag){case 5:return hh(t.type);case 16:return hh("Lazy");case 13:return hh("Suspense");case 19:return hh("SuspenseList");case 0:case 2:case 15:return t=u0(t.type,!1),t;case 11:return t=u0(t.type.render,!1),t;case 1:return t=u0(t.type,!0),t;default:return""}}function h1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jl:return"Fragment";case Fl:return"Portal";case l1:return"Profiler";case Xw:return"StrictMode";case u1:return"Suspense";case c1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case px:return(t.displayName||"Context")+".Consumer";case fx:return(t._context.displayName||"Context")+".Provider";case Jw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zw:return e=t.displayName||null,e!==null?e:h1(t.type)||"Memo";case Ks:e=t._payload,t=t._init;try{return h1(t(e))}catch{}}return null}function oL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h1(e);case 8:return e===Xw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function go(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aL(t){var e=mx(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,l=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(h){r=""+h,l.call(this,h)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vp(t){t._valueTracker||(t._valueTracker=aL(t))}function vx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=mx(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Ig(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function d1(t,e){var i=e.checked;return Dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function hC(t,e){var i=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;i=go(e.value!=null?e.value:i),t._wrapperState={initialChecked:r,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yx(t,e){e=e.checked,e!=null&&Qw(t,"checked",e,!1)}function f1(t,e){yx(t,e);var i=go(e.value),r=e.type;if(i!=null)r==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?p1(t,e.type,i):e.hasOwnProperty("defaultValue")&&p1(t,e.type,go(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dC(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function p1(t,e,i){(e!=="number"||Ig(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var dh=Array.isArray;function Jl(t,e,i,r){if(t=t.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<t.length;i++)o=e.hasOwnProperty("$"+t[i].value),t[i].selected!==o&&(t[i].selected=o),o&&r&&(t[i].defaultSelected=!0)}else{for(i=""+go(i),e=null,o=0;o<t.length;o++){if(t[o].value===i){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function g1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fC(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(pe(92));if(dh(i)){if(1<i.length)throw Error(pe(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:go(i)}}function wx(t,e){var i=go(e.value),r=go(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),r!=null&&(t.defaultValue=""+r)}function pC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _x(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_x(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yp,bx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,i,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yp=yp||document.createElement("div"),yp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bh(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lL=["Webkit","ms","Moz","O"];Object.keys(Sh).forEach(function(t){lL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sh[e]=Sh[t]})});function Sx(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Sh.hasOwnProperty(t)&&Sh[t]?(""+e).trim():e+"px"}function Ex(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var r=i.indexOf("--")===0,o=Sx(i,e[i],r);i==="float"&&(i="cssFloat"),r?t.setProperty(i,o):t[i]=o}}var uL=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v1(t,e){if(e){if(uL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function y1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w1=null;function e_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _1=null,Zl=null,eu=null;function gC(t){if(t=xd(t)){if(typeof _1!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=km(e),_1(t.stateNode,t.type,e))}}function Ix(t){Zl?eu?eu.push(t):eu=[t]:Zl=t}function Cx(){if(Zl){var t=Zl,e=eu;if(eu=Zl=null,gC(t),e)for(t=0;t<e.length;t++)gC(e[t])}}function kx(t,e){return t(e)}function Tx(){}var c0=!1;function xx(t,e,i){if(c0)return t(e,i);c0=!0;try{return kx(t,e,i)}finally{c0=!1,(Zl!==null||eu!==null)&&(Tx(),Cx())}}function $h(t,e){var i=t.stateNode;if(i===null)return null;var r=km(i);if(r===null)return null;i=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(pe(231,e,typeof i));return i}var b1=!1;if(fs)try{var Zc={};Object.defineProperty(Zc,"passive",{get:function(){b1=!0}}),window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{b1=!1}function cL(t,e,i,r,o,l,h,f,g){var v=Array.prototype.slice.call(arguments,3);try{e.apply(i,v)}catch(b){this.onError(b)}}var Eh=!1,Cg=null,kg=!1,S1=null,hL={onError:function(t){Eh=!0,Cg=t}};function dL(t,e,i,r,o,l,h,f,g){Eh=!1,Cg=null,cL.apply(hL,arguments)}function fL(t,e,i,r,o,l,h,f,g){if(dL.apply(this,arguments),Eh){if(Eh){var v=Cg;Eh=!1,Cg=null}else throw Error(pe(198));kg||(kg=!0,S1=v)}}function Pa(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function Ax(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mC(t){if(Pa(t)!==t)throw Error(pe(188))}function pL(t){var e=t.alternate;if(!e){if(e=Pa(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var i=t,r=e;;){var o=i.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===i)return mC(o),t;if(l===r)return mC(o),e;l=l.sibling}throw Error(pe(188))}if(i.return!==r.return)i=o,r=l;else{for(var h=!1,f=o.child;f;){if(f===i){h=!0,i=o,r=l;break}if(f===r){h=!0,r=o,i=l;break}f=f.sibling}if(!h){for(f=l.child;f;){if(f===i){h=!0,i=l,r=o;break}if(f===r){h=!0,r=l,i=o;break}f=f.sibling}if(!h)throw Error(pe(189))}}if(i.alternate!==r)throw Error(pe(190))}if(i.tag!==3)throw Error(pe(188));return i.stateNode.current===i?t:e}function Rx(t){return t=pL(t),t!==null?Px(t):null}function Px(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Px(t);if(e!==null)return e;t=t.sibling}return null}var Dx=Mi.unstable_scheduleCallback,vC=Mi.unstable_cancelCallback,gL=Mi.unstable_shouldYield,mL=Mi.unstable_requestPaint,zt=Mi.unstable_now,vL=Mi.unstable_getCurrentPriorityLevel,t_=Mi.unstable_ImmediatePriority,Nx=Mi.unstable_UserBlockingPriority,Tg=Mi.unstable_NormalPriority,yL=Mi.unstable_LowPriority,Ox=Mi.unstable_IdlePriority,Sm=null,jr=null;function wL(t){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Sm,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:SL,_L=Math.log,bL=Math.LN2;function SL(t){return t>>>=0,t===0?32:31-(_L(t)/bL|0)|0}var wp=64,_p=4194304;function fh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xg(t,e){var i=t.pendingLanes;if(i===0)return 0;var r=0,o=t.suspendedLanes,l=t.pingedLanes,h=i&268435455;if(h!==0){var f=h&~o;f!==0?r=fh(f):(l&=h,l!==0&&(r=fh(l)))}else h=i&~o,h!==0?r=fh(h):l!==0&&(r=fh(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,l=e&-e,o>=l||o===16&&(l&4194240)!==0))return e;if(r&4&&(r|=i&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)i=31-ur(e),o=1<<i,r|=t[i],e&=~o;return r}function EL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IL(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,l=t.pendingLanes;0<l;){var h=31-ur(l),f=1<<h,g=o[h];g===-1?(!(f&i)||f&r)&&(o[h]=EL(f,e)):g<=e&&(t.expiredLanes|=f),l&=~f}}function E1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lx(){var t=wp;return wp<<=1,!(wp&4194240)&&(wp=64),t}function h0(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function kd(t,e,i){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=i}function CL(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<i;){var o=31-ur(i),l=1<<o;e[o]=0,r[o]=-1,t[o]=-1,i&=~l}}function n_(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-ur(i),o=1<<r;o&e|t[r]&e&&(t[r]|=e),i&=~o}}var dt=0;function Mx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ux,i_,Fx,jx,Bx,I1=!1,bp=[],io=null,ro=null,so=null,Vh=new Map,Gh=new Map,Qs=[],kL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yC(t,e){switch(t){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":Vh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gh.delete(e.pointerId)}}function eh(t,e,i,r,o,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},e!==null&&(e=xd(e),e!==null&&i_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function TL(t,e,i,r,o){switch(e){case"focusin":return io=eh(io,t,e,i,r,o),!0;case"dragenter":return ro=eh(ro,t,e,i,r,o),!0;case"mouseover":return so=eh(so,t,e,i,r,o),!0;case"pointerover":var l=o.pointerId;return Vh.set(l,eh(Vh.get(l)||null,t,e,i,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Gh.set(l,eh(Gh.get(l)||null,t,e,i,r,o)),!0}return!1}function $x(t){var e=ea(t.target);if(e!==null){var i=Pa(e);if(i!==null){if(e=i.tag,e===13){if(e=Ax(i),e!==null){t.blockedOn=e,Bx(t.priority,function(){Fx(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=C1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);w1=r,i.target.dispatchEvent(r),w1=null}else return e=xd(i),e!==null&&i_(e),t.blockedOn=i,!1;e.shift()}return!0}function wC(t,e,i){zp(t)&&i.delete(e)}function xL(){I1=!1,io!==null&&zp(io)&&(io=null),ro!==null&&zp(ro)&&(ro=null),so!==null&&zp(so)&&(so=null),Vh.forEach(wC),Gh.forEach(wC)}function th(t,e){t.blockedOn===e&&(t.blockedOn=null,I1||(I1=!0,Mi.unstable_scheduleCallback(Mi.unstable_NormalPriority,xL)))}function zh(t){function e(o){return th(o,t)}if(0<bp.length){th(bp[0],t);for(var i=1;i<bp.length;i++){var r=bp[i];r.blockedOn===t&&(r.blockedOn=null)}}for(io!==null&&th(io,t),ro!==null&&th(ro,t),so!==null&&th(so,t),Vh.forEach(e),Gh.forEach(e),i=0;i<Qs.length;i++)r=Qs[i],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qs.length&&(i=Qs[0],i.blockedOn===null);)$x(i),i.blockedOn===null&&Qs.shift()}var tu=Es.ReactCurrentBatchConfig,Ag=!0;function AL(t,e,i,r){var o=dt,l=tu.transition;tu.transition=null;try{dt=1,r_(t,e,i,r)}finally{dt=o,tu.transition=l}}function RL(t,e,i,r){var o=dt,l=tu.transition;tu.transition=null;try{dt=4,r_(t,e,i,r)}finally{dt=o,tu.transition=l}}function r_(t,e,i,r){if(Ag){var o=C1(t,e,i,r);if(o===null)b0(t,e,r,Rg,i),yC(t,r);else if(TL(o,t,e,i,r))r.stopPropagation();else if(yC(t,r),e&4&&-1<kL.indexOf(t)){for(;o!==null;){var l=xd(o);if(l!==null&&Ux(l),l=C1(t,e,i,r),l===null&&b0(t,e,r,Rg,i),l===o)break;o=l}o!==null&&r.stopPropagation()}else b0(t,e,r,null,i)}}var Rg=null;function C1(t,e,i,r){if(Rg=null,t=e_(r),t=ea(t),t!==null)if(e=Pa(t),e===null)t=null;else if(i=e.tag,i===13){if(t=Ax(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rg=t,null}function Vx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vL()){case t_:return 1;case Nx:return 4;case Tg:case yL:return 16;case Ox:return 536870912;default:return 16}default:return 16}}var Zs=null,s_=null,Hp=null;function Gx(){if(Hp)return Hp;var t,e=s_,i=e.length,r,o="value"in Zs?Zs.value:Zs.textContent,l=o.length;for(t=0;t<i&&e[t]===o[t];t++);var h=i-t;for(r=1;r<=h&&e[i-r]===o[l-r];r++);return Hp=o.slice(t,1<r?1-r:void 0)}function Wp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sp(){return!0}function _C(){return!1}function ji(t){function e(i,r,o,l,h){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=h,this.currentTarget=null;for(var f in t)t.hasOwnProperty(f)&&(i=t[f],this[f]=i?i(l):l[f]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Sp:_C,this.isPropagationStopped=_C,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Sp)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Sp)},persist:function(){},isPersistent:Sp}),e}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o_=ji(Ru),Td=Dt({},Ru,{view:0,detail:0}),PL=ji(Td),d0,f0,nh,Em=Dt({},Td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nh&&(nh&&t.type==="mousemove"?(d0=t.screenX-nh.screenX,f0=t.screenY-nh.screenY):f0=d0=0,nh=t),d0)},movementY:function(t){return"movementY"in t?t.movementY:f0}}),bC=ji(Em),DL=Dt({},Em,{dataTransfer:0}),NL=ji(DL),OL=Dt({},Td,{relatedTarget:0}),p0=ji(OL),LL=Dt({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),ML=ji(LL),UL=Dt({},Ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FL=ji(UL),jL=Dt({},Ru,{data:0}),SC=ji(jL),BL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$L={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VL[t])?!!e[t]:!1}function a_(){return GL}var zL=Dt({},Td,{key:function(t){if(t.key){var e=BL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$L[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a_,charCode:function(t){return t.type==="keypress"?Wp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HL=ji(zL),WL=Dt({},Em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EC=ji(WL),qL=Dt({},Td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a_}),KL=ji(qL),YL=Dt({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),QL=ji(YL),XL=Dt({},Em,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JL=ji(XL),ZL=[9,13,27,32],l_=fs&&"CompositionEvent"in window,Ih=null;fs&&"documentMode"in document&&(Ih=document.documentMode);var e4=fs&&"TextEvent"in window&&!Ih,zx=fs&&(!l_||Ih&&8<Ih&&11>=Ih),IC=String.fromCharCode(32),CC=!1;function Hx(t,e){switch(t){case"keyup":return ZL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bl=!1;function t4(t,e){switch(t){case"compositionend":return Wx(e);case"keypress":return e.which!==32?null:(CC=!0,IC);case"textInput":return t=e.data,t===IC&&CC?null:t;default:return null}}function n4(t,e){if(Bl)return t==="compositionend"||!l_&&Hx(t,e)?(t=Gx(),Hp=s_=Zs=null,Bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zx&&e.locale!=="ko"?null:e.data;default:return null}}var i4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i4[t.type]:e==="textarea"}function qx(t,e,i,r){Ix(r),e=Pg(e,"onChange"),0<e.length&&(i=new o_("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var Ch=null,Hh=null;function r4(t){rA(t,0)}function Im(t){var e=Gl(t);if(vx(e))return t}function s4(t,e){if(t==="change")return e}var Kx=!1;if(fs){var g0;if(fs){var m0="oninput"in document;if(!m0){var TC=document.createElement("div");TC.setAttribute("oninput","return;"),m0=typeof TC.oninput=="function"}g0=m0}else g0=!1;Kx=g0&&(!document.documentMode||9<document.documentMode)}function xC(){Ch&&(Ch.detachEvent("onpropertychange",Yx),Hh=Ch=null)}function Yx(t){if(t.propertyName==="value"&&Im(Hh)){var e=[];qx(e,Hh,t,e_(t)),xx(r4,e)}}function o4(t,e,i){t==="focusin"?(xC(),Ch=e,Hh=i,Ch.attachEvent("onpropertychange",Yx)):t==="focusout"&&xC()}function a4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Im(Hh)}function l4(t,e){if(t==="click")return Im(e)}function u4(t,e){if(t==="input"||t==="change")return Im(e)}function c4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:c4;function Wh(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!a1.call(e,o)||!dr(t[o],e[o]))return!1}return!0}function AC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function RC(t,e){var i=AC(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=AC(i)}}function Qx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xx(){for(var t=window,e=Ig();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Ig(t.document)}return e}function u_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function h4(t){var e=Xx(),i=t.focusedElem,r=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&Qx(i.ownerDocument.documentElement,i)){if(r!==null&&u_(i)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(t=(e=i.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=i.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!t.extend&&l>r&&(o=r,r=l,l=o),o=RC(i,l);var h=RC(i,r);o&&h&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==h.node||t.focusOffset!==h.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),l>r?(t.addRange(e),t.extend(h.node,h.offset)):(e.setEnd(h.node,h.offset),t.addRange(e)))}}for(e=[],t=i;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)t=e[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var d4=fs&&"documentMode"in document&&11>=document.documentMode,$l=null,k1=null,kh=null,T1=!1;function PC(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;T1||$l==null||$l!==Ig(r)||(r=$l,"selectionStart"in r&&u_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kh&&Wh(kh,r)||(kh=r,r=Pg(k1,"onSelect"),0<r.length&&(e=new o_("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=$l)))}function Ep(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Vl={animationend:Ep("Animation","AnimationEnd"),animationiteration:Ep("Animation","AnimationIteration"),animationstart:Ep("Animation","AnimationStart"),transitionend:Ep("Transition","TransitionEnd")},v0={},Jx={};fs&&(Jx=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function Cm(t){if(v0[t])return v0[t];if(!Vl[t])return t;var e=Vl[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Jx)return v0[t]=e[i];return t}var Zx=Cm("animationend"),eA=Cm("animationiteration"),tA=Cm("animationstart"),nA=Cm("transitionend"),iA=new Map,DC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(t,e){iA.set(t,e),Ra(e,[t])}for(var y0=0;y0<DC.length;y0++){var w0=DC[y0],f4=w0.toLowerCase(),p4=w0[0].toUpperCase()+w0.slice(1);Eo(f4,"on"+p4)}Eo(Zx,"onAnimationEnd");Eo(eA,"onAnimationIteration");Eo(tA,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(nA,"onTransitionEnd");cu("onMouseEnter",["mouseout","mouseover"]);cu("onMouseLeave",["mouseout","mouseover"]);cu("onPointerEnter",["pointerout","pointerover"]);cu("onPointerLeave",["pointerout","pointerover"]);Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ph));function NC(t,e,i){var r=t.type||"unknown-event";t.currentTarget=i,fL(r,e,void 0,t),t.currentTarget=null}function rA(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],o=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var h=r.length-1;0<=h;h--){var f=r[h],g=f.instance,v=f.currentTarget;if(f=f.listener,g!==l&&o.isPropagationStopped())break e;NC(o,f,v),l=g}else for(h=0;h<r.length;h++){if(f=r[h],g=f.instance,v=f.currentTarget,f=f.listener,g!==l&&o.isPropagationStopped())break e;NC(o,f,v),l=g}}}if(kg)throw t=S1,kg=!1,S1=null,t}function wt(t,e){var i=e[D1];i===void 0&&(i=e[D1]=new Set);var r=t+"__bubble";i.has(r)||(sA(e,t,2,!1),i.add(r))}function _0(t,e,i){var r=0;e&&(r|=4),sA(i,t,r,e)}var Ip="_reactListening"+Math.random().toString(36).slice(2);function qh(t){if(!t[Ip]){t[Ip]=!0,dx.forEach(function(i){i!=="selectionchange"&&(g4.has(i)||_0(i,!1,t),_0(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ip]||(e[Ip]=!0,_0("selectionchange",!1,e))}}function sA(t,e,i,r){switch(Vx(e)){case 1:var o=AL;break;case 4:o=RL;break;default:o=r_}i=o.bind(null,e,i,t),o=void 0,!b1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,i,{capture:!0,passive:o}):t.addEventListener(e,i,!0):o!==void 0?t.addEventListener(e,i,{passive:o}):t.addEventListener(e,i,!1)}function b0(t,e,i,r,o){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var f=r.stateNode.containerInfo;if(f===o||f.nodeType===8&&f.parentNode===o)break;if(h===4)for(h=r.return;h!==null;){var g=h.tag;if((g===3||g===4)&&(g=h.stateNode.containerInfo,g===o||g.nodeType===8&&g.parentNode===o))return;h=h.return}for(;f!==null;){if(h=ea(f),h===null)return;if(g=h.tag,g===5||g===6){r=l=h;continue e}f=f.parentNode}}r=r.return}xx(function(){var v=l,b=e_(i),S=[];e:{var P=iA.get(t);if(P!==void 0){var $=o_,j=t;switch(t){case"keypress":if(Wp(i)===0)break e;case"keydown":case"keyup":$=HL;break;case"focusin":j="focus",$=p0;break;case"focusout":j="blur",$=p0;break;case"beforeblur":case"afterblur":$=p0;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=bC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=NL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=KL;break;case Zx:case eA:case tA:$=ML;break;case nA:$=QL;break;case"scroll":$=PL;break;case"wheel":$=JL;break;case"copy":case"cut":case"paste":$=FL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=EC}var I=(e&4)!==0,D=!I&&t==="scroll",C=I?P!==null?P+"Capture":null:P;I=[];for(var x=v,O;x!==null;){O=x;var L=O.stateNode;if(O.tag===5&&L!==null&&(O=L,C!==null&&(L=$h(x,C),L!=null&&I.push(Kh(x,L,O)))),D)break;x=x.return}0<I.length&&(P=new $(P,j,null,i,b),S.push({event:P,listeners:I}))}}if(!(e&7)){e:{if(P=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",P&&i!==w1&&(j=i.relatedTarget||i.fromElement)&&(ea(j)||j[ps]))break e;if(($||P)&&(P=b.window===b?b:(P=b.ownerDocument)?P.defaultView||P.parentWindow:window,$?(j=i.relatedTarget||i.toElement,$=v,j=j?ea(j):null,j!==null&&(D=Pa(j),j!==D||j.tag!==5&&j.tag!==6)&&(j=null)):($=null,j=v),$!==j)){if(I=bC,L="onMouseLeave",C="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(I=EC,L="onPointerLeave",C="onPointerEnter",x="pointer"),D=$==null?P:Gl($),O=j==null?P:Gl(j),P=new I(L,x+"leave",$,i,b),P.target=D,P.relatedTarget=O,L=null,ea(b)===v&&(I=new I(C,x+"enter",j,i,b),I.target=O,I.relatedTarget=D,L=I),D=L,$&&j)t:{for(I=$,C=j,x=0,O=I;O;O=Ol(O))x++;for(O=0,L=C;L;L=Ol(L))O++;for(;0<x-O;)I=Ol(I),x--;for(;0<O-x;)C=Ol(C),O--;for(;x--;){if(I===C||C!==null&&I===C.alternate)break t;I=Ol(I),C=Ol(C)}I=null}else I=null;$!==null&&OC(S,P,$,I,!1),j!==null&&D!==null&&OC(S,D,j,I,!0)}}e:{if(P=v?Gl(v):window,$=P.nodeName&&P.nodeName.toLowerCase(),$==="select"||$==="input"&&P.type==="file")var N=s4;else if(kC(P))if(Kx)N=u4;else{N=a4;var H=o4}else($=P.nodeName)&&$.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(N=l4);if(N&&(N=N(t,v))){qx(S,N,i,b);break e}H&&H(t,P,v),t==="focusout"&&(H=P._wrapperState)&&H.controlled&&P.type==="number"&&p1(P,"number",P.value)}switch(H=v?Gl(v):window,t){case"focusin":(kC(H)||H.contentEditable==="true")&&($l=H,k1=v,kh=null);break;case"focusout":kh=k1=$l=null;break;case"mousedown":T1=!0;break;case"contextmenu":case"mouseup":case"dragend":T1=!1,PC(S,i,b);break;case"selectionchange":if(d4)break;case"keydown":case"keyup":PC(S,i,b)}var F;if(l_)e:{switch(t){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Bl?Hx(t,i)&&(q="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(q="onCompositionStart");q&&(zx&&i.locale!=="ko"&&(Bl||q!=="onCompositionStart"?q==="onCompositionEnd"&&Bl&&(F=Gx()):(Zs=b,s_="value"in Zs?Zs.value:Zs.textContent,Bl=!0)),H=Pg(v,q),0<H.length&&(q=new SC(q,t,null,i,b),S.push({event:q,listeners:H}),F?q.data=F:(F=Wx(i),F!==null&&(q.data=F)))),(F=e4?t4(t,i):n4(t,i))&&(v=Pg(v,"onBeforeInput"),0<v.length&&(b=new SC("onBeforeInput","beforeinput",null,i,b),S.push({event:b,listeners:v}),b.data=F))}rA(S,e)})}function Kh(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Pg(t,e){for(var i=e+"Capture",r=[];t!==null;){var o=t,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=$h(t,i),l!=null&&r.unshift(Kh(t,l,o)),l=$h(t,e),l!=null&&r.push(Kh(t,l,o))),t=t.return}return r}function Ol(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function OC(t,e,i,r,o){for(var l=e._reactName,h=[];i!==null&&i!==r;){var f=i,g=f.alternate,v=f.stateNode;if(g!==null&&g===r)break;f.tag===5&&v!==null&&(f=v,o?(g=$h(i,l),g!=null&&h.unshift(Kh(i,g,f))):o||(g=$h(i,l),g!=null&&h.push(Kh(i,g,f)))),i=i.return}h.length!==0&&t.push({event:e,listeners:h})}var m4=/\r\n?/g,v4=/\u0000|\uFFFD/g;function LC(t){return(typeof t=="string"?t:""+t).replace(m4,`
`).replace(v4,"")}function Cp(t,e,i){if(e=LC(e),LC(t)!==e&&i)throw Error(pe(425))}function Dg(){}var x1=null,A1=null;function R1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var P1=typeof setTimeout=="function"?setTimeout:void 0,y4=typeof clearTimeout=="function"?clearTimeout:void 0,MC=typeof Promise=="function"?Promise:void 0,w4=typeof queueMicrotask=="function"?queueMicrotask:typeof MC<"u"?function(t){return MC.resolve(null).then(t).catch(_4)}:P1;function _4(t){setTimeout(function(){throw t})}function S0(t,e){var i=e,r=0;do{var o=i.nextSibling;if(t.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(r===0){t.removeChild(o),zh(e);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=o}while(i);zh(e)}function oo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var Pu=Math.random().toString(36).slice(2),Dr="__reactFiber$"+Pu,Yh="__reactProps$"+Pu,ps="__reactContainer$"+Pu,D1="__reactEvents$"+Pu,b4="__reactListeners$"+Pu,S4="__reactHandles$"+Pu;function ea(t){var e=t[Dr];if(e)return e;for(var i=t.parentNode;i;){if(e=i[ps]||i[Dr]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=UC(t);t!==null;){if(i=t[Dr])return i;t=UC(t)}return e}t=i,i=t.parentNode}return null}function xd(t){return t=t[Dr]||t[ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function km(t){return t[Yh]||null}var N1=[],zl=-1;function Io(t){return{current:t}}function bt(t){0>zl||(t.current=N1[zl],N1[zl]=null,zl--)}function mt(t,e){zl++,N1[zl]=t.current,t.current=e}var mo={},Hn=Io(mo),gi=Io(!1),ma=mo;function hu(t,e){var i=t.type.contextTypes;if(!i)return mo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in i)o[l]=e[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return t=t.childContextTypes,t!=null}function Ng(){bt(gi),bt(Hn)}function FC(t,e,i){if(Hn.current!==mo)throw Error(pe(168));mt(Hn,e),mt(gi,i)}function oA(t,e,i){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(pe(108,oL(t)||"Unknown",o));return Dt({},i,r)}function Og(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mo,ma=Hn.current,mt(Hn,t),mt(gi,gi.current),!0}function jC(t,e,i){var r=t.stateNode;if(!r)throw Error(pe(169));i?(t=oA(t,e,ma),r.__reactInternalMemoizedMergedChildContext=t,bt(gi),bt(Hn),mt(Hn,t)):bt(gi),mt(gi,i)}var is=null,Tm=!1,E0=!1;function aA(t){is===null?is=[t]:is.push(t)}function E4(t){Tm=!0,aA(t)}function Co(){if(!E0&&is!==null){E0=!0;var t=0,e=dt;try{var i=is;for(dt=1;t<i.length;t++){var r=i[t];do r=r(!0);while(r!==null)}is=null,Tm=!1}catch(o){throw is!==null&&(is=is.slice(t+1)),Dx(t_,Co),o}finally{dt=e,E0=!1}}return null}var Hl=[],Wl=0,Lg=null,Mg=0,Gi=[],zi=0,va=null,rs=1,ss="";function Xo(t,e){Hl[Wl++]=Mg,Hl[Wl++]=Lg,Lg=t,Mg=e}function lA(t,e,i){Gi[zi++]=rs,Gi[zi++]=ss,Gi[zi++]=va,va=t;var r=rs;t=ss;var o=32-ur(r)-1;r&=~(1<<o),i+=1;var l=32-ur(e)+o;if(30<l){var h=o-o%5;l=(r&(1<<h)-1).toString(32),r>>=h,o-=h,rs=1<<32-ur(e)+o|i<<o|r,ss=l+t}else rs=1<<l|i<<o|r,ss=t}function c_(t){t.return!==null&&(Xo(t,1),lA(t,1,0))}function h_(t){for(;t===Lg;)Lg=Hl[--Wl],Hl[Wl]=null,Mg=Hl[--Wl],Hl[Wl]=null;for(;t===va;)va=Gi[--zi],Gi[zi]=null,ss=Gi[--zi],Gi[zi]=null,rs=Gi[--zi],Gi[zi]=null}var Ni=null,Ai=null,Ct=!1,ar=null;function uA(t,e){var i=Hi(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)}function BC(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ni=t,Ai=oo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ni=t,Ai=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=va!==null?{id:rs,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=Hi(18,null,null,0),i.stateNode=e,i.return=t,t.child=i,Ni=t,Ai=null,!0):!1;default:return!1}}function O1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function L1(t){if(Ct){var e=Ai;if(e){var i=e;if(!BC(t,e)){if(O1(t))throw Error(pe(418));e=oo(i.nextSibling);var r=Ni;e&&BC(t,e)?uA(r,i):(t.flags=t.flags&-4097|2,Ct=!1,Ni=t)}}else{if(O1(t))throw Error(pe(418));t.flags=t.flags&-4097|2,Ct=!1,Ni=t}}}function $C(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ni=t}function kp(t){if(t!==Ni)return!1;if(!Ct)return $C(t),Ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!R1(t.type,t.memoizedProps)),e&&(e=Ai)){if(O1(t))throw cA(),Error(pe(418));for(;e;)uA(t,e),e=oo(e.nextSibling)}if($C(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){Ai=oo(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}Ai=null}}else Ai=Ni?oo(t.stateNode.nextSibling):null;return!0}function cA(){for(var t=Ai;t;)t=oo(t.nextSibling)}function du(){Ai=Ni=null,Ct=!1}function d_(t){ar===null?ar=[t]:ar.push(t)}var I4=Es.ReactCurrentBatchConfig;function sr(t,e){if(t&&t.defaultProps){e=Dt({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}var Ug=Io(null),Fg=null,ql=null,f_=null;function p_(){f_=ql=Fg=null}function g_(t){var e=Ug.current;bt(Ug),t._currentValue=e}function M1(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function nu(t,e){Fg=t,f_=ql=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pi=!0),t.firstContext=null)}function Ki(t){var e=t._currentValue;if(f_!==t)if(t={context:t,memoizedValue:e,next:null},ql===null){if(Fg===null)throw Error(pe(308));ql=t,Fg.dependencies={lanes:0,firstContext:t}}else ql=ql.next=t;return e}var ta=null;function m_(t){ta===null?ta=[t]:ta.push(t)}function hA(t,e,i,r){var o=e.interleaved;return o===null?(i.next=i,m_(e)):(i.next=o.next,o.next=i),e.interleaved=i,gs(t,r)}function gs(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}var Ys=!1;function v_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ao(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,gs(t,i)}return o=r.interleaved,o===null?(e.next=e,m_(r)):(e.next=o.next,o.next=e),r.interleaved=e,gs(t,i)}function qp(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,n_(t,i)}}function VC(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?o=l=h:l=l.next=h,i=i.next}while(i!==null);l===null?o=l=e:l=l.next=e}else o=l=e;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function jg(t,e,i,r){var o=t.updateQueue;Ys=!1;var l=o.firstBaseUpdate,h=o.lastBaseUpdate,f=o.shared.pending;if(f!==null){o.shared.pending=null;var g=f,v=g.next;g.next=null,h===null?l=v:h.next=v,h=g;var b=t.alternate;b!==null&&(b=b.updateQueue,f=b.lastBaseUpdate,f!==h&&(f===null?b.firstBaseUpdate=v:f.next=v,b.lastBaseUpdate=g))}if(l!==null){var S=o.baseState;h=0,b=v=g=null,f=l;do{var P=f.lane,$=f.eventTime;if((r&P)===P){b!==null&&(b=b.next={eventTime:$,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var j=t,I=f;switch(P=e,$=i,I.tag){case 1:if(j=I.payload,typeof j=="function"){S=j.call($,S,P);break e}S=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=I.payload,P=typeof j=="function"?j.call($,S,P):j,P==null)break e;S=Dt({},S,P);break e;case 2:Ys=!0}}f.callback!==null&&f.lane!==0&&(t.flags|=64,P=o.effects,P===null?o.effects=[f]:P.push(f))}else $={eventTime:$,lane:P,tag:f.tag,payload:f.payload,callback:f.callback,next:null},b===null?(v=b=$,g=S):b=b.next=$,h|=P;if(f=f.next,f===null){if(f=o.shared.pending,f===null)break;P=f,f=P.next,P.next=null,o.lastBaseUpdate=P,o.shared.pending=null}}while(1);if(b===null&&(g=S),o.baseState=g,o.firstBaseUpdate=v,o.lastBaseUpdate=b,e=o.shared.interleaved,e!==null){o=e;do h|=o.lane,o=o.next;while(o!==e)}else l===null&&(o.shared.lanes=0);wa|=h,t.lanes=h,t.memoizedState=S}}function GC(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=i,typeof o!="function")throw Error(pe(191,o));o.call(r)}}}var fA=new hx.Component().refs;function U1(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:Dt({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var xm={isMounted:function(t){return(t=t._reactInternals)?Pa(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var r=ni(),o=uo(t),l=us(r,o);l.payload=e,i!=null&&(l.callback=i),e=ao(t,l,o),e!==null&&(cr(e,t,o,r),qp(e,t,o))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=ni(),o=uo(t),l=us(r,o);l.tag=1,l.payload=e,i!=null&&(l.callback=i),e=ao(t,l,o),e!==null&&(cr(e,t,o,r),qp(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=ni(),r=uo(t),o=us(i,r);o.tag=2,e!=null&&(o.callback=e),e=ao(t,o,r),e!==null&&(cr(e,t,r,i),qp(e,t,r))}};function zC(t,e,i,r,o,l,h){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,h):e.prototype&&e.prototype.isPureReactComponent?!Wh(i,r)||!Wh(o,l):!0}function pA(t,e,i){var r=!1,o=mo,l=e.contextType;return typeof l=="object"&&l!==null?l=Ki(l):(o=mi(e)?ma:Hn.current,r=e.contextTypes,l=(r=r!=null)?hu(t,o):mo),e=new e(i,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=l),e}function HC(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&xm.enqueueReplaceState(e,e.state,null)}function F1(t,e,i,r){var o=t.stateNode;o.props=i,o.state=t.memoizedState,o.refs=fA,v_(t);var l=e.contextType;typeof l=="object"&&l!==null?o.context=Ki(l):(l=mi(e)?ma:Hn.current,o.context=hu(t,l)),o.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(U1(t,e,l,i),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&xm.enqueueReplaceState(o,o.state,null),jg(t,i,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function ih(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(pe(309));var r=i.stateNode}if(!r)throw Error(pe(147,t));var o=r,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(h){var f=o.refs;f===fA&&(f=o.refs={}),h===null?delete f[l]:f[l]=h},e._stringRef=l,e)}if(typeof t!="string")throw Error(pe(284));if(!i._owner)throw Error(pe(290,t))}return t}function Tp(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WC(t){var e=t._init;return e(t._payload)}function gA(t){function e(C,x){if(t){var O=C.deletions;O===null?(C.deletions=[x],C.flags|=16):O.push(x)}}function i(C,x){if(!t)return null;for(;x!==null;)e(C,x),x=x.sibling;return null}function r(C,x){for(C=new Map;x!==null;)x.key!==null?C.set(x.key,x):C.set(x.index,x),x=x.sibling;return C}function o(C,x){return C=co(C,x),C.index=0,C.sibling=null,C}function l(C,x,O){return C.index=O,t?(O=C.alternate,O!==null?(O=O.index,O<x?(C.flags|=2,x):O):(C.flags|=2,x)):(C.flags|=1048576,x)}function h(C){return t&&C.alternate===null&&(C.flags|=2),C}function f(C,x,O,L){return x===null||x.tag!==6?(x=R0(O,C.mode,L),x.return=C,x):(x=o(x,O),x.return=C,x)}function g(C,x,O,L){var N=O.type;return N===jl?b(C,x,O.props.children,L,O.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ks&&WC(N)===x.type)?(L=o(x,O.props),L.ref=ih(C,x,O),L.return=C,L):(L=Zp(O.type,O.key,O.props,null,C.mode,L),L.ref=ih(C,x,O),L.return=C,L)}function v(C,x,O,L){return x===null||x.tag!==4||x.stateNode.containerInfo!==O.containerInfo||x.stateNode.implementation!==O.implementation?(x=P0(O,C.mode,L),x.return=C,x):(x=o(x,O.children||[]),x.return=C,x)}function b(C,x,O,L,N){return x===null||x.tag!==7?(x=la(O,C.mode,L,N),x.return=C,x):(x=o(x,O),x.return=C,x)}function S(C,x,O){if(typeof x=="string"&&x!==""||typeof x=="number")return x=R0(""+x,C.mode,O),x.return=C,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mp:return O=Zp(x.type,x.key,x.props,null,C.mode,O),O.ref=ih(C,null,x),O.return=C,O;case Fl:return x=P0(x,C.mode,O),x.return=C,x;case Ks:var L=x._init;return S(C,L(x._payload),O)}if(dh(x)||Jc(x))return x=la(x,C.mode,O,null),x.return=C,x;Tp(C,x)}return null}function P(C,x,O,L){var N=x!==null?x.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return N!==null?null:f(C,x,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case mp:return O.key===N?g(C,x,O,L):null;case Fl:return O.key===N?v(C,x,O,L):null;case Ks:return N=O._init,P(C,x,N(O._payload),L)}if(dh(O)||Jc(O))return N!==null?null:b(C,x,O,L,null);Tp(C,O)}return null}function $(C,x,O,L,N){if(typeof L=="string"&&L!==""||typeof L=="number")return C=C.get(O)||null,f(x,C,""+L,N);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case mp:return C=C.get(L.key===null?O:L.key)||null,g(x,C,L,N);case Fl:return C=C.get(L.key===null?O:L.key)||null,v(x,C,L,N);case Ks:var H=L._init;return $(C,x,O,H(L._payload),N)}if(dh(L)||Jc(L))return C=C.get(O)||null,b(x,C,L,N,null);Tp(x,L)}return null}function j(C,x,O,L){for(var N=null,H=null,F=x,q=x=0,se=null;F!==null&&q<O.length;q++){F.index>q?(se=F,F=null):se=F.sibling;var Z=P(C,F,O[q],L);if(Z===null){F===null&&(F=se);break}t&&F&&Z.alternate===null&&e(C,F),x=l(Z,x,q),H===null?N=Z:H.sibling=Z,H=Z,F=se}if(q===O.length)return i(C,F),Ct&&Xo(C,q),N;if(F===null){for(;q<O.length;q++)F=S(C,O[q],L),F!==null&&(x=l(F,x,q),H===null?N=F:H.sibling=F,H=F);return Ct&&Xo(C,q),N}for(F=r(C,F);q<O.length;q++)se=$(F,C,q,O[q],L),se!==null&&(t&&se.alternate!==null&&F.delete(se.key===null?q:se.key),x=l(se,x,q),H===null?N=se:H.sibling=se,H=se);return t&&F.forEach(function(z){return e(C,z)}),Ct&&Xo(C,q),N}function I(C,x,O,L){var N=Jc(O);if(typeof N!="function")throw Error(pe(150));if(O=N.call(O),O==null)throw Error(pe(151));for(var H=N=null,F=x,q=x=0,se=null,Z=O.next();F!==null&&!Z.done;q++,Z=O.next()){F.index>q?(se=F,F=null):se=F.sibling;var z=P(C,F,Z.value,L);if(z===null){F===null&&(F=se);break}t&&F&&z.alternate===null&&e(C,F),x=l(z,x,q),H===null?N=z:H.sibling=z,H=z,F=se}if(Z.done)return i(C,F),Ct&&Xo(C,q),N;if(F===null){for(;!Z.done;q++,Z=O.next())Z=S(C,Z.value,L),Z!==null&&(x=l(Z,x,q),H===null?N=Z:H.sibling=Z,H=Z);return Ct&&Xo(C,q),N}for(F=r(C,F);!Z.done;q++,Z=O.next())Z=$(F,C,q,Z.value,L),Z!==null&&(t&&Z.alternate!==null&&F.delete(Z.key===null?q:Z.key),x=l(Z,x,q),H===null?N=Z:H.sibling=Z,H=Z);return t&&F.forEach(function(W){return e(C,W)}),Ct&&Xo(C,q),N}function D(C,x,O,L){if(typeof O=="object"&&O!==null&&O.type===jl&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case mp:e:{for(var N=O.key,H=x;H!==null;){if(H.key===N){if(N=O.type,N===jl){if(H.tag===7){i(C,H.sibling),x=o(H,O.props.children),x.return=C,C=x;break e}}else if(H.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ks&&WC(N)===H.type){i(C,H.sibling),x=o(H,O.props),x.ref=ih(C,H,O),x.return=C,C=x;break e}i(C,H);break}else e(C,H);H=H.sibling}O.type===jl?(x=la(O.props.children,C.mode,L,O.key),x.return=C,C=x):(L=Zp(O.type,O.key,O.props,null,C.mode,L),L.ref=ih(C,x,O),L.return=C,C=L)}return h(C);case Fl:e:{for(H=O.key;x!==null;){if(x.key===H)if(x.tag===4&&x.stateNode.containerInfo===O.containerInfo&&x.stateNode.implementation===O.implementation){i(C,x.sibling),x=o(x,O.children||[]),x.return=C,C=x;break e}else{i(C,x);break}else e(C,x);x=x.sibling}x=P0(O,C.mode,L),x.return=C,C=x}return h(C);case Ks:return H=O._init,D(C,x,H(O._payload),L)}if(dh(O))return j(C,x,O,L);if(Jc(O))return I(C,x,O,L);Tp(C,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,x!==null&&x.tag===6?(i(C,x.sibling),x=o(x,O),x.return=C,C=x):(i(C,x),x=R0(O,C.mode,L),x.return=C,C=x),h(C)):i(C,x)}return D}var fu=gA(!0),mA=gA(!1),Ad={},Br=Io(Ad),Qh=Io(Ad),Xh=Io(Ad);function na(t){if(t===Ad)throw Error(pe(174));return t}function y_(t,e){switch(mt(Xh,e),mt(Qh,t),mt(Br,Ad),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:m1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=m1(e,t)}bt(Br),mt(Br,e)}function pu(){bt(Br),bt(Qh),bt(Xh)}function vA(t){na(Xh.current);var e=na(Br.current),i=m1(e,t.type);e!==i&&(mt(Qh,t),mt(Br,i))}function w_(t){Qh.current===t&&(bt(Br),bt(Qh))}var At=Io(0);function Bg(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var I0=[];function __(){for(var t=0;t<I0.length;t++)I0[t]._workInProgressVersionPrimary=null;I0.length=0}var Kp=Es.ReactCurrentDispatcher,C0=Es.ReactCurrentBatchConfig,ya=0,Rt=null,rn=null,wn=null,$g=!1,Th=!1,Jh=0,C4=0;function On(){throw Error(pe(321))}function b_(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!dr(t[i],e[i]))return!1;return!0}function S_(t,e,i,r,o,l){if(ya=l,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kp.current=t===null||t.memoizedState===null?A4:R4,t=i(r,o),Th){l=0;do{if(Th=!1,Jh=0,25<=l)throw Error(pe(301));l+=1,wn=rn=null,e.updateQueue=null,Kp.current=P4,t=i(r,o)}while(Th)}if(Kp.current=Vg,e=rn!==null&&rn.next!==null,ya=0,wn=rn=Rt=null,$g=!1,e)throw Error(pe(300));return t}function E_(){var t=Jh!==0;return Jh=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Rt.memoizedState=wn=t:wn=wn.next=t,wn}function Yi(){if(rn===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=rn.next;var e=wn===null?Rt.memoizedState:wn.next;if(e!==null)wn=e,rn=t;else{if(t===null)throw Error(pe(310));rn=t,t={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},wn===null?Rt.memoizedState=wn=t:wn=wn.next=t}return wn}function Zh(t,e){return typeof e=="function"?e(t):e}function k0(t){var e=Yi(),i=e.queue;if(i===null)throw Error(pe(311));i.lastRenderedReducer=t;var r=rn,o=r.baseQueue,l=i.pending;if(l!==null){if(o!==null){var h=o.next;o.next=l.next,l.next=h}r.baseQueue=o=l,i.pending=null}if(o!==null){l=o.next,r=r.baseState;var f=h=null,g=null,v=l;do{var b=v.lane;if((ya&b)===b)g!==null&&(g=g.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:t(r,v.action);else{var S={lane:b,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};g===null?(f=g=S,h=r):g=g.next=S,Rt.lanes|=b,wa|=b}v=v.next}while(v!==null&&v!==l);g===null?h=r:g.next=f,dr(r,e.memoizedState)||(pi=!0),e.memoizedState=r,e.baseState=h,e.baseQueue=g,i.lastRenderedState=r}if(t=i.interleaved,t!==null){o=t;do l=o.lane,Rt.lanes|=l,wa|=l,o=o.next;while(o!==t)}else o===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function T0(t){var e=Yi(),i=e.queue;if(i===null)throw Error(pe(311));i.lastRenderedReducer=t;var r=i.dispatch,o=i.pending,l=e.memoizedState;if(o!==null){i.pending=null;var h=o=o.next;do l=t(l,h.action),h=h.next;while(h!==o);dr(l,e.memoizedState)||(pi=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),i.lastRenderedState=l}return[l,r]}function yA(){}function wA(t,e){var i=Rt,r=Yi(),o=e(),l=!dr(r.memoizedState,o);if(l&&(r.memoizedState=o,pi=!0),r=r.queue,I_(SA.bind(null,i,r,t),[t]),r.getSnapshot!==e||l||wn!==null&&wn.memoizedState.tag&1){if(i.flags|=2048,ed(9,bA.bind(null,i,r,o,e),void 0,null),_n===null)throw Error(pe(349));ya&30||_A(i,e,o)}return o}function _A(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function bA(t,e,i,r){e.value=i,e.getSnapshot=r,EA(e)&&IA(t)}function SA(t,e,i){return i(function(){EA(e)&&IA(t)})}function EA(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!dr(t,i)}catch{return!0}}function IA(t){var e=gs(t,1);e!==null&&cr(e,t,1,-1)}function qC(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zh,lastRenderedState:t},e.queue=t,t=t.dispatch=x4.bind(null,Rt,t),[e.memoizedState,t]}function ed(t,e,i,r){return t={tag:t,create:e,destroy:i,deps:r,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t)),t}function CA(){return Yi().memoizedState}function Yp(t,e,i,r){var o=Pr();Rt.flags|=t,o.memoizedState=ed(1|e,i,void 0,r===void 0?null:r)}function Am(t,e,i,r){var o=Yi();r=r===void 0?null:r;var l=void 0;if(rn!==null){var h=rn.memoizedState;if(l=h.destroy,r!==null&&b_(r,h.deps)){o.memoizedState=ed(e,i,l,r);return}}Rt.flags|=t,o.memoizedState=ed(1|e,i,l,r)}function KC(t,e){return Yp(8390656,8,t,e)}function I_(t,e){return Am(2048,8,t,e)}function kA(t,e){return Am(4,2,t,e)}function TA(t,e){return Am(4,4,t,e)}function xA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AA(t,e,i){return i=i!=null?i.concat([t]):null,Am(4,4,xA.bind(null,e,t),i)}function C_(){}function RA(t,e){var i=Yi();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&b_(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function PA(t,e){var i=Yi();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&b_(e,r[1])?r[0]:(t=t(),i.memoizedState=[t,e],t)}function DA(t,e,i){return ya&21?(dr(i,e)||(i=Lx(),Rt.lanes|=i,wa|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pi=!0),t.memoizedState=i)}function k4(t,e){var i=dt;dt=i!==0&&4>i?i:4,t(!0);var r=C0.transition;C0.transition={};try{t(!1),e()}finally{dt=i,C0.transition=r}}function NA(){return Yi().memoizedState}function T4(t,e,i){var r=uo(t);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},OA(t))LA(e,i);else if(i=hA(t,e,i,r),i!==null){var o=ni();cr(i,t,r,o),MA(i,e,r)}}function x4(t,e,i){var r=uo(t),o={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(OA(t))LA(e,o);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var h=e.lastRenderedState,f=l(h,i);if(o.hasEagerState=!0,o.eagerState=f,dr(f,h)){var g=e.interleaved;g===null?(o.next=o,m_(e)):(o.next=g.next,g.next=o),e.interleaved=o;return}}catch{}finally{}i=hA(t,e,o,r),i!==null&&(o=ni(),cr(i,t,r,o),MA(i,e,r))}}function OA(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function LA(t,e){Th=$g=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function MA(t,e,i){if(i&4194240){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,n_(t,i)}}var Vg={readContext:Ki,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},A4={readContext:Ki,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:Ki,useEffect:KC,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,Yp(4194308,4,xA.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Yp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yp(4,2,t,e)},useMemo:function(t,e){var i=Pr();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var r=Pr();return e=i!==void 0?i(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=T4.bind(null,Rt,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:qC,useDebugValue:C_,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=qC(!1),e=t[0];return t=k4.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var r=Rt,o=Pr();if(Ct){if(i===void 0)throw Error(pe(407));i=i()}else{if(i=e(),_n===null)throw Error(pe(349));ya&30||_A(r,e,i)}o.memoizedState=i;var l={value:i,getSnapshot:e};return o.queue=l,KC(SA.bind(null,r,l,t),[t]),r.flags|=2048,ed(9,bA.bind(null,r,l,i,e),void 0,null),i},useId:function(){var t=Pr(),e=_n.identifierPrefix;if(Ct){var i=ss,r=rs;i=(r&~(1<<32-ur(r)-1)).toString(32)+i,e=":"+e+"R"+i,i=Jh++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=C4++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R4={readContext:Ki,useCallback:RA,useContext:Ki,useEffect:I_,useImperativeHandle:AA,useInsertionEffect:kA,useLayoutEffect:TA,useMemo:PA,useReducer:k0,useRef:CA,useState:function(){return k0(Zh)},useDebugValue:C_,useDeferredValue:function(t){var e=Yi();return DA(e,rn.memoizedState,t)},useTransition:function(){var t=k0(Zh)[0],e=Yi().memoizedState;return[t,e]},useMutableSource:yA,useSyncExternalStore:wA,useId:NA,unstable_isNewReconciler:!1},P4={readContext:Ki,useCallback:RA,useContext:Ki,useEffect:I_,useImperativeHandle:AA,useInsertionEffect:kA,useLayoutEffect:TA,useMemo:PA,useReducer:T0,useRef:CA,useState:function(){return T0(Zh)},useDebugValue:C_,useDeferredValue:function(t){var e=Yi();return rn===null?e.memoizedState=t:DA(e,rn.memoizedState,t)},useTransition:function(){var t=T0(Zh)[0],e=Yi().memoizedState;return[t,e]},useMutableSource:yA,useSyncExternalStore:wA,useId:NA,unstable_isNewReconciler:!1};function gu(t,e){try{var i="",r=e;do i+=sL(r),r=r.return;while(r);var o=i}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:o,digest:null}}function x0(t,e,i){return{value:t,source:null,stack:i??null,digest:e??null}}function j1(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var D4=typeof WeakMap=="function"?WeakMap:Map;function UA(t,e,i){i=us(-1,i),i.tag=3,i.payload={element:null};var r=e.value;return i.callback=function(){zg||(zg=!0,Y1=r),j1(t,e)},i}function FA(t,e,i){i=us(-1,i),i.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;i.payload=function(){return r(o)},i.callback=function(){j1(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){j1(t,e),typeof r!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var h=e.stack;this.componentDidCatch(e.value,{componentStack:h!==null?h:""})}),i}function YC(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new D4;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(i)||(o.add(i),t=W4.bind(null,t,e,i),e.then(t,t))}function QC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function XC(t,e,i,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=us(-1,1),e.tag=2,ao(i,e,1))),i.lanes|=1),t)}var N4=Es.ReactCurrentOwner,pi=!1;function ei(t,e,i,r){e.child=t===null?mA(e,null,i,r):fu(e,t.child,i,r)}function JC(t,e,i,r,o){i=i.render;var l=e.ref;return nu(e,o),r=S_(t,e,i,r,l,o),i=E_(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,ms(t,e,o)):(Ct&&i&&c_(e),e.flags|=1,ei(t,e,r,o),e.child)}function ZC(t,e,i,r,o){if(t===null){var l=i.type;return typeof l=="function"&&!N_(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=l,jA(t,e,l,r,o)):(t=Zp(i.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&o)){var h=l.memoizedProps;if(i=i.compare,i=i!==null?i:Wh,i(h,r)&&t.ref===e.ref)return ms(t,e,o)}return e.flags|=1,t=co(l,r),t.ref=e.ref,t.return=e,e.child=t}function jA(t,e,i,r,o){if(t!==null){var l=t.memoizedProps;if(Wh(l,r)&&t.ref===e.ref)if(pi=!1,e.pendingProps=r=l,(t.lanes&o)!==0)t.flags&131072&&(pi=!0);else return e.lanes=t.lanes,ms(t,e,o)}return B1(t,e,i,r,o)}function BA(t,e,i){var r=e.pendingProps,o=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Yl,Ti),Ti|=i;else{if(!(i&1073741824))return t=l!==null?l.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mt(Yl,Ti),Ti|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:i,mt(Yl,Ti),Ti|=r}else l!==null?(r=l.baseLanes|i,e.memoizedState=null):r=i,mt(Yl,Ti),Ti|=r;return ei(t,e,o,i),e.child}function $A(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function B1(t,e,i,r,o){var l=mi(i)?ma:Hn.current;return l=hu(e,l),nu(e,o),i=S_(t,e,i,r,l,o),r=E_(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,ms(t,e,o)):(Ct&&r&&c_(e),e.flags|=1,ei(t,e,i,o),e.child)}function ek(t,e,i,r,o){if(mi(i)){var l=!0;Og(e)}else l=!1;if(nu(e,o),e.stateNode===null)Qp(t,e),pA(e,i,r),F1(e,i,r,o),r=!0;else if(t===null){var h=e.stateNode,f=e.memoizedProps;h.props=f;var g=h.context,v=i.contextType;typeof v=="object"&&v!==null?v=Ki(v):(v=mi(i)?ma:Hn.current,v=hu(e,v));var b=i.getDerivedStateFromProps,S=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function";S||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(f!==r||g!==v)&&HC(e,h,r,v),Ys=!1;var P=e.memoizedState;h.state=P,jg(e,r,h,o),g=e.memoizedState,f!==r||P!==g||gi.current||Ys?(typeof b=="function"&&(U1(e,i,b,r),g=e.memoizedState),(f=Ys||zC(e,i,f,r,P,g,v))?(S||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=g),h.props=r,h.state=g,h.context=v,r=f):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{h=e.stateNode,dA(t,e),f=e.memoizedProps,v=e.type===e.elementType?f:sr(e.type,f),h.props=v,S=e.pendingProps,P=h.context,g=i.contextType,typeof g=="object"&&g!==null?g=Ki(g):(g=mi(i)?ma:Hn.current,g=hu(e,g));var $=i.getDerivedStateFromProps;(b=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(f!==S||P!==g)&&HC(e,h,r,g),Ys=!1,P=e.memoizedState,h.state=P,jg(e,r,h,o);var j=e.memoizedState;f!==S||P!==j||gi.current||Ys?(typeof $=="function"&&(U1(e,i,$,r),j=e.memoizedState),(v=Ys||zC(e,i,v,r,P,j,g)||!1)?(b||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,j,g),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,j,g)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||f===t.memoizedProps&&P===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||f===t.memoizedProps&&P===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=j),h.props=r,h.state=j,h.context=g,r=v):(typeof h.componentDidUpdate!="function"||f===t.memoizedProps&&P===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||f===t.memoizedProps&&P===t.memoizedState||(e.flags|=1024),r=!1)}return $1(t,e,i,r,l,o)}function $1(t,e,i,r,o,l){$A(t,e);var h=(e.flags&128)!==0;if(!r&&!h)return o&&jC(e,i,!1),ms(t,e,l);r=e.stateNode,N4.current=e;var f=h&&typeof i.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&h?(e.child=fu(e,t.child,null,l),e.child=fu(e,null,f,l)):ei(t,e,f,l),e.memoizedState=r.state,o&&jC(e,i,!0),e.child}function VA(t){var e=t.stateNode;e.pendingContext?FC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FC(t,e.context,!1),y_(t,e.containerInfo)}function tk(t,e,i,r,o){return du(),d_(o),e.flags|=256,ei(t,e,i,r),e.child}var V1={dehydrated:null,treeContext:null,retryLane:0};function G1(t){return{baseLanes:t,cachePool:null,transitions:null}}function GA(t,e,i){var r=e.pendingProps,o=At.current,l=!1,h=(e.flags&128)!==0,f;if((f=h)||(f=t!==null&&t.memoizedState===null?!1:(o&2)!==0),f?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),mt(At,o&1),t===null)return L1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(h=r.children,t=r.fallback,l?(r=e.mode,l=e.child,h={mode:"hidden",children:h},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=h):l=Dm(h,r,0,null),t=la(t,r,i,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=G1(i),e.memoizedState=V1,t):k_(e,h));if(o=t.memoizedState,o!==null&&(f=o.dehydrated,f!==null))return O4(t,e,h,r,f,o,i);if(l){l=r.fallback,h=e.mode,o=t.child,f=o.sibling;var g={mode:"hidden",children:r.children};return!(h&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=g,e.deletions=null):(r=co(o,g),r.subtreeFlags=o.subtreeFlags&14680064),f!==null?l=co(f,l):(l=la(l,h,i,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,h=t.child.memoizedState,h=h===null?G1(i):{baseLanes:h.baseLanes|i,cachePool:null,transitions:h.transitions},l.memoizedState=h,l.childLanes=t.childLanes&~i,e.memoizedState=V1,r}return l=t.child,t=l.sibling,r=co(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=i),r.return=e,r.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=r,e.memoizedState=null,r}function k_(t,e){return e=Dm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xp(t,e,i,r){return r!==null&&d_(r),fu(e,t.child,null,i),t=k_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function O4(t,e,i,r,o,l,h){if(i)return e.flags&256?(e.flags&=-257,r=x0(Error(pe(422))),xp(t,e,h,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=r.fallback,o=e.mode,r=Dm({mode:"visible",children:r.children},o,0,null),l=la(l,o,h,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&fu(e,t.child,null,h),e.child.memoizedState=G1(h),e.memoizedState=V1,l);if(!(e.mode&1))return xp(t,e,h,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var f=r.dgst;return r=f,l=Error(pe(419)),r=x0(l,r,void 0),xp(t,e,h,r)}if(f=(h&t.childLanes)!==0,pi||f){if(r=_n,r!==null){switch(h&-h){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|h)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,gs(t,o),cr(r,t,o,-1))}return D_(),r=x0(Error(pe(421))),xp(t,e,h,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=q4.bind(null,t),o._reactRetry=e,null):(t=l.treeContext,Ai=oo(o.nextSibling),Ni=e,Ct=!0,ar=null,t!==null&&(Gi[zi++]=rs,Gi[zi++]=ss,Gi[zi++]=va,rs=t.id,ss=t.overflow,va=e),e=k_(e,r.children),e.flags|=4096,e)}function nk(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),M1(t.return,e,i)}function A0(t,e,i,r,o){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=i,l.tailMode=o)}function zA(t,e,i){var r=e.pendingProps,o=r.revealOrder,l=r.tail;if(ei(t,e,r.children,i),r=At.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nk(t,i,e);else if(t.tag===19)nk(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(mt(At,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(i=e.child,o=null;i!==null;)t=i.alternate,t!==null&&Bg(t)===null&&(o=i),i=i.sibling;i=o,i===null?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),A0(e,!1,o,i,l);break;case"backwards":for(i=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Bg(t)===null){e.child=o;break}t=o.sibling,o.sibling=i,i=o,o=t}A0(e,!0,i,null,l);break;case"together":A0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ms(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),wa|=e.lanes,!(i&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,i=co(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=co(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function L4(t,e,i){switch(e.tag){case 3:VA(e),du();break;case 5:vA(e);break;case 1:mi(e.type)&&Og(e);break;case 4:y_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;mt(Ug,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(mt(At,At.current&1),e.flags|=128,null):i&e.child.childLanes?GA(t,e,i):(mt(At,At.current&1),t=ms(t,e,i),t!==null?t.sibling:null);mt(At,At.current&1);break;case 19:if(r=(i&e.childLanes)!==0,t.flags&128){if(r)return zA(t,e,i);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),mt(At,At.current),r)break;return null;case 22:case 23:return e.lanes=0,BA(t,e,i)}return ms(t,e,i)}var HA,z1,WA,qA;HA=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};z1=function(){};WA=function(t,e,i,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,na(Br.current);var l=null;switch(i){case"input":o=d1(t,o),r=d1(t,r),l=[];break;case"select":o=Dt({},o,{value:void 0}),r=Dt({},r,{value:void 0}),l=[];break;case"textarea":o=g1(t,o),r=g1(t,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dg)}v1(i,r);var h;i=null;for(v in o)if(!r.hasOwnProperty(v)&&o.hasOwnProperty(v)&&o[v]!=null)if(v==="style"){var f=o[v];for(h in f)f.hasOwnProperty(h)&&(i||(i={}),i[h]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(jh.hasOwnProperty(v)?l||(l=[]):(l=l||[]).push(v,null));for(v in r){var g=r[v];if(f=o!=null?o[v]:void 0,r.hasOwnProperty(v)&&g!==f&&(g!=null||f!=null))if(v==="style")if(f){for(h in f)!f.hasOwnProperty(h)||g&&g.hasOwnProperty(h)||(i||(i={}),i[h]="");for(h in g)g.hasOwnProperty(h)&&f[h]!==g[h]&&(i||(i={}),i[h]=g[h])}else i||(l||(l=[]),l.push(v,i)),i=g;else v==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,f=f?f.__html:void 0,g!=null&&f!==g&&(l=l||[]).push(v,g)):v==="children"?typeof g!="string"&&typeof g!="number"||(l=l||[]).push(v,""+g):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(jh.hasOwnProperty(v)?(g!=null&&v==="onScroll"&&wt("scroll",t),l||f===g||(l=[])):(l=l||[]).push(v,g))}i&&(l=l||[]).push("style",i);var v=l;(e.updateQueue=v)&&(e.flags|=4)}};qA=function(t,e,i,r){i!==r&&(e.flags|=4)};function rh(t,e){if(!Ct)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var o=t.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function M4(t,e,i){var r=e.pendingProps;switch(h_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(e),null;case 1:return mi(e.type)&&Ng(),Ln(e),null;case 3:return r=e.stateNode,pu(),bt(gi),bt(Hn),__(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(J1(ar),ar=null))),z1(t,e),Ln(e),null;case 5:w_(e);var o=na(Xh.current);if(i=e.type,t!==null&&e.stateNode!=null)WA(t,e,i,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return Ln(e),null}if(t=na(Br.current),kp(e)){r=e.stateNode,i=e.type;var l=e.memoizedProps;switch(r[Dr]=e,r[Yh]=l,t=(e.mode&1)!==0,i){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(o=0;o<ph.length;o++)wt(ph[o],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":hC(r,l),wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},wt("invalid",r);break;case"textarea":fC(r,l),wt("invalid",r)}v1(i,l),o=null;for(var h in l)if(l.hasOwnProperty(h)){var f=l[h];h==="children"?typeof f=="string"?r.textContent!==f&&(l.suppressHydrationWarning!==!0&&Cp(r.textContent,f,t),o=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(l.suppressHydrationWarning!==!0&&Cp(r.textContent,f,t),o=["children",""+f]):jh.hasOwnProperty(h)&&f!=null&&h==="onScroll"&&wt("scroll",r)}switch(i){case"input":vp(r),dC(r,l,!0);break;case"textarea":vp(r),pC(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Dg)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{h=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_x(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=h.createElement(i,{is:r.is}):(t=h.createElement(i),i==="select"&&(h=t,r.multiple?h.multiple=!0:r.size&&(h.size=r.size))):t=h.createElementNS(t,i),t[Dr]=e,t[Yh]=r,HA(t,e,!1,!1),e.stateNode=t;e:{switch(h=y1(i,r),i){case"dialog":wt("cancel",t),wt("close",t),o=r;break;case"iframe":case"object":case"embed":wt("load",t),o=r;break;case"video":case"audio":for(o=0;o<ph.length;o++)wt(ph[o],t);o=r;break;case"source":wt("error",t),o=r;break;case"img":case"image":case"link":wt("error",t),wt("load",t),o=r;break;case"details":wt("toggle",t),o=r;break;case"input":hC(t,r),o=d1(t,r),wt("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Dt({},r,{value:void 0}),wt("invalid",t);break;case"textarea":fC(t,r),o=g1(t,r),wt("invalid",t);break;default:o=r}v1(i,o),f=o;for(l in f)if(f.hasOwnProperty(l)){var g=f[l];l==="style"?Ex(t,g):l==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&bx(t,g)):l==="children"?typeof g=="string"?(i!=="textarea"||g!=="")&&Bh(t,g):typeof g=="number"&&Bh(t,""+g):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(jh.hasOwnProperty(l)?g!=null&&l==="onScroll"&&wt("scroll",t):g!=null&&Qw(t,l,g,h))}switch(i){case"input":vp(t),dC(t,r,!1);break;case"textarea":vp(t),pC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+go(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?Jl(t,!!r.multiple,l,!1):r.defaultValue!=null&&Jl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Dg)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ln(e),null;case 6:if(t&&e.stateNode!=null)qA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(i=na(Xh.current),na(Br.current),kp(e)){if(r=e.stateNode,i=e.memoizedProps,r[Dr]=e,(l=r.nodeValue!==i)&&(t=Ni,t!==null))switch(t.tag){case 3:Cp(r.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cp(r.nodeValue,i,(t.mode&1)!==0)}l&&(e.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[Dr]=e,e.stateNode=r}return Ln(e),null;case 13:if(bt(At),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ct&&Ai!==null&&e.mode&1&&!(e.flags&128))cA(),du(),e.flags|=98560,l=!1;else if(l=kp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(pe(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(pe(317));l[Dr]=e}else du(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ln(e),l=!1}else ar!==null&&(J1(ar),ar=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||At.current&1?on===0&&(on=3):D_())),e.updateQueue!==null&&(e.flags|=4),Ln(e),null);case 4:return pu(),z1(t,e),t===null&&qh(e.stateNode.containerInfo),Ln(e),null;case 10:return g_(e.type._context),Ln(e),null;case 17:return mi(e.type)&&Ng(),Ln(e),null;case 19:if(bt(At),l=e.memoizedState,l===null)return Ln(e),null;if(r=(e.flags&128)!==0,h=l.rendering,h===null)if(r)rh(l,!1);else{if(on!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(h=Bg(t),h!==null){for(e.flags|=128,rh(l,!1),r=h.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=i,i=e.child;i!==null;)l=i,t=r,l.flags&=14680066,h=l.alternate,h===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,t=h.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return mt(At,At.current&1|2),e.child}t=t.sibling}l.tail!==null&&zt()>mu&&(e.flags|=128,r=!0,rh(l,!1),e.lanes=4194304)}else{if(!r)if(t=Bg(h),t!==null){if(e.flags|=128,r=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),rh(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ct)return Ln(e),null}else 2*zt()-l.renderingStartTime>mu&&i!==1073741824&&(e.flags|=128,r=!0,rh(l,!1),e.lanes=4194304);l.isBackwards?(h.sibling=e.child,e.child=h):(i=l.last,i!==null?i.sibling=h:e.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=zt(),e.sibling=null,i=At.current,mt(At,r?i&1|2:i&1),e):(Ln(e),null);case 22:case 23:return P_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ti&1073741824&&(Ln(e),e.subtreeFlags&6&&(e.flags|=8192)):Ln(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function U4(t,e){switch(h_(e),e.tag){case 1:return mi(e.type)&&Ng(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pu(),bt(gi),bt(Hn),__(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return w_(e),null;case 13:if(bt(At),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));du()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bt(At),null;case 4:return pu(),null;case 10:return g_(e.type._context),null;case 22:case 23:return P_(),null;case 24:return null;default:return null}}var Ap=!1,Fn=!1,F4=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Kl(t,e){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){Ut(t,e,r)}else i.current=null}function H1(t,e,i){try{i()}catch(r){Ut(t,e,r)}}var ik=!1;function j4(t,e){if(x1=Ag,t=Xx(),u_(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var h=0,f=-1,g=-1,v=0,b=0,S=t,P=null;t:for(;;){for(var $;S!==i||o!==0&&S.nodeType!==3||(f=h+o),S!==l||r!==0&&S.nodeType!==3||(g=h+r),S.nodeType===3&&(h+=S.nodeValue.length),($=S.firstChild)!==null;)P=S,S=$;for(;;){if(S===t)break t;if(P===i&&++v===o&&(f=h),P===l&&++b===r&&(g=h),($=S.nextSibling)!==null)break;S=P,P=S.parentNode}S=$}i=f===-1||g===-1?null:{start:f,end:g}}else i=null}i=i||{start:0,end:0}}else i=null;for(A1={focusedElem:t,selectionRange:i},Ag=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var j=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var I=j.memoizedProps,D=j.memoizedState,C=e.stateNode,x=C.getSnapshotBeforeUpdate(e.elementType===e.type?I:sr(e.type,I),D);C.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var O=e.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(L){Ut(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return j=ik,ik=!1,j}function xh(t,e,i){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var l=o.destroy;o.destroy=void 0,l!==void 0&&H1(e,i,l)}o=o.next}while(o!==r)}}function Rm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var r=i.create;i.destroy=r()}i=i.next}while(i!==e)}}function W1(t){var e=t.ref;if(e!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof e=="function"?e(t):e.current=t}}function KA(t){var e=t.alternate;e!==null&&(t.alternate=null,KA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dr],delete e[Yh],delete e[D1],delete e[b4],delete e[S4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YA(t){return t.tag===5||t.tag===3||t.tag===4}function rk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function q1(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Dg));else if(r!==4&&(t=t.child,t!==null))for(q1(t,e,i),t=t.sibling;t!==null;)q1(t,e,i),t=t.sibling}function K1(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(K1(t,e,i),t=t.sibling;t!==null;)K1(t,e,i),t=t.sibling}var kn=null,or=!1;function Hs(t,e,i){for(i=i.child;i!==null;)QA(t,e,i),i=i.sibling}function QA(t,e,i){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Sm,i)}catch{}switch(i.tag){case 5:Fn||Kl(i,e);case 6:var r=kn,o=or;kn=null,Hs(t,e,i),kn=r,or=o,kn!==null&&(or?(t=kn,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):kn.removeChild(i.stateNode));break;case 18:kn!==null&&(or?(t=kn,i=i.stateNode,t.nodeType===8?S0(t.parentNode,i):t.nodeType===1&&S0(t,i),zh(t)):S0(kn,i.stateNode));break;case 4:r=kn,o=or,kn=i.stateNode.containerInfo,or=!0,Hs(t,e,i),kn=r,or=o;break;case 0:case 11:case 14:case 15:if(!Fn&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,h=l.destroy;l=l.tag,h!==void 0&&(l&2||l&4)&&H1(i,e,h),o=o.next}while(o!==r)}Hs(t,e,i);break;case 1:if(!Fn&&(Kl(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(f){Ut(i,e,f)}Hs(t,e,i);break;case 21:Hs(t,e,i);break;case 22:i.mode&1?(Fn=(r=Fn)||i.memoizedState!==null,Hs(t,e,i),Fn=r):Hs(t,e,i);break;default:Hs(t,e,i)}}function sk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new F4),e.forEach(function(r){var o=K4.bind(null,t,r);i.has(r)||(i.add(r),r.then(o,o))})}}function rr(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];try{var l=t,h=e,f=h;e:for(;f!==null;){switch(f.tag){case 5:kn=f.stateNode,or=!1;break e;case 3:kn=f.stateNode.containerInfo,or=!0;break e;case 4:kn=f.stateNode.containerInfo,or=!0;break e}f=f.return}if(kn===null)throw Error(pe(160));QA(l,h,o),kn=null,or=!1;var g=o.alternate;g!==null&&(g.return=null),o.return=null}catch(v){Ut(o,e,v)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XA(e,t),e=e.sibling}function XA(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(e,t),Rr(t),r&4){try{xh(3,t,t.return),Rm(3,t)}catch(I){Ut(t,t.return,I)}try{xh(5,t,t.return)}catch(I){Ut(t,t.return,I)}}break;case 1:rr(e,t),Rr(t),r&512&&i!==null&&Kl(i,i.return);break;case 5:if(rr(e,t),Rr(t),r&512&&i!==null&&Kl(i,i.return),t.flags&32){var o=t.stateNode;try{Bh(o,"")}catch(I){Ut(t,t.return,I)}}if(r&4&&(o=t.stateNode,o!=null)){var l=t.memoizedProps,h=i!==null?i.memoizedProps:l,f=t.type,g=t.updateQueue;if(t.updateQueue=null,g!==null)try{f==="input"&&l.type==="radio"&&l.name!=null&&yx(o,l),y1(f,h);var v=y1(f,l);for(h=0;h<g.length;h+=2){var b=g[h],S=g[h+1];b==="style"?Ex(o,S):b==="dangerouslySetInnerHTML"?bx(o,S):b==="children"?Bh(o,S):Qw(o,b,S,v)}switch(f){case"input":f1(o,l);break;case"textarea":wx(o,l);break;case"select":var P=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var $=l.value;$!=null?Jl(o,!!l.multiple,$,!1):P!==!!l.multiple&&(l.defaultValue!=null?Jl(o,!!l.multiple,l.defaultValue,!0):Jl(o,!!l.multiple,l.multiple?[]:"",!1))}o[Yh]=l}catch(I){Ut(t,t.return,I)}}break;case 6:if(rr(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(pe(162));o=t.stateNode,l=t.memoizedProps;try{o.nodeValue=l}catch(I){Ut(t,t.return,I)}}break;case 3:if(rr(e,t),Rr(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{zh(e.containerInfo)}catch(I){Ut(t,t.return,I)}break;case 4:rr(e,t),Rr(t);break;case 13:rr(e,t),Rr(t),o=t.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(A_=zt())),r&4&&sk(t);break;case 22:if(b=i!==null&&i.memoizedState!==null,t.mode&1?(Fn=(v=Fn)||b,rr(e,t),Fn=v):rr(e,t),Rr(t),r&8192){if(v=t.memoizedState!==null,(t.stateNode.isHidden=v)&&!b&&t.mode&1)for(Ee=t,b=t.child;b!==null;){for(S=Ee=b;Ee!==null;){switch(P=Ee,$=P.child,P.tag){case 0:case 11:case 14:case 15:xh(4,P,P.return);break;case 1:Kl(P,P.return);var j=P.stateNode;if(typeof j.componentWillUnmount=="function"){r=P,i=P.return;try{e=r,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(I){Ut(r,i,I)}}break;case 5:Kl(P,P.return);break;case 22:if(P.memoizedState!==null){ak(S);continue}}$!==null?($.return=P,Ee=$):ak(S)}b=b.sibling}e:for(b=null,S=t;;){if(S.tag===5){if(b===null){b=S;try{o=S.stateNode,v?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(f=S.stateNode,g=S.memoizedProps.style,h=g!=null&&g.hasOwnProperty("display")?g.display:null,f.style.display=Sx("display",h))}catch(I){Ut(t,t.return,I)}}}else if(S.tag===6){if(b===null)try{S.stateNode.nodeValue=v?"":S.memoizedProps}catch(I){Ut(t,t.return,I)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===t)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;b===S&&(b=null),S=S.return}b===S&&(b=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:rr(e,t),Rr(t),r&4&&sk(t);break;case 21:break;default:rr(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var i=t.return;i!==null;){if(YA(i)){var r=i;break e}i=i.return}throw Error(pe(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Bh(o,""),r.flags&=-33);var l=rk(t);K1(t,l,o);break;case 3:case 4:var h=r.stateNode.containerInfo,f=rk(t);q1(t,f,h);break;default:throw Error(pe(161))}}catch(g){Ut(t,t.return,g)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function B4(t,e,i){Ee=t,JA(t)}function JA(t,e,i){for(var r=(t.mode&1)!==0;Ee!==null;){var o=Ee,l=o.child;if(o.tag===22&&r){var h=o.memoizedState!==null||Ap;if(!h){var f=o.alternate,g=f!==null&&f.memoizedState!==null||Fn;f=Ap;var v=Fn;if(Ap=h,(Fn=g)&&!v)for(Ee=o;Ee!==null;)h=Ee,g=h.child,h.tag===22&&h.memoizedState!==null?lk(o):g!==null?(g.return=h,Ee=g):lk(o);for(;l!==null;)Ee=l,JA(l),l=l.sibling;Ee=o,Ap=f,Fn=v}ok(t)}else o.subtreeFlags&8772&&l!==null?(l.return=o,Ee=l):ok(t)}}function ok(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fn||Rm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fn)if(i===null)r.componentDidMount();else{var o=e.elementType===e.type?i.memoizedProps:sr(e.type,i.memoizedProps);r.componentDidUpdate(o,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&GC(e,l,r);break;case 3:var h=e.updateQueue;if(h!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}GC(e,h,i)}break;case 5:var f=e.stateNode;if(i===null&&e.flags&4){i=f;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&i.focus();break;case"img":g.src&&(i.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var v=e.alternate;if(v!==null){var b=v.memoizedState;if(b!==null){var S=b.dehydrated;S!==null&&zh(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Fn||e.flags&512&&W1(e)}catch(P){Ut(e,e.return,P)}}if(e===t){Ee=null;break}if(i=e.sibling,i!==null){i.return=e.return,Ee=i;break}Ee=e.return}}function ak(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var i=e.sibling;if(i!==null){i.return=e.return,Ee=i;break}Ee=e.return}}function lk(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{Rm(4,e)}catch(g){Ut(e,i,g)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(g){Ut(e,o,g)}}var l=e.return;try{W1(e)}catch(g){Ut(e,l,g)}break;case 5:var h=e.return;try{W1(e)}catch(g){Ut(e,h,g)}}}catch(g){Ut(e,e.return,g)}if(e===t){Ee=null;break}var f=e.sibling;if(f!==null){f.return=e.return,Ee=f;break}Ee=e.return}}var $4=Math.ceil,Gg=Es.ReactCurrentDispatcher,T_=Es.ReactCurrentOwner,Wi=Es.ReactCurrentBatchConfig,et=0,_n=null,Xt=null,xn=0,Ti=0,Yl=Io(0),on=0,td=null,wa=0,Pm=0,x_=0,Ah=null,di=null,A_=0,mu=1/0,ns=null,zg=!1,Y1=null,lo=null,Rp=!1,eo=null,Hg=0,Rh=0,Q1=null,Xp=-1,Jp=0;function ni(){return et&6?zt():Xp!==-1?Xp:Xp=zt()}function uo(t){return t.mode&1?et&2&&xn!==0?xn&-xn:I4.transition!==null?(Jp===0&&(Jp=Lx()),Jp):(t=dt,t!==0||(t=window.event,t=t===void 0?16:Vx(t.type)),t):1}function cr(t,e,i,r){if(50<Rh)throw Rh=0,Q1=null,Error(pe(185));kd(t,i,r),(!(et&2)||t!==_n)&&(t===_n&&(!(et&2)&&(Pm|=i),on===4&&Xs(t,xn)),vi(t,r),i===1&&et===0&&!(e.mode&1)&&(mu=zt()+500,Tm&&Co()))}function vi(t,e){var i=t.callbackNode;IL(t,e);var r=xg(t,t===_n?xn:0);if(r===0)i!==null&&vC(i),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(i!=null&&vC(i),e===1)t.tag===0?E4(uk.bind(null,t)):aA(uk.bind(null,t)),w4(function(){!(et&6)&&Co()}),i=null;else{switch(Mx(r)){case 1:i=t_;break;case 4:i=Nx;break;case 16:i=Tg;break;case 536870912:i=Ox;break;default:i=Tg}i=oR(i,ZA.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function ZA(t,e){if(Xp=-1,Jp=0,et&6)throw Error(pe(327));var i=t.callbackNode;if(iu()&&t.callbackNode!==i)return null;var r=xg(t,t===_n?xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wg(t,r);else{e=r;var o=et;et|=2;var l=tR();(_n!==t||xn!==e)&&(ns=null,mu=zt()+500,aa(t,e));do try{z4();break}catch(f){eR(t,f)}while(1);p_(),Gg.current=l,et=o,Xt!==null?e=0:(_n=null,xn=0,e=on)}if(e!==0){if(e===2&&(o=E1(t),o!==0&&(r=o,e=X1(t,o))),e===1)throw i=td,aa(t,0),Xs(t,r),vi(t,zt()),i;if(e===6)Xs(t,r);else{if(o=t.current.alternate,!(r&30)&&!V4(o)&&(e=Wg(t,r),e===2&&(l=E1(t),l!==0&&(r=l,e=X1(t,l))),e===1))throw i=td,aa(t,0),Xs(t,r),vi(t,zt()),i;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:Jo(t,di,ns);break;case 3:if(Xs(t,r),(r&130023424)===r&&(e=A_+500-zt(),10<e)){if(xg(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){ni(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=P1(Jo.bind(null,t,di,ns),e);break}Jo(t,di,ns);break;case 4:if(Xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var h=31-ur(r);l=1<<h,h=e[h],h>o&&(o=h),r&=~l}if(r=o,r=zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$4(r/1960))-r,10<r){t.timeoutHandle=P1(Jo.bind(null,t,di,ns),r);break}Jo(t,di,ns);break;case 5:Jo(t,di,ns);break;default:throw Error(pe(329))}}}return vi(t,zt()),t.callbackNode===i?ZA.bind(null,t):null}function X1(t,e){var i=Ah;return t.current.memoizedState.isDehydrated&&(aa(t,e).flags|=256),t=Wg(t,e),t!==2&&(e=di,di=i,e!==null&&J1(e)),t}function J1(t){di===null?di=t:di.push.apply(di,t)}function V4(t){for(var e=t;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var o=i[r],l=o.getSnapshot;o=o.value;try{if(!dr(l(),o))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xs(t,e){for(e&=~x_,e&=~Pm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-ur(e),r=1<<i;t[i]=-1,e&=~r}}function uk(t){if(et&6)throw Error(pe(327));iu();var e=xg(t,0);if(!(e&1))return vi(t,zt()),null;var i=Wg(t,e);if(t.tag!==0&&i===2){var r=E1(t);r!==0&&(e=r,i=X1(t,r))}if(i===1)throw i=td,aa(t,0),Xs(t,e),vi(t,zt()),i;if(i===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jo(t,di,ns),vi(t,zt()),null}function R_(t,e){var i=et;et|=1;try{return t(e)}finally{et=i,et===0&&(mu=zt()+500,Tm&&Co())}}function _a(t){eo!==null&&eo.tag===0&&!(et&6)&&iu();var e=et;et|=1;var i=Wi.transition,r=dt;try{if(Wi.transition=null,dt=1,t)return t()}finally{dt=r,Wi.transition=i,et=e,!(et&6)&&Co()}}function P_(){Ti=Yl.current,bt(Yl)}function aa(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,y4(i)),Xt!==null)for(i=Xt.return;i!==null;){var r=i;switch(h_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ng();break;case 3:pu(),bt(gi),bt(Hn),__();break;case 5:w_(r);break;case 4:pu();break;case 13:bt(At);break;case 19:bt(At);break;case 10:g_(r.type._context);break;case 22:case 23:P_()}i=i.return}if(_n=t,Xt=t=co(t.current,null),xn=Ti=e,on=0,td=null,x_=Pm=wa=0,di=Ah=null,ta!==null){for(e=0;e<ta.length;e++)if(i=ta[e],r=i.interleaved,r!==null){i.interleaved=null;var o=r.next,l=i.pending;if(l!==null){var h=l.next;l.next=o,r.next=h}i.pending=r}ta=null}return t}function eR(t,e){do{var i=Xt;try{if(p_(),Kp.current=Vg,$g){for(var r=Rt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}$g=!1}if(ya=0,wn=rn=Rt=null,Th=!1,Jh=0,T_.current=null,i===null||i.return===null){on=1,td=e,Xt=null;break}e:{var l=t,h=i.return,f=i,g=e;if(e=xn,f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var v=g,b=f,S=b.tag;if(!(b.mode&1)&&(S===0||S===11||S===15)){var P=b.alternate;P?(b.updateQueue=P.updateQueue,b.memoizedState=P.memoizedState,b.lanes=P.lanes):(b.updateQueue=null,b.memoizedState=null)}var $=QC(h);if($!==null){$.flags&=-257,XC($,h,f,l,e),$.mode&1&&YC(l,v,e),e=$,g=v;var j=e.updateQueue;if(j===null){var I=new Set;I.add(g),e.updateQueue=I}else j.add(g);break e}else{if(!(e&1)){YC(l,v,e),D_();break e}g=Error(pe(426))}}else if(Ct&&f.mode&1){var D=QC(h);if(D!==null){!(D.flags&65536)&&(D.flags|=256),XC(D,h,f,l,e),d_(gu(g,f));break e}}l=g=gu(g,f),on!==4&&(on=2),Ah===null?Ah=[l]:Ah.push(l),l=h;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var C=UA(l,g,e);VC(l,C);break e;case 1:f=g;var x=l.type,O=l.stateNode;if(!(l.flags&128)&&(typeof x.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(lo===null||!lo.has(O)))){l.flags|=65536,e&=-e,l.lanes|=e;var L=FA(l,f,e);VC(l,L);break e}}l=l.return}while(l!==null)}iR(i)}catch(N){e=N,Xt===i&&i!==null&&(Xt=i=i.return);continue}break}while(1)}function tR(){var t=Gg.current;return Gg.current=Vg,t===null?Vg:t}function D_(){(on===0||on===3||on===2)&&(on=4),_n===null||!(wa&268435455)&&!(Pm&268435455)||Xs(_n,xn)}function Wg(t,e){var i=et;et|=2;var r=tR();(_n!==t||xn!==e)&&(ns=null,aa(t,e));do try{G4();break}catch(o){eR(t,o)}while(1);if(p_(),et=i,Gg.current=r,Xt!==null)throw Error(pe(261));return _n=null,xn=0,on}function G4(){for(;Xt!==null;)nR(Xt)}function z4(){for(;Xt!==null&&!gL();)nR(Xt)}function nR(t){var e=sR(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,e===null?iR(t):Xt=e,T_.current=null}function iR(t){var e=t;do{var i=e.alternate;if(t=e.return,e.flags&32768){if(i=U4(i,e),i!==null){i.flags&=32767,Xt=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{on=6,Xt=null;return}}else if(i=M4(i,e,Ti),i!==null){Xt=i;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);on===0&&(on=5)}function Jo(t,e,i){var r=dt,o=Wi.transition;try{Wi.transition=null,dt=1,H4(t,e,i,r)}finally{Wi.transition=o,dt=r}return null}function H4(t,e,i,r){do iu();while(eo!==null);if(et&6)throw Error(pe(327));i=t.finishedWork;var o=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var l=i.lanes|i.childLanes;if(CL(t,l),t===_n&&(Xt=_n=null,xn=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Rp||(Rp=!0,oR(Tg,function(){return iu(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=Wi.transition,Wi.transition=null;var h=dt;dt=1;var f=et;et|=4,T_.current=null,j4(t,i),XA(i,t),h4(A1),Ag=!!x1,A1=x1=null,t.current=i,B4(i),mL(),et=f,dt=h,Wi.transition=l}else t.current=i;if(Rp&&(Rp=!1,eo=t,Hg=o),l=t.pendingLanes,l===0&&(lo=null),wL(i.stateNode),vi(t,zt()),e!==null)for(r=t.onRecoverableError,i=0;i<e.length;i++)o=e[i],r(o.value,{componentStack:o.stack,digest:o.digest});if(zg)throw zg=!1,t=Y1,Y1=null,t;return Hg&1&&t.tag!==0&&iu(),l=t.pendingLanes,l&1?t===Q1?Rh++:(Rh=0,Q1=t):Rh=0,Co(),null}function iu(){if(eo!==null){var t=Mx(Hg),e=Wi.transition,i=dt;try{if(Wi.transition=null,dt=16>t?16:t,eo===null)var r=!1;else{if(t=eo,eo=null,Hg=0,et&6)throw Error(pe(331));var o=et;for(et|=4,Ee=t.current;Ee!==null;){var l=Ee,h=l.child;if(Ee.flags&16){var f=l.deletions;if(f!==null){for(var g=0;g<f.length;g++){var v=f[g];for(Ee=v;Ee!==null;){var b=Ee;switch(b.tag){case 0:case 11:case 15:xh(8,b,l)}var S=b.child;if(S!==null)S.return=b,Ee=S;else for(;Ee!==null;){b=Ee;var P=b.sibling,$=b.return;if(KA(b),b===v){Ee=null;break}if(P!==null){P.return=$,Ee=P;break}Ee=$}}}var j=l.alternate;if(j!==null){var I=j.child;if(I!==null){j.child=null;do{var D=I.sibling;I.sibling=null,I=D}while(I!==null)}}Ee=l}}if(l.subtreeFlags&2064&&h!==null)h.return=l,Ee=h;else e:for(;Ee!==null;){if(l=Ee,l.flags&2048)switch(l.tag){case 0:case 11:case 15:xh(9,l,l.return)}var C=l.sibling;if(C!==null){C.return=l.return,Ee=C;break e}Ee=l.return}}var x=t.current;for(Ee=x;Ee!==null;){h=Ee;var O=h.child;if(h.subtreeFlags&2064&&O!==null)O.return=h,Ee=O;else e:for(h=x;Ee!==null;){if(f=Ee,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Rm(9,f)}}catch(N){Ut(f,f.return,N)}if(f===h){Ee=null;break e}var L=f.sibling;if(L!==null){L.return=f.return,Ee=L;break e}Ee=f.return}}if(et=o,Co(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Sm,t)}catch{}r=!0}return r}finally{dt=i,Wi.transition=e}}return!1}function ck(t,e,i){e=gu(i,e),e=UA(t,e,1),t=ao(t,e,1),e=ni(),t!==null&&(kd(t,1,e),vi(t,e))}function Ut(t,e,i){if(t.tag===3)ck(t,t,i);else for(;e!==null;){if(e.tag===3){ck(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lo===null||!lo.has(r))){t=gu(i,t),t=FA(e,t,1),e=ao(e,t,1),t=ni(),e!==null&&(kd(e,1,t),vi(e,t));break}}e=e.return}}function W4(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),e=ni(),t.pingedLanes|=t.suspendedLanes&i,_n===t&&(xn&i)===i&&(on===4||on===3&&(xn&130023424)===xn&&500>zt()-A_?aa(t,0):x_|=i),vi(t,e)}function rR(t,e){e===0&&(t.mode&1?(e=_p,_p<<=1,!(_p&130023424)&&(_p=4194304)):e=1);var i=ni();t=gs(t,e),t!==null&&(kd(t,e,i),vi(t,i))}function q4(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),rR(t,i)}function K4(t,e){var i=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),rR(t,i)}var sR;sR=function(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps||gi.current)pi=!0;else{if(!(t.lanes&i)&&!(e.flags&128))return pi=!1,L4(t,e,i);pi=!!(t.flags&131072)}else pi=!1,Ct&&e.flags&1048576&&lA(e,Mg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qp(t,e),t=e.pendingProps;var o=hu(e,Hn.current);nu(e,i),o=S_(null,e,r,t,o,i);var l=E_();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)?(l=!0,Og(e)):l=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,v_(e),o.updater=xm,e.stateNode=o,o._reactInternals=e,F1(e,r,t,i),e=$1(null,e,r,!0,l,i)):(e.tag=0,Ct&&l&&c_(e),ei(null,e,o,i),e=e.child),e;case 16:r=e.elementType;e:{switch(Qp(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=Q4(r),t=sr(r,t),o){case 0:e=B1(null,e,r,t,i);break e;case 1:e=ek(null,e,r,t,i);break e;case 11:e=JC(null,e,r,t,i);break e;case 14:e=ZC(null,e,r,sr(r.type,t),i);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:sr(r,o),B1(t,e,r,o,i);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:sr(r,o),ek(t,e,r,o,i);case 3:e:{if(VA(e),t===null)throw Error(pe(387));r=e.pendingProps,l=e.memoizedState,o=l.element,dA(t,e),jg(e,r,null,i);var h=e.memoizedState;if(r=h.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){o=gu(Error(pe(423)),e),e=tk(t,e,r,i,o);break e}else if(r!==o){o=gu(Error(pe(424)),e),e=tk(t,e,r,i,o);break e}else for(Ai=oo(e.stateNode.containerInfo.firstChild),Ni=e,Ct=!0,ar=null,i=mA(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(du(),r===o){e=ms(t,e,i);break e}ei(t,e,r,i)}e=e.child}return e;case 5:return vA(e),t===null&&L1(e),r=e.type,o=e.pendingProps,l=t!==null?t.memoizedProps:null,h=o.children,R1(r,o)?h=null:l!==null&&R1(r,l)&&(e.flags|=32),$A(t,e),ei(t,e,h,i),e.child;case 6:return t===null&&L1(e),null;case 13:return GA(t,e,i);case 4:return y_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fu(e,null,r,i):ei(t,e,r,i),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:sr(r,o),JC(t,e,r,o,i);case 7:return ei(t,e,e.pendingProps,i),e.child;case 8:return ei(t,e,e.pendingProps.children,i),e.child;case 12:return ei(t,e,e.pendingProps.children,i),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,l=e.memoizedProps,h=o.value,mt(Ug,r._currentValue),r._currentValue=h,l!==null)if(dr(l.value,h)){if(l.children===o.children&&!gi.current){e=ms(t,e,i);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var f=l.dependencies;if(f!==null){h=l.child;for(var g=f.firstContext;g!==null;){if(g.context===r){if(l.tag===1){g=us(-1,i&-i),g.tag=2;var v=l.updateQueue;if(v!==null){v=v.shared;var b=v.pending;b===null?g.next=g:(g.next=b.next,b.next=g),v.pending=g}}l.lanes|=i,g=l.alternate,g!==null&&(g.lanes|=i),M1(l.return,i,e),f.lanes|=i;break}g=g.next}}else if(l.tag===10)h=l.type===e.type?null:l.child;else if(l.tag===18){if(h=l.return,h===null)throw Error(pe(341));h.lanes|=i,f=h.alternate,f!==null&&(f.lanes|=i),M1(h,i,e),h=l.sibling}else h=l.child;if(h!==null)h.return=l;else for(h=l;h!==null;){if(h===e){h=null;break}if(l=h.sibling,l!==null){l.return=h.return,h=l;break}h=h.return}l=h}ei(t,e,o.children,i),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,nu(e,i),o=Ki(o),r=r(o),e.flags|=1,ei(t,e,r,i),e.child;case 14:return r=e.type,o=sr(r,e.pendingProps),o=sr(r.type,o),ZC(t,e,r,o,i);case 15:return jA(t,e,e.type,e.pendingProps,i);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:sr(r,o),Qp(t,e),e.tag=1,mi(r)?(t=!0,Og(e)):t=!1,nu(e,i),pA(e,r,o),F1(e,r,o,i),$1(null,e,r,!0,t,i);case 19:return zA(t,e,i);case 22:return BA(t,e,i)}throw Error(pe(156,e.tag))};function oR(t,e){return Dx(t,e)}function Y4(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(t,e,i,r){return new Y4(t,e,i,r)}function N_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q4(t){if(typeof t=="function")return N_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jw)return 11;if(t===Zw)return 14}return 2}function co(t,e){var i=t.alternate;return i===null?(i=Hi(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Zp(t,e,i,r,o,l){var h=2;if(r=t,typeof t=="function")N_(t)&&(h=1);else if(typeof t=="string")h=5;else e:switch(t){case jl:return la(i.children,o,l,e);case Xw:h=8,o|=8;break;case l1:return t=Hi(12,i,e,o|2),t.elementType=l1,t.lanes=l,t;case u1:return t=Hi(13,i,e,o),t.elementType=u1,t.lanes=l,t;case c1:return t=Hi(19,i,e,o),t.elementType=c1,t.lanes=l,t;case gx:return Dm(i,o,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fx:h=10;break e;case px:h=9;break e;case Jw:h=11;break e;case Zw:h=14;break e;case Ks:h=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=Hi(h,i,e,o),e.elementType=t,e.type=r,e.lanes=l,e}function la(t,e,i,r){return t=Hi(7,t,r,e),t.lanes=i,t}function Dm(t,e,i,r){return t=Hi(22,t,r,e),t.elementType=gx,t.lanes=i,t.stateNode={isHidden:!1},t}function R0(t,e,i){return t=Hi(6,t,null,e),t.lanes=i,t}function P0(t,e,i){return e=Hi(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function X4(t,e,i,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h0(0),this.expirationTimes=h0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h0(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function O_(t,e,i,r,o,l,h,f,g){return t=new X4(t,e,i,f,g),e===1?(e=1,l===!0&&(e|=8)):e=0,l=Hi(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},v_(l),t}function J4(t,e,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:i}}function aR(t){if(!t)return mo;t=t._reactInternals;e:{if(Pa(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var i=t.type;if(mi(i))return oA(t,i,e)}return e}function lR(t,e,i,r,o,l,h,f,g){return t=O_(i,r,!0,t,o,l,h,f,g),t.context=aR(null),i=t.current,r=ni(),o=uo(i),l=us(r,o),l.callback=e??null,ao(i,l,o),t.current.lanes=o,kd(t,o,r),vi(t,r),t}function Nm(t,e,i,r){var o=e.current,l=ni(),h=uo(o);return i=aR(i),e.context===null?e.context=i:e.pendingContext=i,e=us(l,h),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ao(o,e,h),t!==null&&(cr(t,o,h,l),qp(t,o,h)),h}function qg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function L_(t,e){hk(t,e),(t=t.alternate)&&hk(t,e)}function Z4(){return null}var uR=typeof reportError=="function"?reportError:function(t){console.error(t)};function M_(t){this._internalRoot=t}Om.prototype.render=M_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));Nm(t,e,null,null)};Om.prototype.unmount=M_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_a(function(){Nm(null,t,null,null)}),e[ps]=null}};function Om(t){this._internalRoot=t}Om.prototype.unstable_scheduleHydration=function(t){if(t){var e=jx();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Qs.length&&e!==0&&e<Qs[i].priority;i++);Qs.splice(i,0,t),i===0&&$x(t)}};function U_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dk(){}function eM(t,e,i,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var v=qg(h);l.call(v)}}var h=lR(e,r,t,0,null,!1,!1,"",dk);return t._reactRootContainer=h,t[ps]=h.current,qh(t.nodeType===8?t.parentNode:t),_a(),h}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var f=r;r=function(){var v=qg(g);f.call(v)}}var g=O_(t,0,!1,null,null,!1,!1,"",dk);return t._reactRootContainer=g,t[ps]=g.current,qh(t.nodeType===8?t.parentNode:t),_a(function(){Nm(e,g,i,r)}),g}function Mm(t,e,i,r,o){var l=i._reactRootContainer;if(l){var h=l;if(typeof o=="function"){var f=o;o=function(){var g=qg(h);f.call(g)}}Nm(e,h,t,o)}else h=eM(i,e,t,o,r);return qg(h)}Ux=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=fh(e.pendingLanes);i!==0&&(n_(e,i|1),vi(e,zt()),!(et&6)&&(mu=zt()+500,Co()))}break;case 13:_a(function(){var r=gs(t,1);if(r!==null){var o=ni();cr(r,t,1,o)}}),L_(t,1)}};i_=function(t){if(t.tag===13){var e=gs(t,134217728);if(e!==null){var i=ni();cr(e,t,134217728,i)}L_(t,134217728)}};Fx=function(t){if(t.tag===13){var e=uo(t),i=gs(t,e);if(i!==null){var r=ni();cr(i,t,e,r)}L_(t,e)}};jx=function(){return dt};Bx=function(t,e){var i=dt;try{return dt=t,e()}finally{dt=i}};_1=function(t,e,i){switch(e){case"input":if(f1(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var o=km(r);if(!o)throw Error(pe(90));vx(r),f1(r,o)}}}break;case"textarea":wx(t,i);break;case"select":e=i.value,e!=null&&Jl(t,!!i.multiple,e,!1)}};kx=R_;Tx=_a;var tM={usingClientEntryPoint:!1,Events:[xd,Gl,km,Ix,Cx,R_]},sh={findFiberByHostInstance:ea,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nM={bundleType:sh.bundleType,version:sh.version,rendererPackageName:sh.rendererPackageName,rendererConfig:sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rx(t),t===null?null:t.stateNode},findFiberByHostInstance:sh.findFiberByHostInstance||Z4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{Sm=Pp.inject(nM),jr=Pp}catch{}}Fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tM;Fi.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U_(e))throw Error(pe(200));return J4(t,e,null,i)};Fi.createRoot=function(t,e){if(!U_(t))throw Error(pe(299));var i=!1,r="",o=uR;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=O_(t,1,!1,null,null,i,!1,r,o),t[ps]=e.current,qh(t.nodeType===8?t.parentNode:t),new M_(e)};Fi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=Rx(e),t=t===null?null:t.stateNode,t};Fi.flushSync=function(t){return _a(t)};Fi.hydrate=function(t,e,i){if(!Lm(e))throw Error(pe(200));return Mm(null,t,e,!0,i)};Fi.hydrateRoot=function(t,e,i){if(!U_(t))throw Error(pe(405));var r=i!=null&&i.hydratedSources||null,o=!1,l="",h=uR;if(i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),e=lR(e,null,t,1,i??null,o,!1,l,h),t[ps]=e.current,qh(t),r)for(t=0;t<r.length;t++)i=r[t],o=i._getVersion,o=o(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,o]:e.mutableSourceEagerHydrationData.push(i,o);return new Om(e)};Fi.render=function(t,e,i){if(!Lm(e))throw Error(pe(200));return Mm(null,t,e,!1,i)};Fi.unmountComponentAtNode=function(t){if(!Lm(t))throw Error(pe(40));return t._reactRootContainer?(_a(function(){Mm(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0):!1};Fi.unstable_batchedUpdates=R_;Fi.unstable_renderSubtreeIntoContainer=function(t,e,i,r){if(!Lm(i))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Mm(t,e,i,!1,r)};Fi.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(i){console.error(i)}}e(),t.exports=Fi})(ZO);const fk=Gw(Eg);var pk=Eg;s1.createRoot=pk.createRoot,s1.hydrateRoot=pk.hydrateRoot;const eg=re;function iM({title:t,titleId:e,...i},r){return eg.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?eg.createElement("title",{id:e},t):null,eg.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"}))}const rM=eg.forwardRef(iM);var sM=rM;const tg=re;function oM({title:t,titleId:e,...i},r){return tg.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?tg.createElement("title",{id:e},t):null,tg.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"}))}const aM=tg.forwardRef(oM);var lM=aM;const ng=re;function uM({title:t,titleId:e,...i},r){return ng.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?ng.createElement("title",{id:e},t):null,ng.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"}))}const cM=ng.forwardRef(uM);var hM=cM;const ig=re;function dM({title:t,titleId:e,...i},r){return ig.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?ig.createElement("title",{id:e},t):null,ig.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"}))}const fM=ig.forwardRef(dM);var pM=fM;const rg=re;function gM({title:t,titleId:e,...i},r){return rg.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?rg.createElement("title",{id:e},t):null,rg.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 01-.923 1.785A5.969 5.969 0 006 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337z"}))}const mM=rg.forwardRef(gM);var vM=mM;const sg=re;function yM({title:t,titleId:e,...i},r){return sg.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?sg.createElement("title",{id:e},t):null,sg.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"}))}const wM=sg.forwardRef(yM);var _M=wM;const gh=re;function bM({title:t,titleId:e,...i},r){return gh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?gh.createElement("title",{id:e},t):null,gh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),gh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))}const SM=gh.forwardRef(bM);var EM=SM;const og=re;function IM({title:t,titleId:e,...i},r){return og.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?og.createElement("title",{id:e},t):null,og.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"}))}const CM=og.forwardRef(IM);var kM=CM;const ag=re;function TM({title:t,titleId:e,...i},r){return ag.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?ag.createElement("title",{id:e},t):null,ag.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"}))}const xM=ag.forwardRef(TM);var AM=xM;const lg=re;function RM({title:t,titleId:e,...i},r){return lg.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?lg.createElement("title",{id:e},t):null,lg.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5"}))}const PM=lg.forwardRef(RM);var DM=PM;const ug=re;function NM({title:t,titleId:e,...i},r){return ug.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?ug.createElement("title",{id:e},t):null,ug.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"}))}const OM=ug.forwardRef(NM);var LM=OM;const cg=re;function MM({title:t,titleId:e,...i},r){return cg.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?cg.createElement("title",{id:e},t):null,cg.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const UM=cg.forwardRef(MM);var FM=UM;const hg=re;function jM({title:t,titleId:e,...i},r){return hg.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?hg.createElement("title",{id:e},t):null,hg.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"}))}const BM=hg.forwardRef(jM);var $M=BM;const dg=re;function VM({title:t,titleId:e,...i},r){return dg.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?dg.createElement("title",{id:e},t):null,dg.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"}))}const GM=dg.forwardRef(VM);var zM=GM;const fg=re;function HM({title:t,titleId:e,...i},r){return fg.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?fg.createElement("title",{id:e},t):null,fg.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"}))}const WM=fg.forwardRef(HM);var qM=WM,KM=sM,YM=lM,QM=hM,XM=pM,JM=vM,ZM=_M,e6=EM,t6=kM,n6=AM,i6=DM,gk=LM,r6=FM,s6=$M,o6=zM,a6=qM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},l6=function(t){const e=[];let i=0,r=0;for(;i<t.length;){const o=t[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[i++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[i++],h=t[i++],f=t[i++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const l=t[i++],h=t[i++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},hR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const l=t[o],h=o+1<t.length,f=h?t[o+1]:0,g=o+2<t.length,v=g?t[o+2]:0,b=l>>2,S=(l&3)<<4|f>>4;let P=(f&15)<<2|v>>6,$=v&63;g||($=64,h||(P=64)),r.push(i[b],i[S],i[P],i[$])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const l=i[t.charAt(o++)],f=o<t.length?i[t.charAt(o)]:0;++o;const v=o<t.length?i[t.charAt(o)]:64;++o;const S=o<t.length?i[t.charAt(o)]:64;if(++o,l==null||f==null||v==null||S==null)throw new u6;const P=l<<2|f>>4;if(r.push(P),v!==64){const $=f<<4&240|v>>2;if(r.push($),S!==64){const j=v<<6&192|S;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class u6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c6=function(t){const e=cR(t);return hR.encodeByteArray(e,!0)},Kg=function(t){return c6(t).replace(/\./g,"")},dR=function(t){try{return hR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!h6(i)||(t[i]=Yg(t[i],e[i]));return t}function h6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=()=>d6().__FIREBASE_DEFAULTS__,p6=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},g6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dR(t[1]);return e&&JSON.parse(e)},Um=()=>{try{return f6()||p6()||g6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},m6=t=>{var e,i;return(i=(e=Um())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[t]},fR=t=>{const e=m6(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},v6=()=>{var t;return(t=Um())===null||t===void 0?void 0:t.config},y6=t=>{var e;return(e=Um())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t),f="";return[Kg(JSON.stringify(i)),Kg(JSON.stringify(h)),f].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function F_(){var t;const e=(t=Um())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b6(){return typeof self=="object"&&self.self===self}function gR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Qg(){try{return typeof indexedDB=="object"}catch{return!1}}function S6(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="FirebaseError";class $n extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=E6,Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Da.prototype.create)}}class Da{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?I6(l,r):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new $n(o,f,r)}}function I6(t,e){return t.replace(C6,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const C6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Z1(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const l=t[o],h=e[o];if(vk(l)&&vk(h)){if(!Z1(l,h))return!1}else if(l!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function vk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){const e=[];for(const[i,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function mh(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}function vR(t,e){const i=new T6(t,e);return i.subscribe.bind(i)}class T6{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");x6(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=D0),o.error===void 0&&(o.error=D0),o.complete===void 0&&(o.complete=D0);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x6(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function D0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){return t&&t._delegate?t._delegate:t}class Vr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new w6;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P6(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&h.resolve(o)}return o}onInit(e,i){var r;const o=this.normalizeInstanceIdentifier(i),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R6(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R6(t){return t===Zo?void 0:t}function P6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new A6(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=[];var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const yR={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},N6=tt.INFO,O6={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},L6=(t,e,...i)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=O6[e];if(o)console[o](`[${r}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=N6,this._logHandler=L6,this._userLogHandler=null,B_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}function M6(t){B_.forEach(e=>{e.setLogLevel(t)})}function U6(t,e){for(const i of B_){let r=null;e&&e.level&&(r=yR[e.level]),t===null?i.userLogHandler=null:i.userLogHandler=(o,l,...h)=>{const f=h.map(g=>{if(g==null)return null;if(typeof g=="string")return g;if(typeof g=="number"||typeof g=="boolean")return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch{return null}}).filter(g=>g).join(" ");l>=(r??o.logLevel)&&t({level:tt[l].toLowerCase(),message:f,args:h,type:o.name})}}}const F6=(t,e)=>e.some(i=>t instanceof i);let yk,wk;function j6(){return yk||(yk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B6(){return wk||(wk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wR=new WeakMap,ew=new WeakMap,_R=new WeakMap,N0=new WeakMap,$_=new WeakMap;function $6(t){const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",h)},l=()=>{i(ho(t.result)),o()},h=()=>{r(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&wR.set(i,t)}).catch(()=>{}),$_.set(e,t),e}function V6(t){if(ew.has(t))return;const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",h),t.removeEventListener("abort",h)},l=()=>{i(),o()},h=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",h),t.addEventListener("abort",h)});ew.set(t,e)}let tw={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return ew.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_R.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ho(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function G6(t){tw=t(tw)}function z6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=t.call(O0(this),e,...i);return _R.set(r,e.sort?e.sort():[e]),ho(r)}:B6().includes(t)?function(...e){return t.apply(O0(this),e),ho(wR.get(this))}:function(...e){return ho(t.apply(O0(this),e))}}function H6(t){return typeof t=="function"?z6(t):(t instanceof IDBTransaction&&V6(t),F6(t,j6())?new Proxy(t,tw):t)}function ho(t){if(t instanceof IDBRequest)return $6(t);if(N0.has(t))return N0.get(t);const e=H6(t);return e!==t&&(N0.set(t,e),$_.set(e,t)),e}const O0=t=>$_.get(t);function W6(t,e,{blocked:i,upgrade:r,blocking:o,terminated:l}={}){const h=indexedDB.open(t,e),f=ho(h);return r&&h.addEventListener("upgradeneeded",g=>{r(ho(h.result),g.oldVersion,g.newVersion,ho(h.transaction))}),i&&h.addEventListener("blocked",()=>i()),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",()=>o())}).catch(()=>{}),f}const q6=["get","getKey","getAll","getAllKeys","count"],K6=["put","add","delete","clear"],L0=new Map;function _k(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(L0.get(e))return L0.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=K6.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||q6.includes(i)))return;const l=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(f.shift())),(await Promise.all([v[i](...f),o&&g.done]))[0]};return L0.set(e,l),l}G6(t=>({...t,get:(e,i,r)=>_k(e,i)||t.get(e,i,r),has:(e,i)=>!!_k(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Q6(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Q6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nw="@firebase/app",bk="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Fm("@firebase/app"),X6="@firebase/app-compat",J6="@firebase/analytics-compat",Z6="@firebase/analytics",eU="@firebase/app-check-compat",tU="@firebase/app-check",nU="@firebase/auth",iU="@firebase/auth-compat",rU="@firebase/database",sU="@firebase/database-compat",oU="@firebase/functions",aU="@firebase/functions-compat",lU="@firebase/installations",uU="@firebase/installations-compat",cU="@firebase/messaging",hU="@firebase/messaging-compat",dU="@firebase/performance",fU="@firebase/performance-compat",pU="@firebase/remote-config",gU="@firebase/remote-config-compat",mU="@firebase/storage",vU="@firebase/storage-compat",yU="@firebase/firestore",wU="@firebase/firestore-compat",_U="firebase",bU="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="[DEFAULT]",SU={[nw]:"fire-core",[X6]:"fire-core-compat",[Z6]:"fire-analytics",[J6]:"fire-analytics-compat",[tU]:"fire-app-check",[eU]:"fire-app-check-compat",[nU]:"fire-auth",[iU]:"fire-auth-compat",[rU]:"fire-rtdb",[sU]:"fire-rtdb-compat",[oU]:"fire-fn",[aU]:"fire-fn-compat",[lU]:"fire-iid",[uU]:"fire-iid-compat",[cU]:"fire-fcm",[hU]:"fire-fcm-compat",[dU]:"fire-perf",[fU]:"fire-perf-compat",[pU]:"fire-rc",[gU]:"fire-rc-compat",[mU]:"fire-gcs",[vU]:"fire-gcs-compat",[yU]:"fire-fst",[wU]:"fire-fst-compat","fire-js":"fire-js",[_U]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Map,nd=new Map;function Xg(t,e){try{t.container.addComponent(e)}catch(i){ba.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function bR(t,e){t.container.addOrOverwriteComponent(e)}function vs(t){const e=t.name;if(nd.has(e))return ba.debug(`There were multiple attempts to register component ${e}.`),!1;nd.set(e,t);for(const i of yo.values())Xg(i,t);return!0}function jm(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function EU(t,e,i=vo){jm(t,e).clearInstance(i)}function IU(){nd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},cs=new Da("app","Firebase",CU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kU=class{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=bU;function V_(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vo,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(i||(i=v6()),!i)throw cs.create("no-options");const l=yo.get(o);if(l){if(Z1(i,l.options)&&Z1(r,l.config))return l;throw cs.create("duplicate-app",{appName:o})}const h=new D6(o);for(const g of nd.values())h.addComponent(g);const f=new kU(i,r,h);return yo.set(o,f),f}function G_(t=vo){const e=yo.get(t);if(!e&&t===vo)return V_();if(!e)throw cs.create("no-app",{appName:t});return e}function TU(){return Array.from(yo.values())}async function SR(t){const e=t.name;yo.has(e)&&(yo.delete(e),await Promise.all(t.container.getProviders().map(i=>i.delete())),t.isDeleted=!0)}function qi(t,e,i){var r;let o=(r=SU[t])!==null&&r!==void 0?r:t;i&&(o+=`-${i}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ba.warn(f.join(" "));return}vs(new Vr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}function ER(t,e){if(t!==null&&typeof t!="function")throw cs.create("invalid-log-argument");U6(t,e)}function IR(t){M6(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="firebase-heartbeat-database",AU=1,id="firebase-heartbeat-store";let M0=null;function CR(){return M0||(M0=W6(xU,AU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(id)}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),M0}async function RU(t){try{return(await CR()).transaction(id).objectStore(id).get(kR(t))}catch(e){if(e instanceof $n)ba.warn(e.message);else{const i=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ba.warn(i.message)}}}async function Sk(t,e){try{const r=(await CR()).transaction(id,"readwrite");return await r.objectStore(id).put(e,kR(t)),r.done}catch(i){if(i instanceof $n)ba.warn(i.message);else{const r=cs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ba.warn(r.message)}}}function kR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=1024,DU=30*24*60*60*1e3;class NU{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new LU(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ek();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=DU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ek(),{heartbeatsToSend:i,unsentEntries:r}=OU(this._heartbeatsCache.heartbeats),o=Kg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Ek(){return new Date().toISOString().substring(0,10)}function OU(t,e=PU){const i=[];let r=t.slice();for(const o of t){const l=i.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Ik(i)>e){l.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ik(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class LU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qg()?S6().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await RU(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sk(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sk(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ik(t){return Kg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t){vs(new Vr("platform-logger",e=>new Y6(e),"PRIVATE")),vs(new Vr("heartbeat",e=>new NU(e),"PRIVATE")),qi(nw,bk,t),qi(nw,bk,"esm2017"),qi("fire-js","")}MU("");const UU=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:$n,SDK_VERSION:ko,_DEFAULT_ENTRY_NAME:vo,_addComponent:Xg,_addOrOverwriteComponent:bR,_apps:yo,_clearComponents:IU,_components:nd,_getProvider:jm,_registerComponent:vs,_removeServiceInstance:EU,deleteApp:SR,getApp:G_,getApps:TU,initializeApp:V_,onLog:ER,registerVersion:qi,setLogLevel:IR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,i){this._delegate=e,this.firebase=i,Xg(e,new Vr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),SR(this._delegate)))}_getService(e,i=vo){var r;this._delegate.checkDestroyed();const o=this._delegate.container.getProvider(e);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:i})}_removeServiceInstance(e,i=vo){this._delegate.container.getProvider(e).clearInstance(i)}_addComponent(e){Xg(this._delegate,e)}_addOrOverwriteComponent(e){bR(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},Ck=new Da("app-compat","Firebase",jU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){const e={},i={__esModule:!0,initializeApp:l,app:o,registerVersion:qi,setLogLevel:IR,onLog:ER,apps:null,SDK_VERSION:ko,INTERNAL:{registerComponent:f,removeApp:r,useAsService:g,modularAPIs:UU}};i.default=i,Object.defineProperty(i,"apps",{get:h});function r(v){delete e[v]}function o(v){if(v=v||vo,!mk(e,v))throw Ck.create("no-app",{appName:v});return e[v]}o.App=t;function l(v,b={}){const S=V_(v,b);if(mk(e,S.name))return e[S.name];const P=new t(S,i);return e[S.name]=P,P}function h(){return Object.keys(e).map(v=>e[v])}function f(v){const b=v.name,S=b.replace("-compat","");if(vs(v)&&v.type==="PUBLIC"){const P=($=o())=>{if(typeof $[S]!="function")throw Ck.create("invalid-app-argument",{appName:b});return $[S]()};v.serviceProps!==void 0&&Yg(P,v.serviceProps),i[S]=P,t.prototype[S]=function(...$){return this._getService.bind(this,b).apply(this,v.multipleInstances?$:[])}}return v.type==="PUBLIC"?i[S]:null}function g(v,b){return b==="serverAuth"?null:b}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){const t=BU(FU);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:TR,extendNamespace:e,createSubscribe:vR,ErrorFactory:Da,deepExtend:Yg});function e(i){Yg(t,i)}return t}const $U=TR();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=new Fm("@firebase/app-compat"),VU="@firebase/app-compat",GU="0.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){qi(VU,GU,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(b6()&&self.firebase!==void 0){kk.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&kk.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Te=$U;zU();var HU="firebase",WU="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Te.registerVersion(HU,WU,"app-compat");var qU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae,z_=z_||{},Fe=qU||self;function Jg(){}function Bm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Rd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function KU(t){return Object.prototype.hasOwnProperty.call(t,U0)&&t[U0]||(t[U0]=++YU)}var U0="closure_uid_"+(1e9*Math.random()>>>0),YU=0;function QU(t,e,i){return t.call.apply(t.bind,arguments)}function XU(t,e,i){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Vn(t,e,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vn=QU:Vn=XU,Vn.apply(null,arguments)}function Dp(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var r=i.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nn(t,e){function i(){}i.prototype=e.prototype,t.X=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Wb=function(r,o,l){for(var h=Array(arguments.length-2),f=2;f<arguments.length;f++)h[f-2]=arguments[f];return e.prototype[o].apply(r,h)}}function To(){this.s=this.s,this.o=this.o}var JU=0;To.prototype.s=!1;To.prototype.na=function(){!this.s&&(this.s=!0,this.M(),JU!=0)&&KU(this)};To.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1};function H_(t){const e=t.length;if(0<e){const i=Array(e);for(let r=0;r<e;r++)i[r]=t[r];return i}return[]}function Tk(t,e){for(let i=1;i<arguments.length;i++){const r=arguments[i];if(Bm(r)){const o=t.length||0,l=r.length||0;t.length=o+l;for(let h=0;h<l;h++)t[o+h]=r[h]}else t.push(r)}}function Gn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gn.prototype.h=function(){this.defaultPrevented=!0};var ZU=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Fe.addEventListener("test",Jg,e),Fe.removeEventListener("test",Jg,e)}catch{}return t}();function Zg(t){return/^[\s\xa0]*$/.test(t)}var xk=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function F0(t,e){return t<e?-1:t>e?1:0}function $m(){var t=Fe.navigator;return t&&(t=t.userAgent)?t:""}function Nr(t){return $m().indexOf(t)!=-1}function W_(t){return W_[" "](t),t}W_[" "]=Jg;function eF(t){var e=iF;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var tF=Nr("Opera"),vu=Nr("Trident")||Nr("MSIE"),AR=Nr("Edge"),iw=AR||vu,RR=Nr("Gecko")&&!($m().toLowerCase().indexOf("webkit")!=-1&&!Nr("Edge"))&&!(Nr("Trident")||Nr("MSIE"))&&!Nr("Edge"),nF=$m().toLowerCase().indexOf("webkit")!=-1&&!Nr("Edge");function PR(){var t=Fe.document;return t?t.documentMode:void 0}var em;e:{var j0="",B0=function(){var t=$m();if(RR)return/rv:([^\);]+)(\)|;)/.exec(t);if(AR)return/Edge\/([\d\.]+)/.exec(t);if(vu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(nF)return/WebKit\/(\S+)/.exec(t);if(tF)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(B0&&(j0=B0?B0[1]:""),vu){var $0=PR();if($0!=null&&$0>parseFloat(j0)){em=String($0);break e}}em=j0}var iF={};function rF(){return eF(function(){let t=0;const e=xk(String(em)).split("."),i=xk("9").split("."),r=Math.max(e.length,i.length);for(let h=0;t==0&&h<r;h++){var o=e[h]||"",l=i[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],o[0].length==0&&l[0].length==0)break;t=F0(o[1].length==0?0:parseInt(o[1],10),l[1].length==0?0:parseInt(l[1],10))||F0(o[2].length==0,l[2].length==0)||F0(o[2],l[2]),o=o[3],l=l[3]}while(t==0)}return 0<=t})}var rw;if(Fe.document&&vu){var Ak=PR();rw=Ak||parseInt(em,10)||void 0}else rw=void 0;var sF=rw;function rd(t,e){if(Gn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(RR){e:{try{W_(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else i=="mouseover"?e=t.fromElement:i=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:oF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rd.X.h.call(this)}}Nn(rd,Gn);var oF={2:"touch",3:"pen",4:"mouse"};rd.prototype.h=function(){rd.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pd="closure_listenable_"+(1e6*Math.random()|0),aF=0;function lF(t,e,i,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!r,this.ha=o,this.key=++aF,this.ba=this.ea=!1}function Vm(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function q_(t,e,i){for(const r in t)e.call(i,t[r],r,t)}function DR(t){const e={};for(const i in t)e[i]=t[i];return e}const Rk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NR(t,e){let i,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(i in r)t[i]=r[i];for(let l=0;l<Rk.length;l++)i=Rk[l],Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}}function Gm(t){this.src=t,this.g={},this.h=0}Gm.prototype.add=function(t,e,i,r,o){var l=t.toString();t=this.g[l],t||(t=this.g[l]=[],this.h++);var h=ow(t,e,r,o);return-1<h?(e=t[h],i||(e.ea=!1)):(e=new lF(e,this.src,l,!!r,o),e.ea=i,t.push(e)),e};function sw(t,e){var i=e.type;if(i in t.g){var r=t.g[i],o=xR(r,e),l;(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(Vm(e),t.g[i].length==0&&(delete t.g[i],t.h--))}}function ow(t,e,i,r){for(var o=0;o<t.length;++o){var l=t[o];if(!l.ba&&l.listener==e&&l.capture==!!i&&l.ha==r)return o}return-1}var K_="closure_lm_"+(1e6*Math.random()|0),V0={};function OR(t,e,i,r,o){if(r&&r.once)return MR(t,e,i,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)OR(t,e[l],i,r,o);return null}return i=X_(i),t&&t[Pd]?t.N(e,i,Rd(r)?!!r.capture:!!r,o):LR(t,e,i,!1,r,o)}function LR(t,e,i,r,o,l){if(!e)throw Error("Invalid event type");var h=Rd(o)?!!o.capture:!!o,f=Q_(t);if(f||(t[K_]=f=new Gm(t)),i=f.add(e,i,r,h,l),i.proxy)return i;if(r=uF(),i.proxy=r,r.src=t,r.listener=i,t.addEventListener)ZU||(o=h),o===void 0&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(FR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return i}function uF(){function t(i){return e.call(t.src,t.listener,i)}const e=cF;return t}function MR(t,e,i,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)MR(t,e[l],i,r,o);return null}return i=X_(i),t&&t[Pd]?t.O(e,i,Rd(r)?!!r.capture:!!r,o):LR(t,e,i,!0,r,o)}function UR(t,e,i,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)UR(t,e[l],i,r,o);else r=Rd(r)?!!r.capture:!!r,i=X_(i),t&&t[Pd]?(t=t.i,e=String(e).toString(),e in t.g&&(l=t.g[e],i=ow(l,i,r,o),-1<i&&(Vm(l[i]),Array.prototype.splice.call(l,i,1),l.length==0&&(delete t.g[e],t.h--)))):t&&(t=Q_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ow(e,i,r,o)),(i=-1<t?e[t]:null)&&Y_(i))}function Y_(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Pd])sw(e.i,t);else{var i=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(i,r,t.capture):e.detachEvent?e.detachEvent(FR(i),r):e.addListener&&e.removeListener&&e.removeListener(r),(i=Q_(e))?(sw(i,t),i.h==0&&(i.src=null,e[K_]=null)):Vm(t)}}}function FR(t){return t in V0?V0[t]:V0[t]="on"+t}function cF(t,e){if(t.ba)t=!0;else{e=new rd(e,this);var i=t.listener,r=t.ha||t.src;t.ea&&Y_(t),t=i.call(r,e)}return t}function Q_(t){return t=t[K_],t instanceof Gm?t:null}var G0="__closure_events_fn_"+(1e9*Math.random()>>>0);function X_(t){return typeof t=="function"?t:(t[G0]||(t[G0]=function(e){return t.handleEvent(e)}),t[G0])}function bn(){To.call(this),this.i=new Gm(this),this.P=this,this.I=null}Nn(bn,To);bn.prototype[Pd]=!0;bn.prototype.removeEventListener=function(t,e,i,r){UR(this,t,e,i,r)};function An(t,e){var i,r=t.I;if(r)for(i=[];r;r=r.I)i.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Gn(e,t);else if(e instanceof Gn)e.target=e.target||t;else{var o=e;e=new Gn(r,t),NR(e,o)}if(o=!0,i)for(var l=i.length-1;0<=l;l--){var h=e.g=i[l];o=Np(h,r,!0,e)&&o}if(h=e.g=t,o=Np(h,r,!0,e)&&o,o=Np(h,r,!1,e)&&o,i)for(l=0;l<i.length;l++)h=e.g=i[l],o=Np(h,r,!1,e)&&o}bn.prototype.M=function(){if(bn.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var i=t.g[e],r=0;r<i.length;r++)Vm(i[r]);delete t.g[e],t.h--}}this.I=null};bn.prototype.N=function(t,e,i,r){return this.i.add(String(t),e,!1,i,r)};bn.prototype.O=function(t,e,i,r){return this.i.add(String(t),e,!0,i,r)};function Np(t,e,i,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ba&&h.capture==i){var f=h.listener,g=h.ha||h.src;h.ea&&sw(t.i,h),o=f.call(g,r)!==!1&&o}}return o&&!r.defaultPrevented}var J_=Fe.JSON.stringify;function hF(){var t=$R;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class dF{constructor(){this.h=this.g=null}add(e,i){const r=jR.get();r.set(e,i),this.h?this.h.next=r:this.g=r,this.h=r}}var jR=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new fF,t=>t.reset());class fF{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function pF(t){Fe.setTimeout(()=>{throw t},0)}function BR(t,e){aw||gF(),lw||(aw(),lw=!0),$R.add(t,e)}var aw;function gF(){var t=Fe.Promise.resolve(void 0);aw=function(){t.then(mF)}}var lw=!1,$R=new dF;function mF(){for(var t;t=hF();){try{t.h.call(t.g)}catch(i){pF(i)}var e=jR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}lw=!1}function zm(t,e){bn.call(this),this.h=t||1,this.g=e||Fe,this.j=Vn(this.lb,this),this.l=Date.now()}Nn(zm,bn);Ae=zm.prototype;Ae.ca=!1;Ae.R=null;Ae.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),An(this,"tick"),this.ca&&(Z_(this),this.start()))}};Ae.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Z_(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}Ae.M=function(){zm.X.M.call(this),Z_(this),delete this.g};function e2(t,e,i){if(typeof t=="function")i&&(t=Vn(t,i));else if(t&&typeof t.handleEvent=="function")t=Vn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Fe.setTimeout(t,e||0)}function VR(t){t.g=e2(()=>{t.g=null,t.i&&(t.i=!1,VR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class vF extends To{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VR(this)}M(){super.M(),this.g&&(Fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sd(t){To.call(this),this.h=t,this.g={}}Nn(sd,To);var Pk=[];function GR(t,e,i,r){Array.isArray(i)||(i&&(Pk[0]=i.toString()),i=Pk);for(var o=0;o<i.length;o++){var l=OR(e,i[o],r||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function zR(t){q_(t.g,function(e,i){this.g.hasOwnProperty(i)&&Y_(e)},t),t.g={}}sd.prototype.M=function(){sd.X.M.call(this),zR(this)};sd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hm(){this.g=!0}Hm.prototype.Aa=function(){this.g=!1};function yF(t,e,i,r,o,l){t.info(function(){if(t.g)if(l)for(var h="",f=l.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var b=v[0];v=v[1];var S=b.split("_");h=2<=S.length&&S[1]=="type"?h+(b+"="+v+"&"):h+(b+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+`
`+i+`
`+h})}function wF(t,e,i,r,o,l,h){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+`
`+i+`
`+l+" "+h})}function Xl(t,e,i,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+bF(t,i)+(r?" "+r:"")})}function _F(t,e){t.info(function(){return"TIMEOUT: "+e})}Hm.prototype.info=function(){};function bF(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i){for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var r=i[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if(l!="noop"&&l!="stop"&&l!="close")for(var h=1;h<o.length;h++)o[h]=""}}}}return J_(i)}catch{return e}}var Na={},Dk=null;function Wm(){return Dk=Dk||new bn}Na.Pa="serverreachability";function HR(t){Gn.call(this,Na.Pa,t)}Nn(HR,Gn);function od(t){const e=Wm();An(e,new HR(e))}Na.STAT_EVENT="statevent";function WR(t,e){Gn.call(this,Na.STAT_EVENT,t),this.stat=e}Nn(WR,Gn);function ti(t){const e=Wm();An(e,new WR(e,t))}Na.Qa="timingevent";function qR(t,e){Gn.call(this,Na.Qa,t),this.size=e}Nn(qR,Gn);function Dd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Fe.setTimeout(function(){t()},e)}var qm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},KR={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function t2(){}t2.prototype.h=null;function Nk(t){return t.h||(t.h=t.i())}function YR(){}var Nd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function n2(){Gn.call(this,"d")}Nn(n2,Gn);function i2(){Gn.call(this,"c")}Nn(i2,Gn);var uw;function Km(){}Nn(Km,t2);Km.prototype.g=function(){return new XMLHttpRequest};Km.prototype.i=function(){return{}};uw=new Km;function Od(t,e,i,r){this.l=t,this.j=e,this.m=i,this.U=r||1,this.S=new sd(this),this.O=SF,t=iw?125:void 0,this.T=new zm(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new QR}function QR(){this.i=null,this.g="",this.h=!1}var SF=45e3,cw={},tm={};Ae=Od.prototype;Ae.setTimeout=function(t){this.O=t};function hw(t,e,i){t.K=1,t.v=Qm(ys(e)),t.s=i,t.P=!0,XR(t,null)}function XR(t,e){t.F=Date.now(),Ld(t),t.A=ys(t.v);var i=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),sP(i.i,"t",r),t.C=0,i=t.l.H,t.h=new QR,t.g=kP(t.l,i?e:null,!t.s),0<t.N&&(t.L=new vF(Vn(t.La,t,t.g),t.N)),GR(t.S,t.g,"readystatechange",t.ib),e=t.H?DR(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),od(),yF(t.j,t.u,t.A,t.m,t.U,t.s)}Ae.ib=function(t){t=t.target;const e=this.L;e&&os(t)==3?e.l():this.La(t)};Ae.La=function(t){try{if(t==this.g)e:{const b=os(this.g);var e=this.g.Ea();const S=this.g.aa();if(!(3>b)&&(b!=3||iw||this.g&&(this.h.h||this.g.fa()||Uk(this.g)))){this.I||b!=4||e==7||(e==8||0>=S?od(3):od(2)),Ym(this);var i=this.g.aa();this.Y=i;t:if(JR(this)){var r=Uk(this.g);t="";var o=r.length,l=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ia(this),Ph(this);var h="";break t}this.h.i=new Fe.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=t,this.C=0,h=this.h.g}else h=this.g.fa();if(this.i=i==200,wF(this.j,this.u,this.A,this.m,this.U,b,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zg(f)){var v=f;break t}}v=null}if(i=v)Xl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dw(this,i);else{this.i=!1,this.o=3,ti(12),ia(this),Ph(this);break e}}this.P?(ZR(this,b,h),iw&&this.i&&b==3&&(GR(this.S,this.T,"tick",this.hb),this.T.start())):(Xl(this.j,this.m,h,null),dw(this,h)),b==4&&ia(this),this.i&&!this.I&&(b==4?SP(this.l,this):(this.i=!1,Ld(this)))}else i==400&&0<h.indexOf("Unknown SID")?(this.o=3,ti(12)):(this.o=0,ti(13)),ia(this),Ph(this)}}}catch{}finally{}};function JR(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function ZR(t,e,i){let r=!0,o;for(;!t.I&&t.C<i.length;)if(o=EF(t,i),o==tm){e==4&&(t.o=4,ti(14),r=!1),Xl(t.j,t.m,null,"[Incomplete Response]");break}else if(o==cw){t.o=4,ti(15),Xl(t.j,t.m,i,"[Invalid Chunk]"),r=!1;break}else Xl(t.j,t.m,o,null),dw(t,o);JR(t)&&o!=tm&&o!=cw&&(t.h.g="",t.C=0),e!=4||i.length!=0||t.h.h||(t.o=1,ti(16),r=!1),t.i=t.i&&r,r?0<i.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),c2(e),e.K=!0,ti(11))):(Xl(t.j,t.m,i,"[Invalid Chunked Response]"),ia(t),Ph(t))}Ae.hb=function(){if(this.g){var t=os(this.g),e=this.g.fa();this.C<e.length&&(Ym(this),ZR(this,t,e),this.i&&t!=4&&Ld(this))}};function EF(t,e){var i=t.C,r=e.indexOf(`
`,i);return r==-1?tm:(i=Number(e.substring(i,r)),isNaN(i)?cw:(r+=1,r+i>e.length?tm:(e=e.substr(r,i),t.C=r+i,e)))}Ae.cancel=function(){this.I=!0,ia(this)};function Ld(t){t.V=Date.now()+t.O,eP(t,t.O)}function eP(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Dd(Vn(t.gb,t),e)}function Ym(t){t.B&&(Fe.clearTimeout(t.B),t.B=null)}Ae.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(_F(this.j,this.A),this.K!=2&&(od(),ti(17)),ia(this),this.o=2,Ph(this)):eP(this,this.V-t)};function Ph(t){t.l.G==0||t.I||SP(t.l,t)}function ia(t){Ym(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Z_(t.T),zR(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function dw(t,e){try{var i=t.l;if(i.G!=0&&(i.g==t||fw(i.h,t))){if(!t.J&&fw(i.h,t)&&i.G==3){try{var r=i.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!i.u){if(i.g)if(i.g.F+3e3<t.F)rm(i),Zm(i);else break e;u2(i),ti(18)}}else i.Ba=o[1],0<i.Ba-i.T&&37500>o[2]&&i.L&&i.A==0&&!i.v&&(i.v=Dd(Vn(i.cb,i),6e3));if(1>=lP(i.h)&&i.ja){try{i.ja()}catch{}i.ja=void 0}}else ra(i,11)}else if((t.J||i.g==t)&&rm(i),!Zg(e))for(o=i.Fa.g.parse(e),e=0;e<o.length;e++){let v=o[e];if(i.T=v[0],v=v[1],i.G==2)if(v[0]=="c"){i.I=v[1],i.ka=v[2];const b=v[3];b!=null&&(i.ma=b,i.j.info("VER="+i.ma));const S=v[4];S!=null&&(i.Ca=S,i.j.info("SVER="+i.Ca));const P=v[5];P!=null&&typeof P=="number"&&0<P&&(r=1.5*P,i.J=r,i.j.info("backChannelRequestTimeoutMs_="+r)),r=i;const $=t.g;if($){const j=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var l=r.h;l.g||j.indexOf("spdy")==-1&&j.indexOf("quic")==-1&&j.indexOf("h2")==-1||(l.j=l.l,l.g=new Set,l.h&&(r2(l,l.h),l.h=null))}if(r.D){const I=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.za=I,kt(r.F,r.D,I))}}i.G=3,i.l&&i.l.xa(),i.$&&(i.P=Date.now()-t.F,i.j.info("Handshake RTT: "+i.P+"ms")),r=i;var h=t;if(r.sa=CP(r,r.H?r.ka:null,r.V),h.J){uP(r.h,h);var f=h,g=r.J;g&&f.setTimeout(g),f.B&&(Ym(f),Ld(f)),r.g=h}else _P(r);0<i.i.length&&ev(i)}else v[0]!="stop"&&v[0]!="close"||ra(i,7);else i.G==3&&(v[0]=="stop"||v[0]=="close"?v[0]=="stop"?ra(i,7):l2(i):v[0]!="noop"&&i.l&&i.l.wa(v),i.A=0)}}od(4)}catch{}}function IF(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Bm(t)){for(var e=[],i=t.length,r=0;r<i;r++)e.push(t[r]);return e}e=[],i=0;for(r in t)e[i++]=t[r];return e}function CF(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Bm(t)||typeof t=="string"){var e=[];t=t.length;for(var i=0;i<t;i++)e.push(i);return e}e=[],i=0;for(const r in t)e[i++]=r;return e}}}function tP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Bm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var i=CF(t),r=IF(t),o=r.length,l=0;l<o;l++)e.call(void 0,r[l],i&&i[l],t)}var nP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kF(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var r=t[i].indexOf("="),o=null;if(0<=r){var l=t[i].substring(0,r);o=t[i].substring(r+1)}else l=t[i];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function ua(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ua){this.h=e!==void 0?e:t.h,nm(this,t.j),this.s=t.s,this.g=t.g,im(this,t.m),this.l=t.l,e=t.i;var i=new ad;i.i=e.i,e.g&&(i.g=new Map(e.g),i.h=e.h),Ok(this,i),this.o=t.o}else t&&(i=String(t).match(nP))?(this.h=!!e,nm(this,i[1]||"",!0),this.s=vh(i[2]||""),this.g=vh(i[3]||"",!0),im(this,i[4]),this.l=vh(i[5]||"",!0),Ok(this,i[6]||"",!0),this.o=vh(i[7]||"")):(this.h=!!e,this.i=new ad(null,this.h))}ua.prototype.toString=function(){var t=[],e=this.j;e&&t.push(yh(e,Lk,!0),":");var i=this.g;return(i||e=="file")&&(t.push("//"),(e=this.s)&&t.push(yh(e,Lk,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,i!=null&&t.push(":",String(i))),(i=this.l)&&(this.g&&i.charAt(0)!="/"&&t.push("/"),t.push(yh(i,i.charAt(0)=="/"?AF:xF,!0))),(i=this.i.toString())&&t.push("?",i),(i=this.o)&&t.push("#",yh(i,PF)),t.join("")};function ys(t){return new ua(t)}function nm(t,e,i){t.j=i?vh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function im(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ok(t,e,i){e instanceof ad?(t.i=e,DF(t.i,t.h)):(i||(e=yh(e,RF)),t.i=new ad(e,t.h))}function kt(t,e,i){t.i.set(e,i)}function Qm(t){return kt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function vh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yh(t,e,i){return typeof t=="string"?(t=encodeURI(t).replace(e,TF),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function TF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Lk=/[#\/\?@]/g,xF=/[#\?:]/g,AF=/[#\?]/g,RF=/[#\?@]/g,PF=/#/g;function ad(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xo(t){t.g||(t.g=new Map,t.h=0,t.i&&kF(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}Ae=ad.prototype;Ae.add=function(t,e){xo(this),this.i=null,t=Nu(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this};function iP(t,e){xo(t),e=Nu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rP(t,e){return xo(t),e=Nu(t,e),t.g.has(e)}Ae.forEach=function(t,e){xo(this),this.g.forEach(function(i,r){i.forEach(function(o){t.call(e,o,r,this)},this)},this)};Ae.oa=function(){xo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),i=[];for(let r=0;r<e.length;r++){const o=t[r];for(let l=0;l<o.length;l++)i.push(e[r])}return i};Ae.W=function(t){xo(this);let e=[];if(typeof t=="string")rP(this,t)&&(e=e.concat(this.g.get(Nu(this,t))));else{t=Array.from(this.g.values());for(let i=0;i<t.length;i++)e=e.concat(t[i])}return e};Ae.set=function(t,e){return xo(this),this.i=null,t=Nu(this,t),rP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ae.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function sP(t,e,i){iP(t,e),0<i.length&&(t.i=null,t.g.set(Nu(t,e),H_(i)),t.h+=i.length)}Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var i=0;i<e.length;i++){var r=e[i];const l=encodeURIComponent(String(r)),h=this.W(r);for(r=0;r<h.length;r++){var o=l;h[r]!==""&&(o+="="+encodeURIComponent(String(h[r]))),t.push(o)}}return this.i=t.join("&")};function Nu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function DF(t,e){e&&!t.j&&(xo(t),t.i=null,t.g.forEach(function(i,r){var o=r.toLowerCase();r!=o&&(iP(this,r),sP(this,o,i))},t)),t.j=e}var NF=class{constructor(e,i){this.h=e,this.g=i}};function oP(t){this.l=t||OF,Fe.PerformanceNavigationTiming?(t=Fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Fe.g&&Fe.g.Ga&&Fe.g.Ga()&&Fe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var OF=10;function aP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lP(t){return t.h?1:t.g?t.g.size:0}function fw(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function r2(t,e){t.g?t.g.add(e):t.h=e}function uP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}oP.prototype.cancel=function(){if(this.i=cP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function cP(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const i of t.g.values())e=e.concat(i.D);return e}return H_(t.i)}function s2(){}s2.prototype.stringify=function(t){return Fe.JSON.stringify(t,void 0)};s2.prototype.parse=function(t){return Fe.JSON.parse(t,void 0)};function LF(){this.g=new s2}function MF(t,e,i){const r=i||"";try{tP(t,function(o,l){let h=o;Rd(o)&&(h=J_(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function UF(t,e){const i=new Hm;if(Fe.Image){const r=new Image;r.onload=Dp(Op,i,r,"TestLoadImage: loaded",!0,e),r.onerror=Dp(Op,i,r,"TestLoadImage: error",!1,e),r.onabort=Dp(Op,i,r,"TestLoadImage: abort",!1,e),r.ontimeout=Dp(Op,i,r,"TestLoadImage: timeout",!1,e),Fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Op(t,e,i,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Md(t){this.l=t.ac||null,this.j=t.jb||!1}Nn(Md,t2);Md.prototype.g=function(){return new Xm(this.l,this.j)};Md.prototype.i=function(t){return function(){return t}}({});function Xm(t,e){bn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=o2,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nn(Xm,bn);var o2=0;Ae=Xm.prototype;Ae.open=function(t,e){if(this.readyState!=o2)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ld(this)};Ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Fe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ud(this)),this.readyState=o2};Ae.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ld(this)),this.g&&(this.readyState=3,ld(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hP(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function hP(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}Ae.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ud(this):ld(this),this.readyState==3&&hP(this)}};Ae.Va=function(t){this.g&&(this.response=this.responseText=t,Ud(this))};Ae.Ua=function(t){this.g&&(this.response=t,Ud(this))};Ae.ga=function(){this.g&&Ud(this)};function Ud(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ld(t)}Ae.setRequestHeader=function(t,e){this.v.append(t,e)};Ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join(`\r
`)};function ld(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Xm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var FF=Fe.JSON.parse;function Ft(t){bn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dP,this.K=this.L=!1}Nn(Ft,bn);var dP="",jF=/^https?$/i,BF=["POST","PUT"];Ae=Ft.prototype;Ae.Ka=function(t){this.L=t};Ae.da=function(t,e,i,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uw.g(),this.C=this.u?Nk(this.u):Nk(uw),this.g.onreadystatechange=Vn(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(l){Mk(this,l);return}if(t=i||"",i=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)i.set(o,r[o]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const l of r.keys())i.set(l,r.get(l));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(i.keys()).find(l=>l.toLowerCase()=="content-type"),o=Fe.FormData&&t instanceof Fe.FormData,!(0<=xR(BF,e))||r||o||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,h]of i)this.g.setRequestHeader(l,h);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gP(this),0<this.B&&((this.K=$F(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vn(this.qa,this)):this.A=e2(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){Mk(this,l)}};function $F(t){return vu&&rF()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ae.qa=function(){typeof z_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,An(this,"timeout"),this.abort(8))};function Mk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fP(t),Jm(t)}function fP(t){t.D||(t.D=!0,An(t,"complete"),An(t,"error"))}Ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,An(this,"complete"),An(this,"abort"),Jm(this))};Ae.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jm(this,!0)),Ft.X.M.call(this)};Ae.Ha=function(){this.s||(this.F||this.v||this.l?pP(this):this.fb())};Ae.fb=function(){pP(this)};function pP(t){if(t.h&&typeof z_<"u"&&(!t.C[1]||os(t)!=4||t.aa()!=2)){if(t.v&&os(t)==4)e2(t.Ha,0,t);else if(An(t,"readystatechange"),os(t)==4){t.h=!1;try{const f=t.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var r;if(r=f===0){var o=String(t.H).match(nP)[1]||null;if(!o&&Fe.self&&Fe.self.location){var l=Fe.self.location.protocol;o=l.substr(0,l.length-1)}r=!jF.test(o?o.toLowerCase():"")}i=r}if(i)An(t,"complete"),An(t,"success");else{t.m=6;try{var h=2<os(t)?t.g.statusText:""}catch{h=""}t.j=h+" ["+t.aa()+"]",fP(t)}}finally{Jm(t)}}}}function Jm(t,e){if(t.g){gP(t);const i=t.g,r=t.C[0]?Jg:null;t.g=null,t.C=null,e||An(t,"ready");try{i.onreadystatechange=r}catch{}}}function gP(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Fe.clearTimeout(t.A),t.A=null)}function os(t){return t.g?t.g.readyState:0}Ae.aa=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}};Ae.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ae.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),FF(e)}};function Uk(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case dP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Ae.Ea=function(){return this.m};Ae.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mP(t){let e="";return q_(t,function(i,r){e+=r,e+=":",e+=i,e+=`\r
`}),e}function a2(t,e,i){e:{for(r in i){var r=!1;break e}r=!0}r||(i=mP(i),typeof t=="string"?i!=null&&encodeURIComponent(String(i)):kt(t,e,i))}function oh(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function vP(t){this.Ca=0,this.i=[],this.j=new Hm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=oh("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=oh("baseRetryDelayMs",5e3,t),this.bb=oh("retryDelaySeedMs",1e4,t),this.$a=oh("forwardChannelMaxRetries",2,t),this.ta=oh("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new oP(t&&t.concurrentRequestLimit),this.Fa=new LF,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}Ae=vP.prototype;Ae.ma=8;Ae.G=1;function l2(t){if(yP(t),t.G==3){var e=t.U++,i=ys(t.F);kt(i,"SID",t.I),kt(i,"RID",e),kt(i,"TYPE","terminate"),Fd(t,i),e=new Od(t,t.j,e,void 0),e.K=2,e.v=Qm(ys(i)),i=!1,Fe.navigator&&Fe.navigator.sendBeacon&&(i=Fe.navigator.sendBeacon(e.v.toString(),"")),!i&&Fe.Image&&(new Image().src=e.v,i=!0),i||(e.g=kP(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ld(e)}IP(t)}function Zm(t){t.g&&(c2(t),t.g.cancel(),t.g=null)}function yP(t){Zm(t),t.u&&(Fe.clearTimeout(t.u),t.u=null),rm(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Fe.clearTimeout(t.m),t.m=null)}function ev(t){aP(t.h)||t.m||(t.m=!0,BR(t.Ja,t),t.C=0)}function VF(t,e){return lP(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Dd(Vn(t.Ja,t,e),EP(t,t.C)),t.C++,!0)}Ae.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const o=new Od(this,this.j,t,void 0);let l=this.s;if(this.S&&(l?(l=DR(l),NR(l,this.S)):l=this.S),this.o!==null||this.N||(o.H=l,l=null),this.O)e:{for(var e=0,i=0;i<this.i.length;i++){t:{var r=this.i[i];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=i;break e}if(e===4096||i===this.i.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=wP(this,o,e),i=ys(this.F),kt(i,"RID",t),kt(i,"CVER",22),this.D&&kt(i,"X-HTTP-Session-Id",this.D),Fd(this,i),l&&(this.N?e="headers="+encodeURIComponent(String(mP(l)))+"&"+e:this.o&&a2(i,this.o,l)),r2(this.h,o),this.Ya&&kt(i,"TYPE","init"),this.O?(kt(i,"$req",e),kt(i,"SID","null"),o.Z=!0,hw(o,i,null)):hw(o,i,e),this.G=2}}else this.G==3&&(t?Fk(this,t):this.i.length==0||aP(this.h)||Fk(this))};function Fk(t,e){var i;e?i=e.m:i=t.U++;const r=ys(t.F);kt(r,"SID",t.I),kt(r,"RID",i),kt(r,"AID",t.T),Fd(t,r),t.o&&t.s&&a2(r,t.o,t.s),i=new Od(t,t.j,i,t.C+1),t.o===null&&(i.H=t.s),e&&(t.i=e.D.concat(t.i)),e=wP(t,i,1e3),i.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),r2(t.h,i),hw(i,r,e)}function Fd(t,e){t.ia&&q_(t.ia,function(i,r){kt(e,r,i)}),t.l&&tP({},function(i,r){kt(e,r,i)})}function wP(t,e,i){i=Math.min(t.i.length,i);var r=t.l?Vn(t.l.Ra,t.l,t):null;e:{var o=t.i;let l=-1;for(;;){const h=["count="+i];l==-1?0<i?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let f=!0;for(let g=0;g<i;g++){let v=o[g].h;const b=o[g].g;if(v-=l,0>v)l=Math.max(0,o[g].h-100),f=!1;else try{MF(b,h,"req"+v+"_")}catch{r&&r(b)}}if(f){r=h.join("&");break e}}}return t=t.i.splice(0,i),e.D=t,r}function _P(t){t.g||t.u||(t.Z=1,BR(t.Ia,t),t.A=0)}function u2(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Dd(Vn(t.Ia,t),EP(t,t.A)),t.A++,!0)}Ae.Ia=function(){if(this.u=null,bP(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Dd(Vn(this.eb,this),t)}};Ae.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ti(10),Zm(this),bP(this))};function c2(t){t.B!=null&&(Fe.clearTimeout(t.B),t.B=null)}function bP(t){t.g=new Od(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=ys(t.sa);kt(e,"RID","rpc"),kt(e,"SID",t.I),kt(e,"CI",t.L?"0":"1"),kt(e,"AID",t.T),kt(e,"TYPE","xmlhttp"),Fd(t,e),t.o&&t.s&&a2(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var i=t.g;t=t.ka,i.K=1,i.v=Qm(ys(e)),i.s=null,i.P=!0,XR(i,t)}Ae.cb=function(){this.v!=null&&(this.v=null,Zm(this),u2(this),ti(19))};function rm(t){t.v!=null&&(Fe.clearTimeout(t.v),t.v=null)}function SP(t,e){var i=null;if(t.g==e){rm(t),c2(t),t.g=null;var r=2}else if(fw(t.h,e))i=e.D,uP(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){i=e.s?e.s.length:0,e=Date.now()-e.F;var o=t.C;r=Wm(),An(r,new qR(r,i)),ev(t)}else _P(t);else if(o=e.o,o==3||o==0&&0<t.pa||!(r==1&&VF(t,e)||r==2&&u2(t)))switch(i&&0<i.length&&(e=t.h,e.i=e.i.concat(i)),o){case 1:ra(t,5);break;case 4:ra(t,10);break;case 3:ra(t,6);break;default:ra(t,2)}}}function EP(t,e){let i=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(i*=2),i*e}function ra(t,e){if(t.j.info("Error code "+e),e==2){var i=null;t.l&&(i=null);var r=Vn(t.kb,t);i||(i=new ua("//www.google.com/images/cleardot.gif"),Fe.location&&Fe.location.protocol=="http"||nm(i,"https"),Qm(i)),UF(i.toString(),r)}else ti(2);t.G=0,t.l&&t.l.va(e),IP(t),yP(t)}Ae.kb=function(t){t?(this.j.info("Successfully pinged google.com"),ti(2)):(this.j.info("Failed to ping google.com"),ti(1))};function IP(t){if(t.G=0,t.la=[],t.l){const e=cP(t.h);(e.length!=0||t.i.length!=0)&&(Tk(t.la,e),Tk(t.la,t.i),t.h.i.length=0,H_(t.i),t.i.length=0),t.l.ua()}}function CP(t,e,i){var r=i instanceof ua?ys(i):new ua(i,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),im(r,r.m);else{var o=Fe.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var l=new ua(null,void 0);r&&nm(l,r),e&&(l.g=e),o&&im(l,o),i&&(l.l=i),r=l}return i=t.D,e=t.za,i&&e&&kt(r,i,e),kt(r,"VER",t.ma),Fd(t,r),r}function kP(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=i&&t.Da&&!t.ra?new Ft(new Md({jb:!0})):new Ft(t.ra),e.Ka(t.H),e}function TP(){}Ae=TP.prototype;Ae.xa=function(){};Ae.wa=function(){};Ae.va=function(){};Ae.ua=function(){};Ae.Ra=function(){};function sm(){if(vu&&!(10<=Number(sF)))throw Error("Environmental error: no available transport.")}sm.prototype.g=function(t,e){return new Ui(t,e)};function Ui(t,e){bn.call(this),this.g=new vP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Zg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zg(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ou(this)}Nn(Ui,bn);Ui.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;ti(0),t.V=e,t.ia=i||{},t.L=t.Y,t.F=CP(t,null,t.V),ev(t)};Ui.prototype.close=function(){l2(this.g)};Ui.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var i={};i.__data__=t,t=i}else this.v&&(i={},i.__data__=J_(t),t=i);e.i.push(new NF(e.ab++,t)),e.G==3&&ev(e)};Ui.prototype.M=function(){this.g.l=null,delete this.j,l2(this.g),delete this.g,Ui.X.M.call(this)};function xP(t){n2.call(this);var e=t.__sm__;if(e){e:{for(const i in e){t=i;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Nn(xP,n2);function AP(){i2.call(this),this.status=1}Nn(AP,i2);function Ou(t){this.g=t}Nn(Ou,TP);Ou.prototype.xa=function(){An(this.g,"a")};Ou.prototype.wa=function(t){An(this.g,new xP(t))};Ou.prototype.va=function(t){An(this.g,new AP)};Ou.prototype.ua=function(){An(this.g,"b")};sm.prototype.createWebChannel=sm.prototype.g;Ui.prototype.send=Ui.prototype.u;Ui.prototype.open=Ui.prototype.m;Ui.prototype.close=Ui.prototype.close;qm.NO_ERROR=0;qm.TIMEOUT=8;qm.HTTP_ERROR=6;KR.COMPLETE="complete";YR.EventType=Nd;Nd.OPEN="a";Nd.CLOSE="b";Nd.ERROR="c";Nd.MESSAGE="d";bn.prototype.listen=bn.prototype.N;Ft.prototype.listenOnce=Ft.prototype.O;Ft.prototype.getLastError=Ft.prototype.Oa;Ft.prototype.getLastErrorCode=Ft.prototype.Ea;Ft.prototype.getStatus=Ft.prototype.aa;Ft.prototype.getResponseJson=Ft.prototype.Sa;Ft.prototype.getResponseText=Ft.prototype.fa;Ft.prototype.send=Ft.prototype.da;Ft.prototype.setWithCredentials=Ft.prototype.Ka;var GF=function(){return new sm},zF=function(){return Wm()},z0=qm,HF=KR,WF=Na,jk={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},qF=Md,Lp=YR,KF=Ft;const Bk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu="9.18.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Fm("@firebase/firestore");function $k(){return Sa.logLevel}function Pe(t,...e){if(Sa.logLevel<=tt.DEBUG){const i=e.map(h2);Sa.debug(`Firestore (${Lu}): ${t}`,...i)}}function ws(t,...e){if(Sa.logLevel<=tt.ERROR){const i=e.map(h2);Sa.error(`Firestore (${Lu}): ${t}`,...i)}}function pw(t,...e){if(Sa.logLevel<=tt.WARN){const i=e.map(h2);Sa.warn(`Firestore (${Lu}): ${t}`,...i)}}function h2(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t="Unexpected state"){const e=`FIRESTORE (${Lu}) INTERNAL ASSERTION FAILED: `+t;throw ws(e),new Error(e)}function vt(t,e){t||Ue()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends $n{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Un.UNAUTHENTICATED))}shutdown(){}}class QF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class XF{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let l=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hs,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hs)}},0),h()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string"),new RP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string"),new Un(e)}}class JF{constructor(e,i,r,o){this.h=e,this.l=i,this.m=r,this.g=o,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(vt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ZF{constructor(e,i,r,o){this.h=e,this.l=i,this.m=r,this.g=o}getToken(){return Promise.resolve(new JF(this.h,this.l,this.m,this.g))}start(e,i){e.enqueueRetryable(()=>i(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t8{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,i){const r=l=>{l.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.A;return this.A=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?o(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(vt(typeof i.token=="string"),this.A=i.token,new e8(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<t;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=n8(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<i&&(r+=e.charAt(o[l]%e.length))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function yu(t,e,i){return t.length===e.length&&t.every((r,o)=>i(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*i));return new ln(i,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new ln(0,0))}static max(){return new Be(new ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ue(),r===void 0?r=e.length-i:r>e.length-i&&Ue(),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ud.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ud?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const l=e.get(o),h=i.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class _t extends ud{construct(e,i,r){return new _t(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new _t(i)}static emptyPath(){return new _t([])}}const i8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends ud{construct(e,i,r){return new Bn(e,i,r)}static isValidIdentifier(e){return i8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const i=[];let r="",o=0;const l=()=>{if(r.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Se(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Se(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(r+=f,o++):(l(),o++)}if(l(),h)throw new Se(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(i)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(_t.fromString(e))}static fromName(e){return new De(_t.fromString(e).popFirst(5))}static empty(){return new De(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new _t(e.slice()))}}function r8(t,e){const i=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Be.fromTimestamp(r===1e9?new ln(i+1,0):new ln(i,r));return new wo(o,De.empty(),e)}function s8(t){return new wo(t.readTime,t.key,-1)}class wo{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new wo(Be.min(),De.empty(),-1)}static max(){return new wo(Be.max(),De.empty(),-1)}}function o8(t,e){let i=t.readTime.compareTo(e.readTime);return i!==0?i:(i=De.comparator(t.documentKey,e.documentKey),i!==0?i:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==a8)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ge((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(i,l).next(r,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof ge?i:ge.resolve(i)}catch(i){return ge.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):ge.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):ge.reject(i)}static resolve(e){return new ge((i,r)=>{i(e)})}static reject(e){return new ge((i,r)=>{r(e)})}static waitFor(e){return new ge((i,r)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&i()},g=>r(g))}),h=!0,l===o&&i()})}static or(e){let i=ge.resolve(!1);for(const r of e)i=i.next(o=>o?ge.resolve(o):r());return i}static forEach(e,i){const r=[];return e.forEach((o,l)=>{r.push(i.call(this,o,l))}),this.waitFor(r)}static mapArray(e,i){return new ge((r,o)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const v=g;i(e[v]).next(b=>{h[v]=b,++f,f===l&&r(h)},b=>o(b))}})}static doWhile(e,i){return new ge((r,o)=>{const l=()=>{e()===!0?i().next(()=>{l()},o):r()};l()})}}function Bd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}d2.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,i,r,o,l,h,f,g){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class cd{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Oa(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function DP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){return t==null}function om(t){return t===0&&1/t==-1/0}function c8(t){return typeof t=="number"&&Number.isInteger(t)&&!om(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(r){try{return atob(r)}catch(o){throw o instanceof DOMException?new h8("Invalid base64 string: "+o):o}}(e);return new Wn(i)}static fromUint8Array(e){const i=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Wn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const d8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(t){if(vt(!!t),typeof t=="string"){let e=0;const i=d8.exec(t);if(vt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wu(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){var e,i;return((i=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function OP(t){const e=t.mapValue.fields.__previous_value__;return NP(e)?OP(e):e}function hd(t){const e=_o(t.mapValue.fields.__local_write_time__.timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?NP(t)?4:f8(t)?9007199254740991:10:Ue()}function Gr(t,e){if(t===e)return!0;const i=Ea(t);if(i!==Ea(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hd(t).isEqual(hd(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=_o(r.timestampValue),h=_o(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return wu(r.bytesValue).isEqual(wu(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Qt(r.geoPointValue.latitude)===Qt(o.geoPointValue.latitude)&&Qt(r.geoPointValue.longitude)===Qt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Qt(r.integerValue)===Qt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Qt(r.doubleValue),h=Qt(o.doubleValue);return l===h?om(l)===om(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return yu(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Vk(l)!==Vk(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!Gr(l[f],h[f])))return!1;return!0}(t,e);default:return Ue()}}function dd(t,e){return(t.values||[]).find(i=>Gr(i,e))!==void 0}function _u(t,e){if(t===e)return 0;const i=Ea(t),r=Ea(e);if(i!==r)return lt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(o,l){const h=Qt(o.integerValue||o.doubleValue),f=Qt(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return Gk(t.timestampValue,e.timestampValue);case 4:return Gk(hd(t),hd(e));case 5:return lt(t.stringValue,e.stringValue);case 6:return function(o,l){const h=wu(o),f=wu(l);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),f=l.split("/");for(let g=0;g<h.length&&g<f.length;g++){const v=lt(h[g],f[g]);if(v!==0)return v}return lt(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const h=lt(Qt(o.latitude),Qt(l.latitude));return h!==0?h:lt(Qt(o.longitude),Qt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],f=l.values||[];for(let g=0;g<h.length&&g<f.length;++g){const v=_u(h[g],f[g]);if(v)return v}return lt(h.length,f.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===Mp.mapValue&&l===Mp.mapValue)return 0;if(o===Mp.mapValue)return 1;if(l===Mp.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=l.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const S=lt(f[b],v[b]);if(S!==0)return S;const P=_u(h[f[b]],g[v[b]]);if(P!==0)return P}return lt(f.length,v.length)}(t.mapValue,e.mapValue);default:throw Ue()}}function Gk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const i=_o(t),r=_o(e),o=lt(i.seconds,r.seconds);return o!==0?o:lt(i.nanos,r.nanos)}function bu(t){return gw(t)}function gw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const o=_o(r);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?wu(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,De.fromName(i).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=gw(h);return o+"]"}(t.arrayValue):"mapValue"in t?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const f of o)h?h=!1:l+=",",l+=`${f}:${gw(r.fields[f])}`;return l+"}"}(t.mapValue):Ue();var e,i}function zk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mw(t){return!!t&&"integerValue"in t}function f2(t){return!!t&&"arrayValue"in t}function Hk(t){return!!t&&"nullValue"in t}function Wk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pg(t){return!!t&&"mapValue"in t}function Dh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oa(t.mapValue.fields,(i,r)=>e.mapValue.fields[i]=Dh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Dh(t.arrayValue.values[i]);return e}return Object.assign({},t)}function f8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,i){this.position=e,this.inclusive=i}}function qk(t,e,i){let r=0;for(let o=0;o<t.position.length;o++){const l=e[o],h=t.position[o];if(l.field.isKeyField()?r=De.comparator(De.fromName(h.referenceValue),i.key):r=_u(h,i.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!Gr(t.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{}class Jt extends LP{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new g8(e,i,r):i==="array-contains"?new y8(e,r):i==="in"?new w8(e,r):i==="not-in"?new _8(e,r):i==="array-contains-any"?new b8(e,r):new Jt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new m8(e,r):new v8(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(_u(i,this.value)):i!==null&&Ea(this.value)===Ea(i)&&this.matchesComparison(_u(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fr extends LP{constructor(e,i){super(),this.filters=e,this.op=i,this.ft=null}static create(e,i){return new fr(e,i)}matches(e){return MP(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(i=>i.isInequality());return e!==null?e.field:null}dt(e){for(const i of this.getFlattenedFilters())if(e(i))return i;return null}}function MP(t){return t.op==="and"}function UP(t){return p8(t)&&MP(t)}function p8(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function vw(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+bu(t.value);if(UP(t))return t.filters.map(e=>vw(e)).join(",");{const e=t.filters.map(i=>vw(i)).join(",");return`${t.op}(${e})`}}function FP(t,e){return t instanceof Jt?function(i,r){return r instanceof Jt&&i.op===r.op&&i.field.isEqual(r.field)&&Gr(i.value,r.value)}(t,e):t instanceof fr?function(i,r){return r instanceof fr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,l,h)=>o&&FP(l,r.filters[h]),!0):!1}(t,e):void Ue()}function jP(t){return t instanceof Jt?function(e){return`${e.field.canonicalString()} ${e.op} ${bu(e.value)}`}(t):t instanceof fr?function(e){return e.op.toString()+" {"+e.getFilters().map(jP).join(" ,")+"}"}(t):"Filter"}class g8 extends Jt{constructor(e,i,r){super(e,i,r),this.key=De.fromName(r.referenceValue)}matches(e){const i=De.comparator(e.key,this.key);return this.matchesComparison(i)}}class m8 extends Jt{constructor(e,i){super(e,"in",i),this.keys=BP("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class v8 extends Jt{constructor(e,i){super(e,"not-in",i),this.keys=BP("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function BP(t,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>De.fromName(r.referenceValue))}class y8 extends Jt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return f2(i)&&dd(i.arrayValue,this.value)}}class w8 extends Jt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&dd(this.value.arrayValue,i)}}class _8 extends Jt{constructor(e,i){super(e,"not-in",i)}matches(e){if(dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!dd(this.value.arrayValue,i)}}class b8 extends Jt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!f2(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>dd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,i="asc"){this.field=e,this.dir=i}}function S8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,i){this.comparator=e,this.root=i||Tn.EMPTY}insert(e,i){return new hn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Up(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Up(this.root,e,this.comparator,!1)}getReverseIterator(){return new Up(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Up(this.root,e,this.comparator,!0)}}class Up{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=i?r(e.key,i):1,i&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,i,r,o,l){this.key=e,this.value=i,this.color=r??Tn.RED,this.left=o??Tn.EMPTY,this.right=l??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,l){return new Tn(e??this.key,i??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,i,r),null):l===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Yk(this.data.getIterator())}getIteratorFrom(e){return new Yk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new un(this.comparator);return i.data=e,i}}class Yk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Ri([])}unionWith(e){let i=new un(Bn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Ri(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return yu(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!pg(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dh(i)}setAll(e){let i=Bn.emptyPath(),r={},o=[];e.forEach((h,f)=>{if(!i.isImmediateParentOf(f)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=f.popLast()}h?r[f.lastSegment()]=Dh(h):o.push(f.lastSegment())});const l=this.getFieldsMap(i);this.applyChanges(l,r,o)}delete(e){const i=this.field(e.popLast());pg(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];pg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Oa(i,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new fi(Dh(this.value))}}function $P(t){const e=[];return Oa(t.fields,(i,r)=>{const o=new Bn([i]);if(pg(r)){const l=$P(r.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,i,r,o,l,h,f){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new jn(e,0,Be.min(),Be.min(),Be.min(),fi.empty(),0)}static newFoundDocument(e,i,r,o){return new jn(e,1,i,Be.min(),r,o,0)}static newNoDocument(e,i){return new jn(e,2,i,Be.min(),Be.min(),fi.empty(),0)}static newUnknownDocument(e,i){return new jn(e,3,i,Be.min(),Be.min(),fi.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e,i=null,r=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this._t=null}}function Qk(t,e=null,i=[],r=[],o=null,l=null,h=null){return new E8(t,e,i,r,o,l,h)}function p2(t){const e=Ve(t);if(e._t===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>vw(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),tv(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>bu(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>bu(r)).join(",")),e._t=i}return e._t}function g2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!S8(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!FP(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kk(t.startAt,e.startAt)&&Kk(t.endAt,e.endAt)}function yw(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,i=null,r=[],o=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.wt=null,this.gt=null,this.startAt,this.endAt}}function I8(t,e,i,r,o,l,h,f){return new Mu(t,e,i,r,o,l,h,f)}function nv(t){return new Mu(t)}function Xk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m2(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function iv(t){for(const e of t.filters){const i=e.getFirstInequalityField();if(i!==null)return i}return null}function VP(t){return t.collectionGroup!==null}function su(t){const e=Ve(t);if(e.wt===null){e.wt=[];const i=iv(e),r=m2(e);if(i!==null&&r===null)i.isKeyField()||e.wt.push(new ru(i)),e.wt.push(new ru(Bn.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ru(Bn.keyField(),l))}}}return e.wt}function _s(t){const e=Ve(t);if(!e.gt)if(e.limitType==="F")e.gt=Qk(e.path,e.collectionGroup,su(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const l of su(e)){const h=l.dir==="desc"?"asc":"desc";i.push(new ru(l.field,h))}const r=e.endAt?new am(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new am(e.startAt.position,e.startAt.inclusive):null;e.gt=Qk(e.path,e.collectionGroup,i,e.filters,e.limit,r,o)}return e.gt}function ww(t,e){e.getFirstInequalityField(),iv(t);const i=t.filters.concat([e]);return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),i,t.limit,t.limitType,t.startAt,t.endAt)}function lm(t,e,i){return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function rv(t,e){return g2(_s(t),_s(e))&&t.limitType===e.limitType}function GP(t){return`${p2(_s(t))}|lt:${t.limitType}`}function _w(t){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>jP(r)).join(", ")}]`),tv(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>bu(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>bu(r)).join(",")),`Target(${i})`}(_s(t))}; limitType=${t.limitType})`}function sv(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):De.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of su(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,l,h){const f=qk(o,l,h);return o.inclusive?f<=0:f<0}(i.startAt,su(i),r)||i.endAt&&!function(o,l,h){const f=qk(o,l,h);return o.inclusive?f>=0:f>0}(i.endAt,su(i),r))}(t,e)}function C8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zP(t){return(e,i)=>{let r=!1;for(const o of su(t)){const l=k8(o,e,i);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function k8(t,e,i){const r=t.field.isKeyField()?De.comparator(e.key,i.key):function(o,l,h){const f=l.data.field(o),g=h.data.field(o);return f!==null&&g!==null?_u(f,g):Ue()}(t.field,e,i);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:om(e)?"-0":e}}function WP(t){return{integerValue:""+t}}function qP(t,e){return c8(e)?WP(e):HP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this._=void 0}}function T8(t,e,i){return t instanceof fd?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(i,e):t instanceof pd?YP(t,e):t instanceof gd?QP(t,e):function(r,o){const l=KP(r,o),h=Jk(l)+Jk(r.It);return mw(l)&&mw(r.It)?WP(h):HP(r.Tt,h)}(t,e)}function x8(t,e,i){return t instanceof pd?YP(t,e):t instanceof gd?QP(t,e):i}function KP(t,e){return t instanceof md?mw(i=e)||function(r){return!!r&&"doubleValue"in r}(i)?e:{integerValue:0}:null;var i}class fd extends ov{}class pd extends ov{constructor(e){super(),this.elements=e}}function YP(t,e){const i=XP(e);for(const r of t.elements)i.some(o=>Gr(o,r))||i.push(r);return{arrayValue:{values:i}}}class gd extends ov{constructor(e){super(),this.elements=e}}function QP(t,e){let i=XP(e);for(const r of t.elements)i=i.filter(o=>!Gr(o,r));return{arrayValue:{values:i}}}class md extends ov{constructor(e,i){super(),this.Tt=e,this.It=i}}function Jk(t){return Qt(t.integerValue||t.doubleValue)}function XP(t){return f2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,i){this.field=e,this.transform=i}}function A8(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof pd&&r instanceof pd||i instanceof gd&&r instanceof gd?yu(i.elements,r.elements,Gr):i instanceof md&&r instanceof md?Gr(i.It,r.It):i instanceof fd&&r instanceof fd}(t.transform,e.transform)}class R8{constructor(e,i){this.version=e,this.transformResults=i}}class hr{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class av{}function ZP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new t3(t.key,hr.none()):new $d(t.key,t.data,hr.none());{const i=t.data,r=fi.empty();let o=new un(Bn.comparator);for(let l of e.fields)if(!o.has(l)){let h=i.field(l);h===null&&l.length>1&&(l=l.popLast(),h=i.field(l)),h===null?r.delete(l):r.set(l,h),o=o.add(l)}return new Ao(t.key,r,new Ri(o.toArray()),hr.none())}}function P8(t,e,i){t instanceof $d?function(r,o,l){const h=r.value.clone(),f=eT(r.fieldTransforms,o,l.transformResults);h.setAll(f),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,i):t instanceof Ao?function(r,o,l){if(!gg(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=eT(r.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(e3(r)),f.setAll(h),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,i):function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,i)}function Nh(t,e,i,r){return t instanceof $d?function(o,l,h,f){if(!gg(o.precondition,l))return h;const g=o.value.clone(),v=tT(o.fieldTransforms,f,l);return g.setAll(v),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),null}(t,e,i,r):t instanceof Ao?function(o,l,h,f){if(!gg(o.precondition,l))return h;const g=tT(o.fieldTransforms,f,l),v=l.data;return v.setAll(e3(o)),v.setAll(g),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(t,e,i,r):function(o,l,h){return gg(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,i)}function D8(t,e){let i=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),l=KP(r.transform,o||null);l!=null&&(i===null&&(i=fi.empty()),i.set(r.field,l))}return i||null}function Zk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&yu(i,r,(o,l)=>A8(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $d extends av{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}let Ao=class extends av{constructor(e,i,r,o,l=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}};function e3(t){const e=new Map;return t.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=t.data.field(i);e.set(i,r)}}),e}function eT(t,e,i){const r=new Map;vt(t.length===i.length);for(let o=0;o<i.length;o++){const l=t[o],h=l.transform,f=e.data.field(l.field);r.set(l.field,x8(h,f,i[o]))}return r}function tT(t,e,i){const r=new Map;for(const o of t){const l=o.transform,h=i.data.field(o.field);r.set(o.field,T8(l,h,e))}return r}class t3 extends av{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N8 extends av{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,Je;function L8(t){switch(t){default:return Ue();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function n3(t){if(t===void 0)return ws("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Yt.OK:return ue.OK;case Yt.CANCELLED:return ue.CANCELLED;case Yt.UNKNOWN:return ue.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ue.INTERNAL;case Yt.UNAVAILABLE:return ue.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ue.NOT_FOUND;case Yt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Yt.ABORTED:return ue.ABORTED;case Yt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Yt.DATA_LOSS:return ue.DATA_LOSS;default:return Ue()}}(Je=Yt||(Yt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(i,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return DP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=new hn(De.comparator);function bs(){return M8}const i3=new hn(De.comparator);function wh(...t){let e=i3;for(const i of t)e=e.insert(i.key,i);return e}function r3(t){let e=i3;return t.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function sa(){return Oh()}function s3(){return Oh()}function Oh(){return new Uu(t=>t.toString(),(t,e)=>t.isEqual(e))}const U8=new hn(De.comparator),F8=new un(De.comparator);function Ke(...t){let e=F8;for(const i of t)e=e.add(i);return e}const j8=new un(lt);function o3(){return j8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,i,r,o,l){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new lv(Be.min(),o,o3(),bs(),Ke())}}class Vd{constructor(e,i,r,o,l){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Vd(r,i,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,i,r,o){this.Et=e,this.removedTargetIds=i,this.key=r,this.At=o}}class a3{constructor(e,i){this.targetId=e,this.Rt=i}}class l3{constructor(e,i,r=Wn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class nT{constructor(){this.Pt=0,this.vt=rT(),this.bt=Wn.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return this.Pt!==0}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=Ke(),i=Ke(),r=Ke();return this.vt.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ue()}}),new Vd(this.bt,this.Vt,e,i,r)}kt(){this.St=!1,this.vt=rT()}$t(e,i){this.St=!0,this.vt=this.vt.insert(e,i)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class B8{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=bs(),this.Kt=iT(),this.Gt=new un(lt)}Qt(e){for(const i of e.Et)e.At&&e.At.isFoundDocument()?this.jt(i,e.At):this.zt(i,e.key,e.At);for(const i of e.removedTargetIds)this.zt(i,e.key,e.At)}Wt(e){this.forEachTarget(e,i=>{const r=this.Ht(i);switch(e.state){case 0:this.Jt(i)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(i);break;case 3:this.Jt(i)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(i)&&(this.Yt(i),r.xt(e.resumeToken));break;default:Ue()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qt.forEach((r,o)=>{this.Jt(o)&&i(o)})}Zt(e){const i=e.targetId,r=e.Rt.count,o=this.Xt(i);if(o){const l=o.target;if(yw(l))if(r===0){const h=new De(l.path);this.zt(i,h,jn.newNoDocument(h,Be.min()))}else vt(r===1);else this.te(i)!==r&&(this.Yt(i),this.Gt=this.Gt.add(i))}}ee(e){const i=new Map;this.qt.forEach((l,h)=>{const f=this.Xt(h);if(f){if(l.current&&yw(f.target)){const g=new De(f.target.path);this.Ut.get(g)!==null||this.ne(h,g)||this.zt(h,g,jn.newNoDocument(g,e))}l.Ct&&(i.set(h,l.Nt()),l.kt())}});let r=Ke();this.Kt.forEach((l,h)=>{let f=!0;h.forEachWhile(g=>{const v=this.Xt(g);return!v||v.purpose===2||(f=!1,!1)}),f&&(r=r.add(l))}),this.Ut.forEach((l,h)=>h.setReadTime(e));const o=new lv(e,i,this.Gt,this.Ut,r);return this.Ut=bs(),this.Kt=iT(),this.Gt=new un(lt),o}jt(e,i){if(!this.Jt(e))return;const r=this.ne(e,i.key)?2:0;this.Ht(e).$t(i.key,r),this.Ut=this.Ut.insert(i.key,i),this.Kt=this.Kt.insert(i.key,this.se(i.key).add(e))}zt(e,i,r){if(!this.Jt(e))return;const o=this.Ht(e);this.ne(e,i)?o.$t(i,1):o.Mt(i),this.Kt=this.Kt.insert(i,this.se(i).delete(e)),r&&(this.Ut=this.Ut.insert(i,r))}removeTarget(e){this.qt.delete(e)}te(e){const i=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let i=this.qt.get(e);return i||(i=new nT,this.qt.set(e,i)),i}se(e){let i=this.Kt.get(e);return i||(i=new un(lt),this.Kt=this.Kt.insert(e,i)),i}Jt(e){const i=this.Xt(e)!==null;return i||Pe("WatchChangeAggregator","Detected inactive target",e),i}Xt(e){const i=this.qt.get(e);return i&&i.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new nT),this.Lt.getRemoteKeysForTarget(e).forEach(i=>{this.zt(e,i,null)})}ne(e,i){return this.Lt.getRemoteKeysForTarget(e).has(i)}}function iT(){return new hn(De.comparator)}function rT(){return new hn(De.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),V8=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),G8=(()=>({and:"AND",or:"OR"}))();class z8{constructor(e,i){this.databaseId=e,this.yt=i}}function um(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u3(t,e){return t.yt?e.toBase64():e.toUint8Array()}function H8(t,e){return um(t,e.toTimestamp())}function $r(t){return vt(!!t),Be.fromTimestamp(function(e){const i=_o(e);return new ln(i.seconds,i.nanos)}(t))}function v2(t,e){return function(i){return new _t(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function c3(t){const e=_t.fromString(t);return vt(p3(e)),e}function bw(t,e){return v2(t.databaseId,e.path)}function H0(t,e){const i=c3(e);if(i.get(1)!==t.databaseId.projectId)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new De(h3(i))}function Sw(t,e){return v2(t.databaseId,e)}function W8(t){const e=c3(t);return e.length===4?_t.emptyPath():h3(e)}function Ew(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h3(t){return vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sT(t,e,i){return{name:bw(t,e),fields:i.value.mapValue.fields}}function q8(t,e){let i;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,v){return g.yt?(vt(v===void 0||typeof v=="string"),Wn.fromBase64String(v||"")):(vt(v===void 0||v instanceof Uint8Array),Wn.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(g){const v=g.code===void 0?ue.UNKNOWN:n3(g.code);return new Se(v,g.message||"")}(h);i=new l3(r,o,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=H0(t,r.document.name),l=$r(r.document.updateTime),h=r.document.createTime?$r(r.document.createTime):Be.min(),f=new fi({mapValue:{fields:r.document.fields}}),g=jn.newFoundDocument(o,l,h,f),v=r.targetIds||[],b=r.removedTargetIds||[];i=new mg(v,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=H0(t,r.document),l=r.readTime?$r(r.readTime):Be.min(),h=jn.newNoDocument(o,l),f=r.removedTargetIds||[];i=new mg([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=H0(t,r.document),l=r.removedTargetIds||[];i=new mg([],l,o,null)}else{if(!("filter"in e))return Ue();{e.filter;const r=e.filter;r.targetId;const o=r.count||0,l=new O8(o),h=r.targetId;i=new a3(h,l)}}return i}function K8(t,e){let i;if(e instanceof $d)i={update:sT(t,e.key,e.value)};else if(e instanceof t3)i={delete:bw(t,e.key)};else if(e instanceof Ao)i={update:sT(t,e.key,e.data),updateMask:ij(e.fieldMask)};else{if(!(e instanceof N8))return Ue();i={verify:bw(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof fd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof pd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof gd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof md)return{fieldPath:l.field.canonicalString(),increment:h.It};throw Ue()}(0,r))),e.precondition.isNone||(i.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:H8(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue()}(t,e.precondition)),i}function Y8(t,e){return t&&t.length>0?(vt(e!==void 0),t.map(i=>function(r,o){let l=r.updateTime?$r(r.updateTime):$r(o);return l.isEqual(Be.min())&&(l=$r(o)),new R8(l,r.transformResults||[])}(i,e))):[]}function Q8(t,e){return{documents:[Sw(t,e.path)]}}function X8(t,e){const i={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(i.parent=Sw(t,r),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Sw(t,r.popLast()),i.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(g){if(g.length!==0)return f3(fr.create(g,"and"))}(e.filters);o&&(i.structuredQuery.where=o);const l=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:Ml(b.field),direction:ej(b.dir)}}(v))}(e.orderBy);l&&(i.structuredQuery.orderBy=l);const h=function(g,v){return g.yt||tv(v)?v:{value:v}}(t,e.limit);var f;return h!==null&&(i.structuredQuery.limit=h),e.startAt&&(i.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),i}function J8(t){let e=W8(t.parent);const i=t.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){vt(r===1);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let l=[];i.where&&(l=function(b){const S=d3(b);return S instanceof fr&&UP(S)?S.getFilters():[S]}(i.where));let h=[];i.orderBy&&(h=i.orderBy.map(b=>function(S){return new ru(Ul(S.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(b)));let f=null;i.limit&&(f=function(b){let S;return S=typeof b=="object"?b.value:b,tv(S)?null:S}(i.limit));let g=null;i.startAt&&(g=function(b){const S=!!b.before,P=b.values||[];return new am(P,S)}(i.startAt));let v=null;return i.endAt&&(v=function(b){const S=!b.before,P=b.values||[];return new am(P,S)}(i.endAt)),I8(e,o,h,l,f,"F",g,v)}function Z8(t,e){const i=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ue()}}(0,e.purpose);return i==null?null:{"goog-listen-tags":i}}function d3(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ul(e.unaryFilter.field);return Jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ul(e.unaryFilter.field);return Jt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ul(e.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ul(e.unaryFilter.field);return Jt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(t):t.fieldFilter!==void 0?function(e){return Jt.create(Ul(e.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return fr.create(e.compositeFilter.filters.map(i=>d3(i)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue()}}(e.compositeFilter.op))}(t):Ue()}function ej(t){return $8[t]}function tj(t){return V8[t]}function nj(t){return G8[t]}function Ml(t){return{fieldPath:t.canonicalString()}}function Ul(t){return Bn.fromServerFormat(t.fieldPath)}function f3(t){return t instanceof Jt?function(e){if(e.op==="=="){if(Wk(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NAN"}};if(Hk(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Wk(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NOT_NAN"}};if(Hk(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(e.field),op:tj(e.op),value:e.value}}}(t):t instanceof fr?function(e){const i=e.getFilters().map(r=>f3(r));return i.length===1?i[0]:{compositeFilter:{op:nj(e.op),filters:i}}}(t):Ue()}function ij(t){const e=[];return t.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function p3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&P8(l,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Nh(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Nh(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=s3();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=i.has(o.key)?null:f;const g=ZP(h,f);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ke())}isEqual(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,(i,r)=>Zk(i,r))&&yu(this.baseMutations,e.baseMutations,(i,r)=>Zk(i,r))}}class y2{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){vt(e.mutations.length===r.length);let o=U8;const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new y2(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,i,r,o,l=Be.min(),h=Be.min(),f=Wn.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.oe=e}}function aj(t){const e=J8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.Ze=new uj}addToCollectionParentIndex(e,i){return this.Ze.add(i),ge.resolve()}getCollectionParents(e,i){return ge.resolve(this.Ze.getEntries(i))}addFieldIndex(e,i){return ge.resolve()}deleteFieldIndex(e,i){return ge.resolve()}getDocumentsMatchingTarget(e,i){return ge.resolve(null)}getIndexType(e,i){return ge.resolve(0)}getFieldIndexes(e,i){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,i){return ge.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,i){return ge.resolve(wo.min())}updateCollectionGroup(e,i,r){return ge.resolve()}updateIndexEntries(e,i){return ge.resolve()}}class uj{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new un(_t.comparator),l=!o.has(r);return this.index[i]=o.add(r),l}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new un(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new Su(0)}static Sn(){return new Su(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.changes=new Uu(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ge.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(r!==null&&Nh(r.mutation,o,Ri.empty(),ln.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,i,r=Ke()){const o=sa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,r).next(l=>{let h=wh();return l.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,i){const r=sa();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,Ke()))}populateOverlays(e,i,r){const o=[];return r.forEach(l=>{i.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{i.set(h,f)})})}computeViews(e,i,r,o){let l=bs();const h=Oh(),f=Oh();return i.forEach((g,v)=>{const b=r.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof Ao)?l=l.insert(v.key,v):b!==void 0?(h.set(v.key,b.mutation.getFieldMask()),Nh(b.mutation,v,b.mutation.getFieldMask(),ln.now())):h.set(v.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((v,b)=>h.set(v,b)),i.forEach((v,b)=>{var S;return f.set(v,new hj(b,(S=h.get(v))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,i){const r=Oh();let o=new hn((h,f)=>h-f),l=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(h=>{for(const f of h)f.keys().forEach(g=>{const v=i.get(g);if(v===null)return;let b=r.get(g)||Ri.empty();b=f.applyToLocalView(v,b),r.set(g,b);const S=(o.get(f.batchId)||Ke()).add(g);o=o.insert(f.batchId,S)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,b=g.value,S=s3();b.forEach(P=>{if(!l.has(P)){const $=ZP(i.get(P),r.get(P));$!==null&&S.set(P,$),l=l.add(P)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return ge.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r){return function(o){return De.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):VP(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r):this.getDocumentsMatchingCollectionQuery(e,i,r)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-l.size):ge.resolve(sa());let f=-1,g=l;return h.next(v=>ge.forEach(v,(b,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(b)?ge.resolve():this.remoteDocumentCache.getEntry(e,b).next(P=>{g=g.insert(b,P)}))).next(()=>this.populateOverlays(e,v,l)).next(()=>this.computeViews(e,g,v,Ke())).next(b=>({batchId:f,changes:r3(b)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new De(i)).next(r=>{let o=wh();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,r){const o=i.collectionGroup;let l=wh();return this.indexManager.getCollectionParents(e,o).next(h=>ge.forEach(h,f=>{const g=function(v,b){return new Mu(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(i,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r).next(v=>{v.forEach((b,S)=>{l=l.insert(b,S)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,o))).next(l=>{o.forEach((f,g)=>{const v=g.getKey();l.get(v)===null&&(l=l.insert(v,jn.newInvalidDocument(v)))});let h=wh();return l.forEach((f,g)=>{const v=o.get(f);v!==void 0&&Nh(v.mutation,g,Ri.empty(),ln.now()),sv(i,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,i){return ge.resolve(this.es.get(i))}saveBundleMetadata(e,i){var r;return this.es.set(i.id,{id:(r=i).id,version:r.version,createTime:$r(r.createTime)}),ge.resolve()}getNamedQuery(e,i){return ge.resolve(this.ns.get(i))}saveNamedQuery(e,i){return this.ns.set(i.name,function(r){return{name:r.name,query:aj(r.bundledQuery),readTime:$r(r.readTime)}}(i)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.overlays=new hn(De.comparator),this.ss=new Map}getOverlay(e,i){return ge.resolve(this.overlays.get(i))}getOverlays(e,i){const r=sa();return ge.forEach(i,o=>this.getOverlay(e,o).next(l=>{l!==null&&r.set(o,l)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((o,l)=>{this.ce(e,i,l)}),ge.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.ss.get(r);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.ss.delete(r)),ge.resolve()}getOverlaysForCollection(e,i,r){const o=sa(),l=i.length+1,h=new De(i.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===l&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let l=new hn((v,b)=>v-b);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let b=l.get(v.largestBatchId);b===null&&(b=sa(),l=l.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const f=sa(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,b)=>f.set(v,b)),!(f.size()>=o)););return ge.resolve(f)}ce(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.ss.get(o.largestBatchId).delete(r.key);this.ss.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new sj(i,r));let l=this.ss.get(i);l===void 0&&(l=Ke(),this.ss.set(i,l)),this.ss.set(i,l.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.rs=new un(yn.os),this.us=new un(yn.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,i){const r=new yn(e,i);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.ls(new yn(e,i))}fs(e,i){e.forEach(r=>this.removeReference(r,i))}ds(e){const i=new De(new _t([])),r=new yn(i,e),o=new yn(i,e+1),l=[];return this.us.forEachInRange([r,o],h=>{this.ls(h),l.push(h.key)}),l}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const i=new De(new _t([])),r=new yn(i,e),o=new yn(i,e+1);let l=Ke();return this.us.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const i=new yn(e,0),r=this.rs.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,i){this.key=e,this.gs=i}static os(e,i){return De.comparator(e.key,i.key)||lt(e.gs,i.gs)}static cs(e,i){return lt(e.gs,i.gs)||De.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.ys=1,this.ps=new un(yn.os)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const l=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new rj(l,i,r,o);this.mutationQueue.push(h);for(const f of o)this.ps=this.ps.add(new yn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(h)}lookupMutationBatch(e,i){return ge.resolve(this.Is(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Ts(r),l=o<0?0:o;return ge.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new yn(i,0),o=new yn(i,Number.POSITIVE_INFINITY),l=[];return this.ps.forEachInRange([r,o],h=>{const f=this.Is(h.gs);l.push(f)}),ge.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new un(lt);return i.forEach(o=>{const l=new yn(o,0),h=new yn(o,Number.POSITIVE_INFINITY);this.ps.forEachInRange([l,h],f=>{r=r.add(f.gs)})}),ge.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let l=r;De.isDocumentKey(l)||(l=l.child(""));const h=new yn(new De(l),0);let f=new un(lt);return this.ps.forEachWhile(g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.gs)),!0)},h),ge.resolve(this.Es(f))}Es(e){const i=[];return e.forEach(r=>{const o=this.Is(r);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){vt(this.As(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ps;return ge.forEach(i.mutations,o=>{const l=new yn(o.key,i.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,i){const r=new yn(i,0),o=this.ps.firstAfterOrEqual(r);return ge.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}As(e,i){return this.Ts(e)}Ts(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Is(e){const i=this.Ts(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.Rs=e,this.docs=new hn(De.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),l=o?o.size:0,h=this.Rs(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return ge.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(i))}getEntries(e,i){let r=bs();return i.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():jn.newInvalidDocument(o))}),ge.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let l=bs();const h=i.path,f=new De(h.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:b}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||o8(s8(b),r)<=0||(o.has(b.key)||sv(i,b))&&(l=l.insert(b.key,b.mutableCopy()))}return ge.resolve(l)}getAllFromCollectionGroup(e,i,r,o){Ue()}Ps(e,i){return ge.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new vj(this)}getSize(e){return ge.resolve(this.size)}}class vj extends cj{constructor(e){super(),this.Xn=e}applyChanges(e){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.Xn.addEntry(e,o)):this.Xn.removeEntry(r)}),ge.waitFor(i)}getFromCache(e,i){return this.Xn.getEntry(e,i)}getAllFromCache(e,i){return this.Xn.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.persistence=e,this.vs=new Uu(i=>p2(i),g2),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.bs=0,this.Vs=new w2,this.targetCount=0,this.Ss=Su.Vn()}forEachTarget(e,i){return this.vs.forEach((r,o)=>i(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.bs&&(this.bs=i),ge.resolve()}xn(e){this.vs.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ss=new Su(i),this.highestTargetId=i),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,i){return this.xn(i),this.targetCount+=1,ge.resolve()}updateTargetData(e,i){return this.xn(i),ge.resolve()}removeTargetData(e,i){return this.vs.delete(i.target),this.Vs.ds(i.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,i,r){let o=0;const l=[];return this.vs.forEach((h,f)=>{f.sequenceNumber<=i&&r.get(f.targetId)===null&&(this.vs.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ge.waitFor(l).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,i){const r=this.vs.get(i)||null;return ge.resolve(r)}addMatchingKeys(e,i,r){return this.Vs.hs(i,r),ge.resolve()}removeMatchingKeys(e,i,r){this.Vs.fs(i,r);const o=this.persistence.referenceDelegate,l=[];return o&&i.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),ge.waitFor(l)}removeMatchingKeysForTargetId(e,i){return this.Vs.ds(i),ge.resolve()}getMatchingKeysForTargetId(e,i){const r=this.Vs.ws(i);return ge.resolve(r)}containsKey(e,i){return ge.resolve(this.Vs.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,i){this.Ds={},this.overlays={},this.Cs=new d2(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new yj(this),this.indexManager=new lj,this.remoteDocumentCache=function(r){return new mj(r)}(r=>this.referenceDelegate.ks(r)),this.Tt=new oj(i),this.$s=new fj(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pj,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.Ds[e.toKey()];return r||(r=new gj(i,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,i,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new _j(this.Cs.next());return this.referenceDelegate.Ms(),r(o).next(l=>this.referenceDelegate.Os(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Fs(e,i){return ge.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,i)))}}class _j extends l8{constructor(e){super(),this.currentSequenceNumber=e}}class _2{constructor(e){this.persistence=e,this.Bs=new w2,this.Ls=null}static qs(e){return new _2(e)}get Us(){if(this.Ls)return this.Ls;throw Ue()}addReference(e,i,r){return this.Bs.addReference(r,i),this.Us.delete(r.toString()),ge.resolve()}removeReference(e,i,r){return this.Bs.removeReference(r,i),this.Us.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,i){return this.Us.add(i.toString()),ge.resolve()}removeTarget(e,i){this.Bs.ds(i.targetId).forEach(o=>this.Us.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(l=>this.Us.add(l.toString()))}).next(()=>r.removeTargetData(e,i))}Ms(){this.Ls=new Set}Os(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Us,r=>{const o=De.fromPath(r);return this.Ks(e,o).next(l=>{l||i.removeEntry(o,Be.min())})}).next(()=>(this.Ls=null,i.apply(e)))}updateLimboDocument(e,i){return this.Ks(e,i).next(r=>{r?this.Us.delete(i.toString()):this.Us.add(i.toString())})}ks(e){return 0}Ks(e,i){return ge.or([()=>ge.resolve(this.Bs.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Fs(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ci=r,this.xi=o}static Ni(e,i){let r=Ke(),o=Ke();for(const l of i.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new b2(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.ki=!1}initialize(e,i){this.$i=e,this.indexManager=i,this.ki=!0}getDocumentsMatchingQuery(e,i,r,o){return this.Mi(e,i).next(l=>l||this.Oi(e,i,o,r)).next(l=>l||this.Fi(e,i))}Mi(e,i){if(Xk(i))return ge.resolve(null);let r=_s(i);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=lm(i,null,"F"),r=_s(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const h=Ke(...l);return this.$i.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,r).next(g=>{const v=this.Bi(i,f);return this.Li(i,v,h,g.readTime)?this.Mi(e,lm(i,null,"F")):this.qi(e,v,i,g)}))})))}Oi(e,i,r,o){return Xk(i)||o.isEqual(Be.min())?this.Fi(e,i):this.$i.getDocuments(e,r).next(l=>{const h=this.Bi(i,l);return this.Li(i,h,r,o)?this.Fi(e,i):($k()<=tt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_w(i)),this.qi(e,h,i,r8(o,-1)))})}Bi(e,i){let r=new un(zP(e));return i.forEach((o,l)=>{sv(e,l)&&(r=r.add(l))}),r}Li(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const l=e.limitType==="F"?i.last():i.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Fi(e,i){return $k()<=tt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",_w(i)),this.$i.getDocumentsMatchingQuery(e,i,wo.min())}qi(e,i,r,o){return this.$i.getDocumentsMatchingQuery(e,r,o).next(l=>(i.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,i,r,o){this.persistence=e,this.Ui=i,this.Tt=o,this.Ki=new hn(lt),this.Gi=new Uu(l=>p2(l),g2),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dj(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ki))}}function Ej(t,e,i,r){return new Sj(t,e,i,r)}async function g3(t,e){const i=Ve(t);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,i.zi(e),i.mutationQueue.getAllMutationBatches(r))).next(l=>{const h=[],f=[];let g=Ke();for(const v of o){h.push(v.batchId);for(const b of v.mutations)g=g.add(b.key)}for(const v of l){f.push(v.batchId);for(const b of v.mutations)g=g.add(b.key)}return i.localDocuments.getDocuments(r,g).next(v=>({Wi:v,removedBatchIds:h,addedBatchIds:f}))})})}function Ij(t,e){const i=Ve(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=i.ji.newChangeBuffer({trackRemovals:!0});return function(h,f,g,v){const b=g.batch,S=b.keys();let P=ge.resolve();return S.forEach($=>{P=P.next(()=>v.getEntry(f,$)).next(j=>{const I=g.docVersions.get($);vt(I!==null),j.version.compareTo(I)<0&&(b.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))})}),P.next(()=>h.mutationQueue.removeMutationBatch(f,b))}(i,r,e,l).next(()=>l.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ke();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(e))).next(()=>i.localDocuments.getDocuments(r,o))})}function m3(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ns.getLastRemoteSnapshotVersion(i))}function Cj(t,e){const i=Ve(t),r=e.snapshotVersion;let o=i.Ki;return i.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=i.ji.newChangeBuffer({trackRemovals:!0});o=i.Ki;const f=[];e.targetChanges.forEach((b,S)=>{const P=o.get(S);if(!P)return;f.push(i.Ns.removeMatchingKeys(l,b.removedDocuments,S).next(()=>i.Ns.addMatchingKeys(l,b.addedDocuments,S)));let $=P.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.has(S)?$=$.withResumeToken(Wn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):b.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(b.resumeToken,r)),o=o.insert(S,$),function(j,I,D){return j.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(P,$,b)&&f.push(i.Ns.updateTargetData(l,$))});let g=bs(),v=Ke();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(i.persistence.referenceDelegate.updateLimboDocument(l,b))}),f.push(kj(l,h,e.documentUpdates).next(b=>{g=b.Hi,v=b.Ji})),!r.isEqual(Be.min())){const b=i.Ns.getLastRemoteSnapshotVersion(l).next(S=>i.Ns.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(b)}return ge.waitFor(f).next(()=>h.apply(l)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,g,v)).next(()=>g)}).then(l=>(i.Ki=o,l))}function kj(t,e,i){let r=Ke(),o=Ke();return i.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let h=bs();return i.forEach((f,g)=>{const v=l.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Be.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):Pe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Hi:h,Ji:o}})}function Tj(t,e){const i=Ve(t);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xj(t,e){const i=Ve(t);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.Ns.getTargetData(r,e).next(l=>l?(o=l,ge.resolve(o)):i.Ns.allocateTargetId(r).next(h=>(o=new ca(e,h,0,r.currentSequenceNumber),i.Ns.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Ki.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ki=i.Ki.insert(r.targetId,r),i.Gi.set(e,r.targetId)),r})}async function Iw(t,e,i){const r=Ve(t),o=r.Ki.get(e),l=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Bd(h))throw h;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(o.target)}function oT(t,e,i){const r=Ve(t);let o=Be.min(),l=Ke();return r.persistence.runTransaction("Execute query","readonly",h=>function(f,g,v){const b=Ve(f),S=b.Gi.get(v);return S!==void 0?ge.resolve(b.Ki.get(S)):b.Ns.getTargetData(g,v)}(r,h,_s(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(h,f.targetId).next(g=>{l=g})}).next(()=>r.Ui.getDocumentsMatchingQuery(h,e,i?o:Be.min(),i?l:Ke())).next(f=>(Aj(r,C8(e),f),{documents:f,Yi:l})))}function Aj(t,e,i){let r=t.Qi.get(e)||Be.min();i.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Qi.set(e,r)}class aT{constructor(){this.activeTargetIds=o3()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rj{constructor(){this.Ur=new aT,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,i,r){this.Kr[e]=i}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new aT,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{Gr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp=null;function W0(){return Fp===null?Fp=268435456+Math.round(2147483648*Math.random()):Fp++,"0x"+Fp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class Oj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http";this.co=i+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,i,r,o,l){const h=W0(),f=this.fo(e,i);Pe("RestConnection",`Sending RPC '${e}' ${h}:`,f,r);const g={};return this._o(g,o,l),this.wo(e,f,g,r).then(v=>(Pe("RestConnection",`Received RPC '${e}' ${h}: `,v),v),v=>{throw pw("RestConnection",`RPC '${e}' ${h} failed with error: `,v,"url: ",f,"request:",r),v})}mo(e,i,r,o,l,h){return this.lo(e,i,r,o,l)}_o(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}fo(e,i){const r=Dj[e];return`${this.co}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,i,r,o){const l=W0();return new Promise((h,f)=>{const g=new KF;g.setWithCredentials(!0),g.listenOnce(HF.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case z0.NO_ERROR:const b=g.getResponseJson();Pe(Mn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(b)),h(b);break;case z0.TIMEOUT:Pe(Mn,`RPC '${e}' ${l} timed out`),f(new Se(ue.DEADLINE_EXCEEDED,"Request time out"));break;case z0.HTTP_ERROR:const S=g.getStatus();if(Pe(Mn,`RPC '${e}' ${l} failed with status:`,S,"response text:",g.getResponseText()),S>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const $=P==null?void 0:P.error;if($&&$.status&&$.message){const j=function(I){const D=I.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(D)>=0?D:ue.UNKNOWN}($.status);f(new Se(j,$.message))}else f(new Se(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new Se(ue.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Pe(Mn,`RPC '${e}' ${l} completed.`)}});const v=JSON.stringify(o);Pe(Mn,`RPC '${e}' ${l} sending request:`,o),g.send(i,"POST",v,r,15)})}yo(e,i,r){const o=W0(),l=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=GF(),f=zF(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new qF({})),this._o(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const v=l.join("");Pe(Mn,`Creating RPC '${e}' stream ${o}: ${v}`,g);const b=h.createWebChannel(v,g);let S=!1,P=!1;const $=new Nj({Yr:I=>{P?Pe(Mn,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(S||(Pe(Mn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),Pe(Mn,`RPC '${e}' stream ${o} sending:`,I),b.send(I))},Zr:()=>b.close()}),j=(I,D,C)=>{I.listen(D,x=>{try{C(x)}catch(O){setTimeout(()=>{throw O},0)}})};return j(b,Lp.EventType.OPEN,()=>{P||Pe(Mn,`RPC '${e}' stream ${o} transport opened.`)}),j(b,Lp.EventType.CLOSE,()=>{P||(P=!0,Pe(Mn,`RPC '${e}' stream ${o} transport closed`),$.oo())}),j(b,Lp.EventType.ERROR,I=>{P||(P=!0,pw(Mn,`RPC '${e}' stream ${o} transport errored:`,I),$.oo(new Se(ue.UNAVAILABLE,"The operation could not be completed")))}),j(b,Lp.EventType.MESSAGE,I=>{var D;if(!P){const C=I.data[0];vt(!!C);const x=C,O=x.error||((D=x[0])===null||D===void 0?void 0:D.error);if(O){Pe(Mn,`RPC '${e}' stream ${o} received error:`,O);const L=O.status;let N=function(F){const q=Yt[F];if(q!==void 0)return n3(q)}(L),H=O.message;N===void 0&&(N=ue.INTERNAL,H="Unknown error status: "+L+" with message "+O.message),P=!0,$.oo(new Se(N,H)),b.close()}else Pe(Mn,`RPC '${e}' stream ${o} received:`,C),$.uo(C)}}),j(f,WF.STAT_EVENT,I=>{I.stat===jk.PROXY?Pe(Mn,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===jk.NOPROXY&&Pe(Mn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.ro()},0),$}}function q0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){return new z8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,i,r=1e3,o=1.5,l=6e4){this.Ys=e,this.timerId=i,this.po=r,this.Io=o,this.To=l,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const i=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),o=Math.max(0,i-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Eo} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,o,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,i,r,o,l,h,f,g){this.Ys=e,this.So=r,this.Do=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new v3(e,i)}$o(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.$o()&&await this.close(0)}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(e,i){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,e!==4?this.ko.reset():i&&i.code===ue.RESOURCE_EXHAUSTED?(ws(i.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):i&&i.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=e,await this.listener.no(i)}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),i=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Co===i&&this.jo(r,o)},r=>{e(()=>{const o=new Se(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(o)})})}jo(e,i){const r=this.Qo(this.Co);this.stream=this.Wo(e,i),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(o=>{r(()=>this.zo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Oo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return i=>{this.Ys.enqueueAndForget(()=>this.Co===e?i():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lj extends y3{constructor(e,i,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,h),this.Tt=l}Wo(e,i){return this.connection.yo("Listen",e,i)}onMessage(e){this.ko.reset();const i=q8(this.Tt,e),r=function(o){if(!("targetChange"in o))return Be.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?$r(l.readTime):Be.min()}(e);return this.listener.Ho(i,r)}Jo(e){const i={};i.database=Ew(this.Tt),i.addTarget=function(o,l){let h;const f=l.target;return h=yw(f)?{documents:Q8(o,f)}:{query:X8(o,f)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=u3(o,l.resumeToken):l.snapshotVersion.compareTo(Be.min())>0&&(h.readTime=um(o,l.snapshotVersion.toTimestamp())),h}(this.Tt,e);const r=Z8(this.Tt,e);r&&(i.labels=r),this.qo(i)}Yo(e){const i={};i.database=Ew(this.Tt),i.removeTarget=e,this.qo(i)}}class Mj extends y3{constructor(e,i,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,h),this.Tt=l,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,i){return this.connection.yo("Write",e,i)}onMessage(e){if(vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const i=Y8(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.eu(r,i)}return vt(!e.writeResults||e.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Ew(this.Tt),this.qo(e)}tu(e){const i={streamToken:this.lastStreamToken,writes:e.map(r=>K8(this.Tt,r))};this.qo(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj extends class{}{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.Tt=o,this.iu=!1}ru(){if(this.iu)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,i,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.lo(e,i,r,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ue.UNKNOWN,o.toString())})}mo(e,i,r,o){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.mo(e,i,r,l,h,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ue.UNKNOWN,l.toString())})}terminate(){this.iu=!0}}class Fj{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,e==="Online"&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(ws(i),this.cu=!1):Pe("OnlineStateTracker",i)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,i,r,o,l){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=l,this.yu.Gr(h=>{r.enqueueAndForget(async()=>{La(this)&&(Pe("RemoteStore","Restarting streams for network reachability change."),await async function(f){const g=Ve(f);g.mu.add(4),await Gd(g),g.pu.set("Unknown"),g.mu.delete(4),await cv(g)}(this))})}),this.pu=new Fj(r,o)}}async function cv(t){if(La(t))for(const e of t.gu)await e(!0)}async function Gd(t){for(const e of t.gu)await e(!1)}function w3(t,e){const i=Ve(t);i.wu.has(e.targetId)||(i.wu.set(e.targetId,e),I2(i)?E2(i):Fu(i).Mo()&&S2(i,e))}function _3(t,e){const i=Ve(t),r=Fu(i);i.wu.delete(e),r.Mo()&&b3(i,e),i.wu.size===0&&(r.Mo()?r.Bo():La(i)&&i.pu.set("Unknown"))}function S2(t,e){t.Iu.Ot(e.targetId),Fu(t).Jo(e)}function b3(t,e){t.Iu.Ot(e),Fu(t).Yo(e)}function E2(t){t.Iu=new B8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),Fu(t).start(),t.pu.au()}function I2(t){return La(t)&&!Fu(t).$o()&&t.wu.size>0}function La(t){return Ve(t).mu.size===0}function S3(t){t.Iu=void 0}async function Bj(t){t.wu.forEach((e,i)=>{S2(t,e)})}async function $j(t,e){S3(t),I2(t)?(t.pu.fu(e),E2(t)):t.pu.set("Unknown")}async function Vj(t,e,i){if(t.pu.set("Online"),e instanceof l3&&e.state===2&&e.cause)try{await async function(r,o){const l=o.cause;for(const h of o.targetIds)r.wu.has(h)&&(await r.remoteSyncer.rejectListen(h,l),r.wu.delete(h),r.Iu.removeTarget(h))}(t,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cm(t,r)}else if(e instanceof mg?t.Iu.Qt(e):e instanceof a3?t.Iu.Zt(e):t.Iu.Wt(e),!i.isEqual(Be.min()))try{const r=await m3(t.localStore);i.compareTo(r)>=0&&await function(o,l){const h=o.Iu.ee(l);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.wu.get(g);v&&o.wu.set(g,v.withResumeToken(f.resumeToken,l))}}),h.targetMismatches.forEach(f=>{const g=o.wu.get(f);if(!g)return;o.wu.set(f,g.withResumeToken(Wn.EMPTY_BYTE_STRING,g.snapshotVersion)),b3(o,f);const v=new ca(g.target,f,1,g.sequenceNumber);S2(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(t,i)}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),await cm(t,r)}}async function cm(t,e,i){if(!Bd(e))throw e;t.mu.add(1),await Gd(t),t.pu.set("Offline"),i||(i=()=>m3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Pe("RemoteStore","Retrying IndexedDB access"),await i(),t.mu.delete(1),await cv(t)})}function E3(t,e){return e().catch(i=>cm(t,i,e))}async function hv(t){const e=Ve(t),i=bo(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;Gj(e);)try{const o=await Tj(e.localStore,r);if(o===null){e._u.length===0&&i.Bo();break}r=o.batchId,zj(e,o)}catch(o){await cm(e,o)}I3(e)&&C3(e)}function Gj(t){return La(t)&&t._u.length<10}function zj(t,e){t._u.push(e);const i=bo(t);i.Mo()&&i.Xo&&i.tu(e.mutations)}function I3(t){return La(t)&&!bo(t).$o()&&t._u.length>0}function C3(t){bo(t).start()}async function Hj(t){bo(t).su()}async function Wj(t){const e=bo(t);for(const i of t._u)e.tu(i.mutations)}async function qj(t,e,i){const r=t._u.shift(),o=y2.from(r,e,i);await E3(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await hv(t)}async function Kj(t,e){e&&bo(t).Xo&&await async function(i,r){if(o=r.code,L8(o)&&o!==ue.ABORTED){const l=i._u.shift();bo(i).Fo(),await E3(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),await hv(i)}var o}(t,e),I3(t)&&C3(t)}async function uT(t,e){const i=Ve(t);i.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=La(i);i.mu.add(3),await Gd(i),r&&i.pu.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.mu.delete(3),await cv(i)}async function Yj(t,e){const i=Ve(t);e?(i.mu.delete(2),await cv(i)):e||(i.mu.add(2),await Gd(i),i.pu.set("Unknown"))}function Fu(t){return t.Tu||(t.Tu=function(e,i,r){const o=Ve(e);return o.ru(),new Lj(i,o.connection,o.authCredentials,o.appCheckCredentials,o.Tt,r)}(t.datastore,t.asyncQueue,{Xr:Bj.bind(null,t),no:$j.bind(null,t),Ho:Vj.bind(null,t)}),t.gu.push(async e=>{e?(t.Tu.Fo(),I2(t)?E2(t):t.pu.set("Unknown")):(await t.Tu.stop(),S3(t))})),t.Tu}function bo(t){return t.Eu||(t.Eu=function(e,i,r){const o=Ve(e);return o.ru(),new Mj(i,o.connection,o.authCredentials,o.appCheckCredentials,o.Tt,r)}(t.datastore,t.asyncQueue,{Xr:Hj.bind(null,t),no:Kj.bind(null,t),nu:Wj.bind(null,t),eu:qj.bind(null,t)}),t.gu.push(async e=>{e?(t.Eu.Fo(),await hv(t)):(await t.Eu.stop(),t._u.length>0&&(Pe("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))})),t.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,i,r,o,l){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,i,r,o,l){const h=Date.now()+r,f=new C2(e,i,h,o,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function k2(t,e){if(ws("AsyncQueue",`${e}: ${t}`),Bd(t))return new Se(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this.comparator=e?(i,r)=>e(i,r)||De.comparator(i.key,r.key):(i,r)=>De.comparator(i.key,r.key),this.keyedMap=wh(),this.sortedSet=new hn(this.comparator)}static emptySet(e){return new ou(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ou)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new ou;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.Au=new hn(De.comparator)}track(e){const i=e.doc.key,r=this.Au.get(i);r?e.type!==0&&r.type===3?this.Au=this.Au.insert(i,e):e.type===3&&r.type!==1?this.Au=this.Au.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Au=this.Au.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Au=this.Au.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Au=this.Au.remove(i):e.type===1&&r.type===2?this.Au=this.Au.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Au=this.Au.insert(i,{type:2,doc:e.doc}):Ue():this.Au=this.Au.insert(i,e)}Ru(){const e=[];return this.Au.inorderTraversal((i,r)=>{e.push(r)}),e}}class Eu{constructor(e,i,r,o,l,h,f,g,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,l){const h=[];return i.forEach(f=>{h.push({type:0,doc:f})}),new Eu(e,i,ou.emptySet(i),h,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.Pu=void 0,this.listeners=[]}}class Xj{constructor(){this.queries=new Uu(e=>GP(e),rv),this.onlineState="Unknown",this.vu=new Set}}async function T2(t,e){const i=Ve(t),r=e.query;let o=!1,l=i.queries.get(r);if(l||(o=!0,l=new Qj),o)try{l.Pu=await i.onListen(r)}catch(h){const f=k2(h,`Initialization of query '${_w(e.query)}' failed`);return void e.onError(f)}i.queries.set(r,l),l.listeners.push(e),e.bu(i.onlineState),l.Pu&&e.Vu(l.Pu)&&A2(i)}async function x2(t,e){const i=Ve(t),r=e.query;let o=!1;const l=i.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=l.listeners.length===0)}if(o)return i.queries.delete(r),i.onUnlisten(r)}function Jj(t,e){const i=Ve(t);let r=!1;for(const o of e){const l=o.query,h=i.queries.get(l);if(h){for(const f of h.listeners)f.Vu(o)&&(r=!0);h.Pu=o}}r&&A2(i)}function Zj(t,e,i){const r=Ve(t),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(i);r.queries.delete(e)}function A2(t){t.vu.forEach(e=>{e.next()})}class R2{constructor(e,i,r){this.query=e,this.Su=i,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Du?this.xu(e)&&(this.Su.next(e),i=!0):this.Nu(e,this.onlineState)&&(this.ku(e),i=!0),this.Cu=e,i}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let i=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),i=!0),i}Nu(e,i){if(!e.fromCache)return!0;const r=i!=="Offline";return(!this.options.$u||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}xu(e){if(e.docChanges.length>0)return!0;const i=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ku(e){e=Eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.key=e}}class T3{constructor(e){this.key=e}}class e9{constructor(e,i){this.query=e,this.Ku=i,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Ke(),this.mutatedKeys=Ke(),this.ju=zP(e),this.zu=new ou(this.ju)}get Wu(){return this.Ku}Hu(e,i){const r=i?i.Ju:new cT,o=i?i.zu:this.zu;let l=i?i.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,S)=>{const P=o.get(b),$=sv(this.query,S)?S:null,j=!!P&&this.mutatedKeys.has(P.key),I=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let D=!1;P&&$?P.data.isEqual($.data)?j!==I&&(r.track({type:3,doc:$}),D=!0):this.Yu(P,$)||(r.track({type:2,doc:$}),D=!0,(g&&this.ju($,g)>0||v&&this.ju($,v)<0)&&(f=!0)):!P&&$?(r.track({type:0,doc:$}),D=!0):P&&!$&&(r.track({type:1,doc:P}),D=!0,(g||v)&&(f=!0)),D&&($?(h=h.add($),l=I?l.add(b):l.delete(b)):(h=h.delete(b),l=l.delete(b)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),l=l.delete(b.key),r.track({type:1,doc:b})}return{zu:h,Ju:r,Li:f,mutatedKeys:l}}Yu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r){const o=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const l=e.Ju.Ru();l.sort((v,b)=>function(S,P){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return $(S)-$(P)}(v.type,b.type)||this.ju(v.doc,b.doc)),this.Zu(r);const h=i?this.Xu():[],f=this.Qu.size===0&&this.current?1:0,g=f!==this.Gu;return this.Gu=f,l.length!==0||g?{snapshot:new Eu(this.query,e.zu,o,l,e.mutatedKeys,f===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:h}:{tc:h}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new cT,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(i=>this.Ku=this.Ku.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ku=this.Ku.delete(i)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Ke(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const i=[];return e.forEach(r=>{this.Qu.has(r)||i.push(new T3(r))}),this.Qu.forEach(r=>{e.has(r)||i.push(new k3(r))}),i}nc(e){this.Ku=e.Yi,this.Qu=Ke();const i=this.Hu(e.documents);return this.applyChanges(i,!0)}sc(){return Eu.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class t9{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class n9{constructor(e){this.key=e,this.ic=!1}}class i9{constructor(e,i,r,o,l,h){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.rc={},this.oc=new Uu(f=>GP(f),rv),this.uc=new Map,this.cc=new Set,this.ac=new hn(De.comparator),this.hc=new Map,this.lc=new w2,this.fc={},this.dc=new Map,this._c=Su.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function r9(t,e){const i=p9(t);let r,o;const l=i.oc.get(e);if(l)r=l.targetId,i.sharedClientState.addLocalQueryTarget(r),o=l.view.sc();else{const h=await xj(i.localStore,_s(e));i.isPrimaryClient&&w3(i.remoteStore,h);const f=i.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=await s9(i,e,r,f==="current",h.resumeToken)}return o}async function s9(t,e,i,r,o){t.mc=(S,P,$)=>async function(j,I,D,C){let x=I.view.Hu(D);x.Li&&(x=await oT(j.localStore,I.query,!1).then(({documents:N})=>I.view.Hu(N,x)));const O=C&&C.targetChanges.get(I.targetId),L=I.view.applyChanges(x,j.isPrimaryClient,O);return dT(j,I.targetId,L.tc),L.snapshot}(t,S,P,$);const l=await oT(t.localStore,e,!0),h=new e9(e,l.Yi),f=h.Hu(l.documents),g=Vd.createSynthesizedTargetChangeForCurrentChange(i,r&&t.onlineState!=="Offline",o),v=h.applyChanges(f,t.isPrimaryClient,g);dT(t,i,v.tc);const b=new t9(e,i,h);return t.oc.set(e,b),t.uc.has(i)?t.uc.get(i).push(e):t.uc.set(i,[e]),v.snapshot}async function o9(t,e){const i=Ve(t),r=i.oc.get(e),o=i.uc.get(r.targetId);if(o.length>1)return i.uc.set(r.targetId,o.filter(l=>!rv(l,e))),void i.oc.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Iw(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),_3(i.remoteStore,r.targetId),Cw(i,r.targetId)}).catch(jd)):(Cw(i,r.targetId),await Iw(i.localStore,r.targetId,!0))}async function a9(t,e,i){const r=g9(t);try{const o=await function(l,h){const f=Ve(l),g=ln.now(),v=h.reduce((P,$)=>P.add($.key),Ke());let b,S;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let $=bs(),j=Ke();return f.ji.getEntries(P,v).next(I=>{$=I,$.forEach((D,C)=>{C.isValidDocument()||(j=j.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,$)).next(I=>{b=I;const D=[];for(const C of h){const x=D8(C,b.get(C.key).overlayedDocument);x!=null&&D.push(new Ao(C.key,x,$P(x.value.mapValue),hr.exists(!0)))}return f.mutationQueue.addMutationBatch(P,g,D,h)}).next(I=>{S=I;const D=I.applyToLocalDocumentSet(b,j);return f.documentOverlayCache.saveOverlays(P,I.batchId,D)})}).then(()=>({batchId:S.batchId,changes:r3(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,f){let g=l.fc[l.currentUser.toKey()];g||(g=new hn(lt)),g=g.insert(h,f),l.fc[l.currentUser.toKey()]=g}(r,o.batchId,i),await zd(r,o.changes),await hv(r.remoteStore)}catch(o){const l=k2(o,"Failed to persist write");i.reject(l)}}async function x3(t,e){const i=Ve(t);try{const r=await Cj(i.localStore,e);e.targetChanges.forEach((o,l)=>{const h=i.hc.get(l);h&&(vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.ic=!0:o.modifiedDocuments.size>0?vt(h.ic):o.removedDocuments.size>0&&(vt(h.ic),h.ic=!1))}),await zd(i,r,e)}catch(r){await jd(r)}}function hT(t,e,i){const r=Ve(t);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.oc.forEach((l,h)=>{const f=h.view.bu(e);f.snapshot&&o.push(f.snapshot)}),function(l,h){const f=Ve(l);f.onlineState=h;let g=!1;f.queries.forEach((v,b)=>{for(const S of b.listeners)S.bu(h)&&(g=!0)}),g&&A2(f)}(r.eventManager,e),o.length&&r.rc.Ho(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function l9(t,e,i){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.hc.get(e),l=o&&o.key;if(l){let h=new hn(De.comparator);h=h.insert(l,jn.newNoDocument(l,Be.min()));const f=Ke().add(l),g=new lv(Be.min(),new Map,new un(lt),h,f);await x3(r,g),r.ac=r.ac.remove(l),r.hc.delete(e),P2(r)}else await Iw(r.localStore,e,!1).then(()=>Cw(r,e,i)).catch(jd)}async function u9(t,e){const i=Ve(t),r=e.batch.batchId;try{const o=await Ij(i.localStore,e);R3(i,r,null),A3(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await zd(i,o)}catch(o){await jd(o)}}async function c9(t,e,i){const r=Ve(t);try{const o=await function(l,h){const f=Ve(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,h).next(b=>(vt(b!==null),v=b.keys(),f.mutationQueue.removeMutationBatch(g,b))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(r.localStore,e);R3(r,e,i),A3(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await zd(r,o)}catch(o){await jd(o)}}function A3(t,e){(t.dc.get(e)||[]).forEach(i=>{i.resolve()}),t.dc.delete(e)}function R3(t,e,i){const r=Ve(t);let o=r.fc[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(i?l.reject(i):l.resolve(),o=o.remove(e)),r.fc[r.currentUser.toKey()]=o}}function Cw(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.uc.get(e))t.oc.delete(r),i&&t.rc.gc(r,i);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(r=>{t.lc.containsKey(r)||P3(t,r)})}function P3(t,e){t.cc.delete(e.path.canonicalString());const i=t.ac.get(e);i!==null&&(_3(t.remoteStore,i),t.ac=t.ac.remove(e),t.hc.delete(i),P2(t))}function dT(t,e,i){for(const r of i)r instanceof k3?(t.lc.addReference(r.key,e),h9(t,r)):r instanceof T3?(Pe("SyncEngine","Document no longer in limbo: "+r.key),t.lc.removeReference(r.key,e),t.lc.containsKey(r.key)||P3(t,r.key)):Ue()}function h9(t,e){const i=e.key,r=i.path.canonicalString();t.ac.get(i)||t.cc.has(r)||(Pe("SyncEngine","New document in limbo: "+i),t.cc.add(r),P2(t))}function P2(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const i=new De(_t.fromString(e)),r=t._c.next();t.hc.set(r,new n9(i)),t.ac=t.ac.insert(i,r),w3(t.remoteStore,new ca(_s(nv(i.path)),r,2,d2.at))}}async function zd(t,e,i){const r=Ve(t),o=[],l=[],h=[];r.oc.isEmpty()||(r.oc.forEach((f,g)=>{h.push(r.mc(g,e,i).then(v=>{if((v||i)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,v!=null&&v.fromCache?"not-current":"current"),v){o.push(v);const b=b2.Ni(g.targetId,v);l.push(b)}}))}),await Promise.all(h),r.rc.Ho(o),await async function(f,g){const v=Ve(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ge.forEach(g,S=>ge.forEach(S.Ci,P=>v.persistence.referenceDelegate.addReference(b,S.targetId,P)).next(()=>ge.forEach(S.xi,P=>v.persistence.referenceDelegate.removeReference(b,S.targetId,P)))))}catch(b){if(!Bd(b))throw b;Pe("LocalStore","Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const P=v.Ki.get(S),$=P.snapshotVersion,j=P.withLastLimboFreeSnapshotVersion($);v.Ki=v.Ki.insert(S,j)}}}(r.localStore,l))}async function d9(t,e){const i=Ve(t);if(!i.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=await g3(i.localStore,e);i.currentUser=e,function(o,l){o.dc.forEach(h=>{h.forEach(f=>{f.reject(new Se(ue.CANCELLED,l))})}),o.dc.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zd(i,r.Wi)}}function f9(t,e){const i=Ve(t),r=i.hc.get(e);if(r&&r.ic)return Ke().add(r.key);{let o=Ke();const l=i.uc.get(e);if(!l)return o;for(const h of l){const f=i.oc.get(h);o=o.unionWith(f.view.Wu)}return o}}function p9(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=x3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l9.bind(null,e),e.rc.Ho=Jj.bind(null,e.eventManager),e.rc.gc=Zj.bind(null,e.eventManager),e}function g9(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c9.bind(null,e),e}class m9{constructor(){this.synchronizeTabs=!1}async initialize(e){this.Tt=uv(e.databaseInfo.databaseId),this.sharedClientState=this.Ic(e),this.persistence=this.Tc(e),await this.persistence.start(),this.localStore=this.Ec(e),this.gcScheduler=this.Ac(e,this.localStore),this.indexBackfillerScheduler=this.Rc(e,this.localStore)}Ac(e,i){return null}Rc(e,i){return null}Ec(e){return Ej(this.persistence,new bj,e.initialUser,this.Tt)}Tc(e){return new wj(_2.qs,this.Tt)}Ic(e){return new Rj}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class v9{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d9.bind(null,this.syncEngine),await Yj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Xj}createDatastore(e){const i=uv(e.databaseInfo.databaseId),r=(o=e.databaseInfo,new Oj(o));var o;return function(l,h,f,g){return new Uj(l,h,f,g)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,l=f=>hT(this.syncEngine,f,0),h=lT.C()?new lT:new Pj,new jj(i,r,o,l,h);var i,r,o,l,h}createSyncEngine(e,i){return function(r,o,l,h,f,g,v){const b=new i9(r,o,l,h,f,g);return v&&(b.wc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return async function(e){const i=Ve(e);Pe("RemoteStore","RemoteStore shutting down."),i.mu.add(5),await Gd(i),i.yu.shutdown(),i.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,i,r,o){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Un.UNAUTHENTICATED,this.clientId=PP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async l=>{Pe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Pe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=k2(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function w9(t,e){t.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const i=await t.getConfiguration();await e.initialize(i);let r=i.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await g3(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function _9(t,e){t.asyncQueue.verifyOperationInProgress();const i=await b9(t);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(i,r),t.setCredentialChangeListener(o=>uT(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,l)=>uT(e.remoteStore,l)),t.onlineComponents=e}async function b9(t){return t.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),await w9(t,new m9)),t.offlineComponents}async function D3(t){return t.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),await _9(t,new v9)),t.onlineComponents}function S9(t){return D3(t).then(e=>e.syncEngine)}async function hm(t){const e=await D3(t),i=e.eventManager;return i.onListen=r9.bind(null,e.syncEngine),i.onUnlisten=o9.bind(null,e.syncEngine),i}function E9(t,e,i={}){const r=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,h,f,g){const v=new D2({next:S=>{l.enqueueAndForget(()=>x2(o,b));const P=S.docs.has(h);!P&&S.fromCache?g.reject(new Se(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&f&&f.source==="server"?g.reject(new Se(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new R2(nv(h.path),v,{includeMetadataChanges:!0,$u:!0});return T2(o,b)}(await hm(t),t.asyncQueue,e,i,r)),r.promise}function I9(t,e,i={}){const r=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,h,f,g){const v=new D2({next:S=>{l.enqueueAndForget(()=>x2(o,b)),S.fromCache&&f.source==="server"?g.reject(new Se(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new R2(h,v,{includeMetadataChanges:!0,$u:!0});return T2(o,b)}(await hm(t),t.asyncQueue,e,i,r)),r.promise}const fT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t,e,i){if(!i)throw new Se(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C9(t,e,i,r){if(e===!0&&r===!0)throw new Se(ue.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function pT(t){if(!De.isDocumentKey(t))throw new Se(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gT(t){if(De.isDocumentKey(t))throw new Se(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue()}function Oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dv(t);throw new Se(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}function k9(t,e){if(e<=0)throw new Se(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){var i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,C9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Se(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new YF;switch(i.type){case"gapi":const r=i.client;return new ZF(r,i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=fT.get(e);i&&(Pe("ComponentProvider","Removing Datastore"),fT.delete(e),i.terminate())}(this),Promise.resolve()}}function T9(t,e,i,r={}){var o;const l=(t=Oi(t,fv))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==e&&pw("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${i}`,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Un.MOCK_USER;else{h=pR(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Se(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Un(g)}t._authCredentials=new QF(new RP(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Is{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class fo extends Is{constructor(e,i,r){super(e,i,nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new De(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function Li(t,e,...i){if(t=Le(t),N3("collection","path",e),t instanceof fv){const r=_t.fromString(e,...i);return gT(r),new fo(t,null,r)}{if(!(t instanceof zn||t instanceof fo))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...i));return gT(r),new fo(t.firestore,null,r)}}function Iu(t,e,...i){if(t=Le(t),arguments.length===1&&(e=PP.R()),N3("doc","path",e),t instanceof fv){const r=_t.fromString(e,...i);return pT(r),new zn(t,null,new De(r))}{if(!(t instanceof zn||t instanceof fo))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...i));return pT(r),new zn(t.firestore,t instanceof fo?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new v3(this,"async_queue_retry"),this.Hc=()=>{const i=q0();i&&Pe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.ko.Vo()};const e=q0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const i=q0();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const i=new hs;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(e){if(!Bd(e))throw e;Pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(e){const i=this.qc.then(()=>(this.jc=!0,e().catch(r=>{this.Qc=r,this.jc=!1;const o=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(r);throw ws("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.jc=!1,r))));return this.qc=i,i}enqueueAfterDelay(e,i,r){this.Jc(),this.Wc.indexOf(e)>-1&&(i=0);const o=C2.createAndSchedule(this,e,i,r,l=>this.Xc(l));return this.Gc.push(o),o}Jc(){this.Qc&&Ue()}verifyOperationInProgress(){}async ta(){let e;do e=this.qc,await e;while(e!==this.qc)}ea(e){for(const i of this.Gc)if(i.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Gc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const i=this.Gc.indexOf(e);this.Gc.splice(i,1)}}function vT(t){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}class So extends fv{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new x9,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||O3(this),this._firestoreClient.terminate()}}function A9(t,e){const i=typeof t=="object"?t:G_(),r=typeof t=="string"?t:e||"(default)",o=jm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=fR("firestore");l&&T9(o,...l)}return o}function pv(t){return t._firestoreClient||O3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function O3(t){var e;const i=t._freezeSettings(),r=function(o,l,h,f){return new u8(o,l,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new y9(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cu(Wn.fromBase64String(e))}catch(i){throw new Se(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cu(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Se(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Se(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Se(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=/^__.*__$/;class P9{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,i,this.fieldTransforms):new $d(e,this.data,i,this.fieldTransforms)}}class L3{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ao(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function M3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class O2{constructor(e,i,r,o,l,h){this.settings=e,this.databaseId=i,this.Tt=r,this.ignoreUndefinedProperties=o,l===void 0&&this.ia(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new O2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.oa({path:r,ca:!1});return o.aa(e),o}ha(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.oa({path:r,ca:!1});return o.ia(),o}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return dm(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(e.length===0)throw this.fa("Document fields must not be empty");if(M3(this.ra)&&R9.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class D9{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.Tt=r||uv(e)}wa(e,i,r,o=!1){return new O2({ra:e,methodName:i,_a:r,path:Bn.emptyPath(),ca:!1,da:o},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function mv(t){const e=t._freezeSettings(),i=uv(t._databaseId);return new D9(t._databaseId,!!e.ignoreUndefinedProperties,i)}function U3(t,e,i,r,o,l={}){const h=t.wa(l.merge||l.mergeFields?2:0,e,i,o);M2("Data must be an object, but it was:",h,r);const f=F3(r,h);let g,v;if(l.merge)g=new Ri(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const b=[];for(const S of l.mergeFields){const P=kw(e,S,i);if(!h.contains(P))throw new Se(ue.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);B3(b,P)||b.push(P)}g=new Ri(b),v=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=h.fieldTransforms;return new P9(new fi(f),g,v)}class vv extends Hd{_toFieldTransform(e){if(e.ra!==2)throw e.ra===1?e.fa(`${this._methodName}() can only appear at the top level of your update data`):e.fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vv}}class L2 extends Hd{_toFieldTransform(e){return new JP(e.path,new fd)}isEqual(e){return e instanceof L2}}class N9 extends Hd{constructor(e,i){super(e),this.ga=i}_toFieldTransform(e){const i=new md(e.Tt,qP(e.Tt,this.ga));return new JP(e.path,i)}isEqual(e){return this===e}}function O9(t,e,i,r){const o=t.wa(1,e,i);M2("Data must be an object, but it was:",o,r);const l=[],h=fi.empty();Oa(r,(g,v)=>{const b=U2(e,g,i);v=Le(v);const S=o.ha(b);if(v instanceof vv)l.push(b);else{const P=Wd(v,S);P!=null&&(l.push(b),h.set(b,P))}});const f=new Ri(l);return new L3(h,f,o.fieldTransforms)}function L9(t,e,i,r,o,l){const h=t.wa(1,e,i),f=[kw(e,r,i)],g=[o];if(l.length%2!=0)throw new Se(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<l.length;P+=2)f.push(kw(e,l[P])),g.push(l[P+1]);const v=[],b=fi.empty();for(let P=f.length-1;P>=0;--P)if(!B3(v,f[P])){const $=f[P];let j=g[P];j=Le(j);const I=h.ha($);if(j instanceof vv)v.push($);else{const D=Wd(j,I);D!=null&&(v.push($),b.set($,D))}}const S=new Ri(v);return new L3(b,S,h.fieldTransforms)}function M9(t,e,i,r=!1){return Wd(i,t.wa(r?4:3,e))}function Wd(t,e){if(j3(t=Le(t)))return M2("Unsupported field value:",e,t),F3(t,e);if(t instanceof Hd)return function(i,r){if(!M3(r.ra))throw r.fa(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&e.ra!==4)throw e.fa("Nested arrays are not supported");return function(i,r){const o=[];let l=0;for(const h of i){let f=Wd(h,r.la(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Le(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return qP(r.Tt,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ln.fromDate(i);return{timestampValue:um(r.Tt,o)}}if(i instanceof ln){const o=new ln(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:um(r.Tt,o)}}if(i instanceof N2)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Cu)return{bytesValue:u3(r.Tt,i._byteString)};if(i instanceof zn){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.fa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:v2(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.fa(`Unsupported field value: ${dv(i)}`)}(t,e)}function F3(t,e){const i={};return DP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(t,(r,o)=>{const l=Wd(o,e.ua(r));l!=null&&(i[r]=l)}),{mapValue:{fields:i}}}function j3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof N2||t instanceof Cu||t instanceof zn||t instanceof Hd)}function M2(t,e,i){if(!j3(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){const r=dv(i);throw r==="an object"?e.fa(t+" a custom object"):e.fa(t+" "+r)}}function kw(t,e,i){if((e=Le(e))instanceof gv)return e._internalPath;if(typeof e=="string")return U2(t,e);throw dm("Field path arguments must be of type string or ",t,!1,void 0,i)}const U9=new RegExp("[~\\*/\\[\\]]");function U2(t,e,i){if(e.search(U9)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new gv(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function dm(t,e,i,r,o){const l=r&&!r.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;i&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new Se(ue.INVALID_ARGUMENT,f+t+g)}function B3(t,e){return t.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,i,r,o,l){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(yv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class F9 extends $3{data(){return super.data()}}function yv(t,e){return typeof e=="string"?U2(t,e):e instanceof gv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F2{}class j2 extends F2{}function Ia(t,e,...i){let r=[];e instanceof F2&&r.push(e),r=r.concat(i),function(o){const l=o.filter(f=>f instanceof B2).length,h=o.filter(f=>f instanceof wv).length;if(l>1||l>0&&h>0)throw new Se(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class wv extends j2{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new wv(e,i,r)}_apply(e){const i=this._parse(e);return G3(e._query,i),new Is(e.firestore,e.converter,ww(e._query,i))}_parse(e){const i=mv(e.firestore);return function(o,l,h,f,g,v,b){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){wT(b,v);const P=[];for(const $ of b)P.push(yT(f,o,$));S={arrayValue:{values:P}}}else S=yT(f,o,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||wT(b,v),S=M9(h,l,b,v==="in"||v==="not-in");return Jt.create(g,v,S)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function vd(t,e,i){const r=e,o=yv("where",t);return wv._create(o,r,i)}class B2 extends F2{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new B2(e,i)}_parse(e){const i=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return i.length===1?i[0]:fr.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(r,o){let l=r;const h=o.getFlattenedFilters();for(const f of h)G3(l,f),l=ww(l,f)}(e._query,i),new Is(e.firestore,e.converter,ww(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $2 extends j2{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new $2(e,i)}_apply(e){const i=function(r,o,l){if(r.startAt!==null)throw new Se(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Se(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new ru(o,l);return function(f,g){if(m2(f)===null){const v=iv(f);v!==null&&z3(f,v,g.field)}}(r,h),h}(e._query,this._field,this._direction);return new Is(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Mu(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}function _v(t,e="asc"){const i=e,r=yv("orderBy",t);return $2._create(r,i)}class V2 extends j2{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new V2(e,i,r)}_apply(e){return new Is(e.firestore,e.converter,lm(e._query,this._limit,this._limitType))}}function j9(t){return k9("limit",t),V2._create("limit",t,"F")}function yT(t,e,i){if(typeof(i=Le(i))=="string"){if(i==="")throw new Se(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VP(e)&&i.indexOf("/")!==-1)throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(_t.fromString(i));if(!De.isDocumentKey(r))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zk(t,new De(r))}if(i instanceof zn)return zk(t,i._key);throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dv(i)}.`)}function wT(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G3(t,e){if(e.isInequality()){const r=iv(t),o=e.field;if(r!==null&&!r.isEqual(o))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const l=m2(t);l!==null&&z3(t,o,l)}const i=function(r,o){for(const l of r)for(const h of l.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function z3(t,e,i){if(!i.isEqual(e))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class B9{convertValue(e,i="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(wu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Ue()}}convertObject(e,i){const r={};return Oa(e.fields,(o,l)=>{r[o]=this.convertValue(l,i)}),r}convertGeoPoint(e){return new N2(Qt(e.latitude),Qt(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=OP(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(hd(e));default:return null}}convertTimestamp(e){const i=_o(e);return new ln(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=_t.fromString(e);vt(p3(r));const o=new cd(r.get(1),r.get(3)),l=new De(r.popFirst(5));return o.isEqual(i)||ws(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t,e,i){let r;return r=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class W3 extends $3{constructor(e,i,r,o,l,h){super(e,i,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(yv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class vg extends W3{data(e={}){return super.data(e)}}class q3{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new _h(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new vg(this._firestore,this._userDataWriter,r.key,r,new _h(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Se(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>{const f=new vg(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _h(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new vg(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _h(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,v=-1;return h.type!==0&&(g=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),v=l.indexOf(h.doc.key)),{type:$9(h.type),doc:f,oldIndex:g,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function $9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t){t=Oi(t,zn);const e=Oi(t.firestore,So);return E9(pv(e),t._key).then(i=>K3(e,t,i))}class G2 extends B9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,i)}}function fm(t){t=Oi(t,Is);const e=Oi(t.firestore,So),i=pv(e),r=new G2(e);return V3(t._query),I9(i,t._query).then(o=>new q3(e,r,t,o))}function G9(t,e,i){t=Oi(t,zn);const r=Oi(t.firestore,So),o=H3(t.converter,e,i);return z2(r,[U3(mv(r),"setDoc",t._key,o,t.converter!==null,i).toMutation(t._key,hr.none())])}function yd(t,e,i,...r){t=Oi(t,zn);const o=Oi(t.firestore,So),l=mv(o);let h;return h=typeof(e=Le(e))=="string"||e instanceof gv?L9(l,"updateDoc",t._key,e,i,r):O9(l,"updateDoc",t._key,e),z2(o,[h.toMutation(t._key,hr.exists(!0))])}function ku(t,e){const i=Oi(t.firestore,So),r=Iu(t),o=H3(t.converter,e);return z2(i,[U3(mv(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}function bv(t,...e){var i,r,o;t=Le(t);let l={includeMetadataChanges:!1},h=0;typeof e[h]!="object"||vT(e[h])||(l=e[h],h++);const f={includeMetadataChanges:l.includeMetadataChanges};if(vT(e[h])){const S=e[h];e[h]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[h+1]=(r=S.error)===null||r===void 0?void 0:r.bind(S),e[h+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let g,v,b;if(t instanceof zn)v=Oi(t.firestore,So),b=nv(t._key.path),g={next:S=>{e[h]&&e[h](K3(v,t,S))},error:e[h+1],complete:e[h+2]};else{const S=Oi(t,Is);v=Oi(S.firestore,So),b=S._query;const P=new G2(v);g={next:$=>{e[h]&&e[h](new q3(v,P,S,$))},error:e[h+1],complete:e[h+2]},V3(t._query)}return function(S,P,$,j){const I=new D2(j),D=new R2(P,I,$);return S.asyncQueue.enqueueAndForget(async()=>T2(await hm(S),D)),()=>{I.bc(),S.asyncQueue.enqueueAndForget(async()=>x2(await hm(S),D))}}(pv(v),b,f,g)}function z2(t,e){return function(i,r){const o=new hs;return i.asyncQueue.enqueueAndForget(async()=>a9(await S9(i),r,o)),o.promise}(pv(t),e)}function K3(t,e,i){const r=i.docs.get(e._key),o=new G2(t);return new W3(t,o,e._key,r,new _h(i.hasPendingWrites,i.fromCache),e.converter)}function Ca(){return new L2("serverTimestamp")}function Tw(t){return new N9("increment",t)}(function(t,e=!0){(function(i){Lu=i})(ko),vs(new Vr("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),h=new So(new XF(i.getProvider("auth-internal")),new t8(i.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Se(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(f.options.projectId,g)}(l,r),l);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),qi(Bk,"3.9.0",t),qi(Bk,"3.9.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="firebasestorage.googleapis.com",Q3="storageBucket",z9=2*60*1e3,H9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt extends $n{constructor(e,i,r=0){super(K0(e),`Firebase Storage: ${i} (${K0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return K0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function K0(t){return"storage/"+t}function H2(){const t="An unknown error occurred, please check the error payload for server response.";return new Bt(jt.UNKNOWN,t)}function W9(t){return new Bt(jt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function q9(t){return new Bt(jt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function K9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bt(jt.UNAUTHENTICATED,t)}function Y9(){return new Bt(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Q9(t){return new Bt(jt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function X9(){return new Bt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J9(){return new Bt(jt.CANCELED,"User canceled the upload/download.")}function Z9(t){return new Bt(jt.INVALID_URL,"Invalid URL '"+t+"'.")}function e7(t){return new Bt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function t7(){return new Bt(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Q3+"' property when initializing the app?")}function n7(){return new Bt(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function i7(){return new Bt(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function r7(t){return new Bt(jt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xw(t){return new Bt(jt.INVALID_ARGUMENT,t)}function X3(){return new Bt(jt.APP_DELETED,"The Firebase app was deleted.")}function s7(t){return new Bt(jt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lh(t,e){return new Bt(jt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ah(t){throw new Bt(jt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=Pi.makeFromUrl(e,i)}catch{return new Pi(e,"")}if(r.path==="")return r;throw e7(e)}static makeFromUrl(e,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function l(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const h="(/(.*))?$",f=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function v(L){L.path_=decodeURIComponent(L.path)}const b="v[A-Za-z0-9_]+",S=i.replace(/[.]/g,"\\."),P="(/([^?#]*).*)?$",$=new RegExp(`^https?://${S}/${b}/b/${o}/o${P}`,"i"),j={bucket:1,path:3},I=i===Y3?"(?:storage.googleapis.com|storage.cloud.google.com)":i,D="([^?#]*)",C=new RegExp(`^https?://${I}/${o}/${D}`,"i"),O=[{regex:f,indices:g,postModify:l},{regex:$,indices:j,postModify:v},{regex:C,indices:{bucket:1,path:2},postModify:v}];for(let L=0;L<O.length;L++){const N=O[L],H=N.regex.exec(e);if(H){const F=H[N.indices.bucket];let q=H[N.indices.path];q||(q=""),r=new Pi(F,q),N.postModify(r);break}}if(r==null)throw Z9(e);return r}}class o7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t,e,i){let r=1,o=null,l=null,h=!1,f=0;function g(){return f===2}let v=!1;function b(...D){v||(v=!0,e.apply(null,D))}function S(D){o=setTimeout(()=>{o=null,t($,g())},D)}function P(){l&&clearTimeout(l)}function $(D,...C){if(v){P();return}if(D){P(),b.call(null,D,...C);return}if(g()||h){P(),b.call(null,D,...C);return}r<64&&(r*=2);let O;f===1?(f=2,O=0):O=(r+Math.random())*1e3,S(O)}let j=!1;function I(D){j||(j=!0,P(),!v&&(o!==null?(D||(f=2),clearTimeout(o),S(0)):D||(f=1)))}return S(0),l=setTimeout(()=>{h=!0,I(!0)},i),I}function l7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){return t!==void 0}function c7(t){return typeof t=="object"&&!Array.isArray(t)}function W2(t){return typeof t=="string"||t instanceof String}function _T(t){return q2()&&t instanceof Blob}function q2(){return typeof Blob<"u"&&!F_()}function bT(t,e,i,r){if(r<e)throw xw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>i)throw xw(`Invalid value for '${t}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t,e,i){let r=e;return i==null&&(r=`https://${e}`),`${i}://${r}/v0${t}`}function J3(t){const e=encodeURIComponent;let i="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);i=i+o+"&"}return i=i.slice(0,-1),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ha;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ha||(ha={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t,e){const i=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return i||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,i,r,o,l,h,f,g,v,b,S,P=!0){this.url_=e,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=f,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=S,this.retry=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,j)=>{this.resolve_=$,this.reject_=j,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new jp(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=f=>{const g=f.loaded,v=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,v)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const f=l.getErrorCode()===ha.NO_ERROR,g=l.getStatus();if(!f||h7(g,this.additionalRetryCodes_)&&this.retry){const b=l.getErrorCode()===ha.ABORT;r(!1,new jp(!1,null,b));return}const v=this.successCodes_.indexOf(g)!==-1;r(!0,new jp(v,l))})},i=(r,o)=>{const l=this.resolve_,h=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());u7(g)?l(g):l()}catch(g){h(g)}else if(f!==null){const g=H2();g.serverResponse=f.getErrorText(),this.errorCallback_?h(this.errorCallback_(f,g)):h(g)}else if(o.canceled){const g=this.appDelete_?X3():J9();h(g)}else{const g=X9();h(g)}};this.canceled_?i(!1,new jp(!1,null,!0)):this.backoffId_=a7(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jp{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function f7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function p7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function g7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function m7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v7(t,e,i,r,o,l,h=!0){const f=J3(t.urlParams),g=t.url+f,v=Object.assign({},t.headers);return g7(v,e),f7(v,i),p7(v,l),m7(v,r),new d7(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function w7(...t){const e=y7();if(e!==void 0){const i=new e;for(let r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}else{if(q2())return new Blob(t);throw new Bt(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _7(t,e,i){return t.webkitSlice?t.webkitSlice(e,i):t.mozSlice?t.mozSlice(e,i):t.slice?t.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t){if(typeof atob>"u")throw r7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Y0{constructor(e,i){this.data=e,this.contentType=i||null}}function Z3(t,e){switch(t){case lr.RAW:return new Y0(eD(e));case lr.BASE64:case lr.BASE64URL:return new Y0(tD(t,e));case lr.DATA_URL:return new Y0(E7(e),I7(e))}throw H2()}function eD(t){const e=[];for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<t.length-1&&(t.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const l=r,h=t.charCodeAt(++i);r=65536|(l&1023)<<10|h&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function S7(t){let e;try{e=decodeURIComponent(t)}catch{throw Lh(lr.DATA_URL,"Malformed data URL.")}return eD(e)}function tD(t,e){switch(t){case lr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Lh(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case lr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Lh(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=b7(e)}catch(o){throw o.message.includes("polyfill")?o:Lh(t,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class nD{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw Lh(lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=C7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function E7(t){const e=new nD(t);return e.base64?tD(lr.BASE64,e.rest):S7(e.rest)}function I7(t){return new nD(t).contentType}function C7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,i){let r=0,o="";_T(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(_T(this.data_)){const r=this.data_,o=_7(r,e,i);return o===null?null:new Js(o)}else{const r=new Uint8Array(this.data_.buffer,e,i-e);return new Js(r,!0)}}static getBlob(...e){if(q2()){const i=e.map(r=>r instanceof Js?r.data_:r);return new Js(w7.apply(null,i))}else{const i=e.map(h=>W2(h)?Z3(lr.RAW,h).data:h.data_);let r=0;i.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let l=0;return i.forEach(h=>{for(let f=0;f<h.length;f++)o[l++]=h[f]}),new Js(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){let e;try{e=JSON.parse(t)}catch{return null}return c7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T7(t,e){const i=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?i:t+"/"+i}function rD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(t,e){return e}class Zn{constructor(e,i,r,o){this.server=e,this.local=i||e,this.writable=!!r,this.xform=o||x7}}let Bp=null;function A7(t){return!W2(t)||t.length<2?t:rD(t)}function sD(){if(Bp)return Bp;const t=[];t.push(new Zn("bucket")),t.push(new Zn("generation")),t.push(new Zn("metageneration")),t.push(new Zn("name","fullPath",!0));function e(l,h){return A7(h)}const i=new Zn("name");i.xform=e,t.push(i);function r(l,h){return h!==void 0?Number(h):h}const o=new Zn("size");return o.xform=r,t.push(o),t.push(new Zn("timeCreated")),t.push(new Zn("updated")),t.push(new Zn("md5Hash",null,!0)),t.push(new Zn("cacheControl",null,!0)),t.push(new Zn("contentDisposition",null,!0)),t.push(new Zn("contentEncoding",null,!0)),t.push(new Zn("contentLanguage",null,!0)),t.push(new Zn("contentType",null,!0)),t.push(new Zn("metadata","customMetadata",!0)),Bp=t,Bp}function R7(t,e){function i(){const r=t.bucket,o=t.fullPath,l=new Pi(r,o);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:i})}function P7(t,e,i){const r={};r.type="file";const o=i.length;for(let l=0;l<o;l++){const h=i[l];r[h.local]=h.xform(r,e[h.server])}return R7(r,t),r}function oD(t,e,i){const r=iD(e);return r===null?null:P7(t,r,i)}function D7(t,e,i,r){const o=iD(e);if(o===null||!W2(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const h=encodeURIComponent;return l.split(",").map(v=>{const b=t.bucket,S=t.fullPath,P="/b/"+h(b)+"/o/"+h(S),$=K2(P,i,r),j=J3({alt:"media",token:v});return $+j})[0]}function N7(t,e){const i={},r=e.length;for(let o=0;o<r;o++){const l=e[o];l.writable&&(i[l.server]=t[l.local])}return JSON.stringify(i)}class aD{constructor(e,i,r,o){this.url=e,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){if(!t)throw H2()}function O7(t,e){function i(r,o){const l=oD(t,o,e);return lD(l!==null),l}return i}function L7(t,e){function i(r,o){const l=oD(t,o,e);return lD(l!==null),D7(l,o,t.host,t._protocol)}return i}function uD(t){function e(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=Y9():o=K9():i.getStatus()===402?o=q9(t.bucket):i.getStatus()===403?o=Q9(t.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return e}function M7(t){const e=uD(t);function i(r,o){let l=e(r,o);return r.getStatus()===404&&(l=W9(t.path)),l.serverResponse=o.serverResponse,l}return i}function U7(t,e,i){const r=e.fullServerUrl(),o=K2(r,t.host,t._protocol),l="GET",h=t.maxOperationRetryTime,f=new aD(o,l,L7(t,i),h);return f.errorHandler=M7(e),f}function F7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function j7(t,e,i){const r=Object.assign({},i);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=F7(null,e)),r}function B7(t,e,i,r,o){const l=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function f(){let O="";for(let L=0;L<2;L++)O=O+Math.random().toString().slice(2);return O}const g=f();h["Content-Type"]="multipart/related; boundary="+g;const v=j7(e,r,o),b=N7(v,i),S="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+g+`\r
Content-Type: `+v.contentType+`\r
\r
`,P=`\r
--`+g+"--",$=Js.getBlob(S,r,P);if($===null)throw n7();const j={name:v.fullPath},I=K2(l,t.host,t._protocol),D="POST",C=t.maxUploadRetryTime,x=new aD(I,D,O7(t,i),C);return x.urlParams=j,x.headers=h,x.body=$.uploadData(),x.errorHandler=uD(e),x}class $7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ha.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ha.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ha.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,o){if(this.sent_)throw ah("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ah("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ah("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ah("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ah("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class V7 extends $7{initXhr(){this.xhr_.responseType="text"}}function cD(){return new V7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,i){this._service=e,i instanceof Pi?this._location=i:this._location=Pi.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new ka(e,i)}get root(){const e=new Pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rD(this._location.path)}get storage(){return this._service}get parent(){const e=k7(this._location.path);if(e===null)return null;const i=new Pi(this._location.bucket,e);return new ka(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw s7(e)}}function G7(t,e,i){t._throwIfRoot("uploadBytes");const r=B7(t.storage,t._location,sD(),new Js(e,!0),i);return t.storage.makeRequestWithTokens(r,cD).then(o=>({metadata:o,ref:t}))}function z7(t,e,i=lr.RAW,r){t._throwIfRoot("uploadString");const o=Z3(i,e),l=Object.assign({},r);return l.contentType==null&&o.contentType!=null&&(l.contentType=o.contentType),G7(t,o.data,l)}function H7(t){t._throwIfRoot("getDownloadURL");const e=U7(t.storage,t._location,sD());return t.storage.makeRequestWithTokens(e,cD).then(i=>{if(i===null)throw i7();return i})}function W7(t,e){const i=T7(t._location.path,e),r=new Pi(t._location.bucket,i);return new ka(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){return/^[A-Za-z]+:\/\//.test(t)}function K7(t,e){return new ka(t,e)}function hD(t,e){if(t instanceof Y2){const i=t;if(i._bucket==null)throw t7();const r=new ka(i,i._bucket);return e!=null?hD(r,e):r}else return e!==void 0?W7(t,e):t}function Y7(t,e){if(e&&q7(e)){if(t instanceof Y2)return K7(t,e);throw xw("To use ref(service, url), the first argument must be a Storage instance.")}else return hD(t,e)}function ST(t,e){const i=e==null?void 0:e[Q3];return i==null?null:Pi.makeFromBucketSpec(i,t)}function Q7(t,e,i,r={}){t.host=`${e}:${i}`,t._protocol="http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:pR(o,t.app.options.projectId))}class Y2{constructor(e,i,r,o,l){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=Y3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=z9,this._maxUploadRetryTime=H9,this._requests=new Set,o!=null?this._bucket=Pi.makeFromBucketSpec(o,this._host):this._bucket=ST(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pi.makeFromBucketSpec(this._url,e):this._bucket=ST(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ka(this,e)}_makeRequest(e,i,r,o,l=!0){if(this._deleted)return new o7(X3());{const h=v7(e,this._appId,r,o,i,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,o).getPromise()}}const ET="@firebase/storage",IT="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="storage";function fD(t,e,i,r){return t=Le(t),z7(t,e,i,r)}function pD(t){return t=Le(t),H7(t)}function Q2(t,e){return t=Le(t),Y7(t,e)}function X2(t=G_(),e){t=Le(t);const r=jm(t,dD).getImmediate({identifier:e}),o=fR("storage");return o&&X7(r,...o),r}function X7(t,e,i,r={}){Q7(t,e,i,r)}function J7(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Y2(i,r,o,e,ko)}function Z7(){vs(new Vr(dD,J7,"PUBLIC").setMultipleInstances(!0)),qi(ET,IT,""),qi(ET,IT,"esm2017")}Z7();var pm={},eB={get exports(){return pm},set exports(t){pm=t}};const tB={},nB=Object.freeze(Object.defineProperty({__proto__:null,default:tB},Symbol.toStringTag,{value:"Module"})),J2=AO(nB),iB="dotenv",rB="16.0.3",sB="Loads environment variables from .env file",oB="lib/main.js",aB="lib/main.d.ts",lB={".":{require:"./lib/main.js",types:"./lib/main.d.ts",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},uB={"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},cB={type:"git",url:"git://github.com/motdotla/dotenv.git"},hB=["dotenv","env",".env","environment","variables","config","settings"],dB="README.md",fB="BSD-2-Clause",pB={"@types/node":"^17.0.9",decache:"^4.6.1",dtslint:"^3.7.0",sinon:"^12.0.1",standard:"^16.0.4","standard-markdown":"^7.1.0","standard-version":"^9.3.2",tap:"^15.1.6",tar:"^6.1.11",typescript:"^4.5.4"},gB={node:">=12"},mB={name:iB,version:rB,description:sB,main:oB,types:aB,exports:lB,scripts:uB,repository:cB,keywords:hB,readmeFilename:dB,license:fB,devDependencies:pB,engines:gB},vB=J2,gD=J2,yB=J2,wB=mB,_B=wB.version,bB=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function SB(t){const e={};let i=t.toString();i=i.replace(/\r\n?/mg,`
`);let r;for(;(r=bB.exec(i))!=null;){const o=r[1];let l=r[2]||"";l=l.trim();const h=l[0];l=l.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),h==='"'&&(l=l.replace(/\\n/g,`
`),l=l.replace(/\\r/g,"\r")),e[o]=l}return e}function Q0(t){console.log(`[dotenv@${_B}][DEBUG] ${t}`)}function EB(t){return t[0]==="~"?gD.join(yB.homedir(),t.slice(1)):t}function IB(t){let e=gD.resolve(process.cwd(),".env"),i="utf8";const r=!!(t&&t.debug),o=!!(t&&t.override);t&&(t.path!=null&&(e=EB(t.path)),t.encoding!=null&&(i=t.encoding));try{const l=Sv.parse(vB.readFileSync(e,{encoding:i}));return Object.keys(l).forEach(function(h){Object.prototype.hasOwnProperty.call(process.env,h)?(o===!0&&(process.env[h]=l[h]),r&&Q0(o===!0?`"${h}" is already defined in \`process.env\` and WAS overwritten`:`"${h}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[h]=l[h]}),{parsed:l}}catch(l){return r&&Q0(`Failed to load ${e} ${l.message}`),{error:l}}}const Sv={config:IB,parse:SB};pm.config=Sv.config;pm.parse=Sv.parse;eB.exports=Sv;const CB={apiKey:"AIzaSyDfU6mOcDHfBQKcufkg6cmCNGiFIkAsLZo",authDomain:"twitter-database-a9d09.firebaseapp.com",databaseURL:"https://twitter-database-a9d09-default-rtdb.firebaseio.com",projectId:"twitter-database-a9d09",storageBucket:"twitter-database-a9d09.appspot.com",messagingSenderId:"211773134489",appId:"1:211773134489:web:7fec9611ca83be06400a08",measurementId:"G-12873YS1ZY"},mD=Te.initializeApp(CB),an=A9(mD),kB=X2(mD);Q2(kB);const Cs=re.createContext({user:{email:"",uid:"",photoURL:"",userIcon:""},setUser:()=>{}}),da="/assets/avatar-24da207c.svg";function TB(){const{user:t}=re.useContext(Cs),[e,i]=re.useState(""),[r,o]=re.useState(!1),[l,h]=re.useState([]);re.useState([]);const[f,g]=re.useState(null),v=$=>{var I;const j=(I=$.target.files)==null?void 0:I[0];if(j){const D=new FileReader;D.readAsDataURL(j),D.onload=()=>{g(D.result)}}},b=async $=>{$.preventDefault(),i(""),g(""),o(!0);const j=Math.random().toString(36).substring(2,9)+"",I=X2();if(f){const D=Q2(I,`tweetsImage/${j}.png`);await fD(D,f,"data_url").then(C=>{pD(D).then(x=>{h(x),console.log("add doc , push to data base"),ku(Li(an,"tweets"),{tweetContent:e,email:t.email,uid:t.uid,image:`${j}.png`,url:x,likes:0,likeBy:[],timestamp:Ca(),retweetTimes:0,userIcon:t.photoURL})})})}else console.log("add doc , push to data base"),ku(Li(an,"tweets"),{tweetContent:e,email:t.email,uid:t.uid,likes:0,likeBy:[],timestamp:Ca(),retweetTimes:0,userIcon:t.photoURL});o(!1)},S=()=>{g("")};function P($){i($.currentTarget.value)}return Y.jsxs("div",{children:[r&&Y.jsx("div",{className:"mb-3 inset-0 flex items-center justify-center",children:Y.jsx("div",{className:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-16 w-16"})}),Y.jsxs("div",{className:"flex space-x-2 p-5",children:[Y.jsx("img",{className:"h-14 w-14 rounded-full object-cover mt-4",alt:"profile pic",src:t.userIcon||da}),Y.jsx("div",{className:"flex flex-1 items-center pl-2",children:Y.jsxs("form",{className:"flex flex-1 flex-col",onSubmit:b,children:[Y.jsx("input",{value:e,onChange:P,className:"h-24 w-full text-xl outline-none placeholder:text-xl",type:"text",placeholder:"What's Happening?"}),Y.jsx("div",{className:"border border-black rounded-lg max-w-fit",children:Y.jsxs("label",{htmlFor:"image",className:"items-center  max-w-fit ",children:["+ Add Images",Y.jsx("br",{}),Y.jsx("input",{type:"file",name:"image",onChange:v,multiple:!0,accept:"image/jpeg, image/png, image/webp, image/svg"})]})}),Y.jsxs("div",{children:[Y.jsx("button",{disabled:!f,className:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded my-1.5 disabled:opacity-40",onClick:S,children:"Delete image"}),f&&Y.jsx("img",{src:f,height:"200",alt:"Selected image"})]}),Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:" flex flex-1 space-x-2 text-twitter",children:Y.jsx(s6,{className:"h-5 w-5 cursor-pointer transition-transform duration-150 ease-out hover:scale-150 "})}),Y.jsx("div",{children:Y.jsx("button",{type:"submit",disabled:e.trim().length===0,className:"bg-twitter rounded-full px-5 py-2 font-bold text-white disabled:opacity-40",children:"Tweet"})})]})]})})]})]})}const CT=({Icon:t,title:e})=>Y.jsxs("div",{className:"flex max-w-fit items-center space-x-2 px-4 py-3 rounded-full  hover:bg-gray-100 transition-all duration-200 group",children:[Y.jsx(t,{className:"h-6 w-6"}),Y.jsx("p",{className:" group-hover:text-twitter  text-base ",children:e})]}),xB="_backdrop_1j5x1_1",AB="_modal_1j5x1_11",Aw={backdrop:xB,modal:AB,"slide-down":"_slide-down_1j5x1_1"},RB=t=>Y.jsx("div",{className:Aw.backdrop,onClick:t.onClose}),PB=t=>Y.jsx("div",{className:Aw.modal,children:Y.jsx("div",{className:Aw.content,children:t.children})}),kT=document.getElementById("overlays"),vD=t=>Y.jsxs(re.Fragment,{children:[fk.createPortal(Y.jsx(RB,{onClose:t.onClose}),kT),fk.createPortal(Y.jsx(PB,{children:t.children}),kT)]}),DB=({onClose:t,id:e})=>{const{user:i}=re.useContext(Cs);re.useState([]);const[r,o]=re.useState(!1),[l,h]=re.useState(0),f=async()=>{o(!0),await h(v=>v++);let g=e;console.log(g);try{const v=Iu(an,"tweets",g),b=await V9(v);if(b.exists())if(b.data().image)try{console.log("add doc , push to data base");const S=await ku(Li(an,"tweets"),{...b.data(),retweetFrom:b.data().email,timestamp:Ca()})}catch{console.log("error")}else try{console.log("add doc , push to data base");const S=await ku(Li(an,"tweets"),{tweetContent:b.data().tweetContent,email:i.email,likes:0,retweetFrom:b.data().email,timestamp:Ca(),retweetTimes:0,userIcon:i.userIcon})}catch{console.log("error")}else console.log("No such document!");try{const S=Iu(an,"tweets",`${e}`);await yd(S,{retweetTimes:Tw(1)})}catch(S){console.log(S)}}catch(v){console.log(v.message)}o(!1)};return Y.jsxs("div",{children:[r&&Y.jsx("div",{className:"mb-3 inset-0 flex items-center justify-center",children:Y.jsx("div",{className:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-16 w-16"})}),Y.jsxs(vD,{onClose:t,children:[Y.jsx("div",{className:"text-center my-2",children:"Confirm Retweet?"}),Y.jsxs("div",{className:"text-center",children:[Y.jsx("button",{onClick:()=>{t(),f()},type:"button",className:"text-white lg:pr-20 lg:pl-20  bg-twitter hover:bg-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-700  ",children:"Confirm"}),Y.jsx("button",{onClick:t,type:"button",className:"text-white lg:pr-20 lg:pl-20  bg-twitter hover:bg-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-700  ",children:"Cancel"})]})]})]})},NB=({id:t,tweetContent:e,email:i,url:r,likes:o,retweetFrom:l,retweetTimes:h,userIcon:f})=>{const g=i.substring(0,i.lastIndexOf("@"));re.useContext(Cs);const[v,b]=re.useState(localStorage.getItem(`isLiked-${t}`)==="true"||!1),[S,P]=re.useState(!1);re.useEffect(()=>{localStorage.setItem(`isLiked-${t}`,`${v}`)},[v]);const $=async()=>{if(v){b(!1);const D=Iu(an,"tweets",`${t}`);await yd(D,{likes:Tw(-1)}),console.log("-1")}else{b(!0);const D=Iu(an,"tweets",`${t}`);await yd(D,{likes:Tw(1)}),console.log("+1")}},j=()=>{P(!0)},I=()=>{P(!1)};return Y.jsxs("li",{className:"flex space-x-2 p-5 border",children:[Y.jsx("img",{className:"h-14 w-14 rounded-full object-cover mt-4",alt:"profile image",src:f||da}),Y.jsxs("div",{className:"w-11/12 ",children:[Y.jsx("div",{className:"flex w-11/12 ",children:Y.jsxs("h2",{className:"text-gray-500 pr-2",children:["@",g]})}),l&&Y.jsxs("div",{className:"text-l font-semibold text-blue-600/100 dark:text-blue-500/100",children:["Retweet from:@",l.substring(0,l.lastIndexOf("@"))]}),Y.jsx("div",{className:"mb-4 w-11/12  ",children:e}),Y.jsx("div",{className:"mb-4",children:r&&Y.jsx("img",{className:"object-cover sm:object-scale-down",alt:"uploaded picture",src:r.length>0?r:""})}),Y.jsxs("div",{className:"flex flex-1 sm:space-x-2 lg:space-x-6 md:space-x-2  w-10/12  ",children:[Y.jsx(CT,{Icon:JM,title:"3777"}),Y.jsx("button",{onClick:()=>{j()},children:Y.jsx(CT,{Icon:o6,title:h})}),S&&Y.jsx(DB,{id:t,onClose:I}),Y.jsxs("div",{onClick:$,className:"flex max-w-fit items-center space-x-2 px-4 py-3 rounded-full  hover:bg-gray-100 transition-all duration-200 group",children:[v?Y.jsx(gk,{className:"h-6 w-6 fill-red-400"}):Y.jsx(gk,{className:"h-6 w-6"}),Y.jsx("p",{className:" group-hover:text-twitter  text-base ",children:o})]})]})]})]})},OB=()=>{const[t,e]=re.useState([]),[i,r]=re.useState(!1),o=re.useCallback(async()=>{r(!0);try{const h=await Ia(Li(an,"tweets"),_v("timestamp","desc"));bv(h,f=>{const g=[];f.docs.forEach(v=>{g.push({...v.data(),id:v.id})}),e(g)})}catch(h){h instanceof Error?console.log(h.message):console.log("Unexpected error",h)}r(!1)},[]);re.useEffect(()=>{o()},[]);const l=()=>{window.location.reload()};return Y.jsxs("div",{className:"col-span-7 lg:col-span-5  border-x",children:[Y.jsxs("div",{className:"flex items-center justify-between ",children:[Y.jsx("h1",{className:"p-5 pb-0 text-xl font-bold",children:"Home"}),Y.jsx("button",{onClick:l,children:Y.jsx(YM,{className:"h-8 w-8  mr-5 mt-5 cursor-pointer text-twitter transition-all duration-500 ease-out hover:rotate-180 active:scale-125"})})]}),i&&Y.jsx("div",{className:"mb-3 inset-0 flex items-center justify-center",children:Y.jsx("div",{className:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-16 w-16"})}),Y.jsx(TB,{}),Y.jsx("ul",{children:t.map(h=>Y.jsx(NB,{email:h.email,id:h.id,tweetContent:h.tweetContent,url:h==null?void 0:h.url,likes:h==null?void 0:h.likes,retweetFrom:h.retweetFrom,retweetTimes:h.retweetTimes,userIcon:h.userIcon},h.id))})]})},Ws=({Icon:t,title:e})=>Y.jsxs("div",{className:"cursor-default	 flex max-w-fit items-center space-x-2 px-4 py-3 rounded-full  hover:bg-gray-100 transition-all duration-200 group",children:[Y.jsx(t,{className:"h-7 w-7"}),Y.jsx("p",{className:"hidden group-hover:text-twitter md:inline-flex text-base lg:text-xl ",children:e})]});function LB(){return Y.jsx("div",{className:"text-center",children:Y.jsx("button",{type:"button",className:"text-white lg:pr-20 lg:pl-20  bg-twitter hover:bg-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-700  ",children:"Tweet"})})}var Rw={},MB={get exports(){return Rw},set exports(t){Rw=t}};(function(t,e){(function(i,r){t.exports=r(re)})(self,function(i){return(()=>{var r={303:(f,g,v)=>{f.exports=v(302),v(200),v(630),v(16),v(677),v(635),v(166),v(140),v(922)},635:(f,g,v)=>{var b,S,P;(function($){S=[v(302),v(677)],(P=typeof(b=function(j){var I=j.ExifMap.prototype;I.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},I.tags.ifd1=I.tags,I.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180° CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90° CW",6:"Rotate 90° CW",7:"Horizontal flip + Rotate 90° CW",8:"Rotate 90° CCW"}},I.getText=function(D){var C=this.get(D);switch(D){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[D][C];case"ExifVersion":case"FlashpixVersion":return C?String.fromCharCode(C[0],C[1],C[2],C[3]):void 0;case"ComponentsConfiguration":return C?this.stringValues[D][C[0]]+this.stringValues[D][C[1]]+this.stringValues[D][C[2]]+this.stringValues[D][C[3]]:void 0;case"GPSVersionID":return C?C[0]+"."+C[1]+"."+C[2]+"."+C[3]:void 0}return String(C)},I.getAll=function(){var D,C,x,O={};for(D in this)Object.prototype.hasOwnProperty.call(this,D)&&((C=this[D])&&C.getAll?O[this.ifds[D].name]=C.getAll():(x=this.tags[D])&&(O[x]=this.getText(x)));return O},I.getName=function(D){var C=this.tags[D];return typeof C=="object"?this.ifds[D].name:C},function(){var D,C,x,O=I.tags;for(D in O)if(Object.prototype.hasOwnProperty.call(O,D))if(C=I.ifds[D])for(D in x=O[D])Object.prototype.hasOwnProperty.call(x,D)&&(C.map[x[D]]=Number(D));else I.map[O[D]]=Number(D)}()})=="function"?b.apply(g,S):b)===void 0||(f.exports=P)})()},677:(f,g,v)=>{var b,S,P;(function($){S=[v(302),v(630)],(P=typeof(b=function(j){function I(L){L&&(Object.defineProperty(this,"map",{value:this.ifds[L].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[L]||{}}))}I.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965},I.prototype.ifds={ifd1:{name:"Thumbnail",map:I.prototype.map},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},I.prototype.get=function(L){return this[L]||this[this.map[L]]};var D={1:{getValue:function(L,N){return L.getUint8(N)},size:1},2:{getValue:function(L,N){return String.fromCharCode(L.getUint8(N))},size:1,ascii:!0},3:{getValue:function(L,N,H){return L.getUint16(N,H)},size:2},4:{getValue:function(L,N,H){return L.getUint32(N,H)},size:4},5:{getValue:function(L,N,H){return L.getUint32(N,H)/L.getUint32(N+4,H)},size:8},9:{getValue:function(L,N,H){return L.getInt32(N,H)},size:4},10:{getValue:function(L,N,H){return L.getInt32(N,H)/L.getInt32(N+4,H)},size:8}};function C(L,N,H,F,q,se){var Z,z,W,U,ne,J,Q=D[F];if(Q){if(!((z=(Z=Q.size*q)>4?N+L.getUint32(H+8,se):H+8)+Z>L.byteLength)){if(q===1)return Q.getValue(L,z,se);for(W=[],U=0;U<q;U+=1)W[U]=Q.getValue(L,z+U*Q.size,se);if(Q.ascii){for(ne="",U=0;U<W.length&&(J=W[U])!=="\0";U+=1)ne+=J;return ne}return W}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}function x(L,N,H){return(!L||L[H])&&(!N||N[H]!==!0)}function O(L,N,H,F,q,se,Z,z){var W,U,ne,J,Q,oe;if(H+6>L.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((U=H+2+12*(W=L.getUint16(H,F)))+4>L.byteLength)){for(ne=0;ne<W;ne+=1)J=H+2+12*ne,x(Z,z,Q=L.getUint16(J,F))&&(oe=C(L,N,J,L.getUint16(J+2,F),L.getUint32(J+4,F),F),q[Q]=oe,se&&(se[Q]=J));return L.getUint32(U,F)}console.log("Invalid Exif data: Invalid directory size.")}}D[7]=D[1],j.parseExifData=function(L,N,H,F,q){if(!q.disableExif){var se,Z,z,W=q.includeExifTags,U=q.excludeExifTags||{34665:{37500:!0}},ne=N+10;if(L.getUint32(N+4)===1165519206)if(ne+8>L.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(L.getUint16(N+8)===0){switch(L.getUint16(ne)){case 18761:se=!0;break;case 19789:se=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}L.getUint16(ne+2,se)===42?(Z=L.getUint32(ne+4,se),F.exif=new I,q.disableExifOffsets||(F.exifOffsets=new I,F.exifTiffOffset=ne,F.exifLittleEndian=se),(Z=O(L,ne,ne+Z,se,F.exif,F.exifOffsets,W,U))&&x(W,U,"ifd1")&&(F.exif.ifd1=Z,F.exifOffsets&&(F.exifOffsets.ifd1=ne+Z)),Object.keys(F.exif.ifds).forEach(function(J){(function(Q,oe,K,ie,he,ye,Ie){var _e=Q.exif[oe];_e&&(Q.exif[oe]=new I(oe),Q.exifOffsets&&(Q.exifOffsets[oe]=new I(oe)),O(K,ie,ie+_e,he,Q.exif[oe],Q.exifOffsets&&Q.exifOffsets[oe],ye&&ye[oe],Ie&&Ie[oe]))})(F,J,L,ne,se,W,U)}),(z=F.exif.ifd1)&&z[513]&&(z[513]=function(J,Q,oe){if(oe){if(!(Q+oe>J.byteLength))return new Blob([j.bufferSlice.call(J.buffer,Q,Q+oe)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}}(L,ne+z[513],z[514]))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},j.metaDataParsers.jpeg[65505].push(j.parseExifData),j.exifWriters={274:function(L,N,H){var F=N.exifOffsets[274];return F&&new DataView(L,F+8,2).setUint16(0,H,N.exifLittleEndian),L}},j.writeExifData=function(L,N,H,F){return j.exifWriters[N.exif.map[H]](L,N,F)},j.ExifMap=I})=="function"?b.apply(g,S):b)===void 0||(f.exports=P)})()},16:(f,g,v)=>{var b,S,P;(function($){S=[v(302)],(P=typeof(b=function(j){var I=j.global;I.fetch&&I.Request&&I.Response&&I.Response.prototype.blob?j.fetchBlob=function(D,C,x){function O(L){return L.blob()}if(I.Promise&&typeof C!="function")return fetch(new Request(D,C)).then(O);fetch(new Request(D,x)).then(O).then(C).catch(function(L){C(null,L)})}:I.XMLHttpRequest&&new XMLHttpRequest().responseType===""&&(j.fetchBlob=function(D,C,x){function O(L,N){x=x||{};var H=new XMLHttpRequest;H.open(x.method||"GET",D),x.headers&&Object.keys(x.headers).forEach(function(F){H.setRequestHeader(F,x.headers[F])}),H.withCredentials=x.credentials==="include",H.responseType="blob",H.onload=function(){L(H.response)},H.onerror=H.onabort=H.ontimeout=function(F){L===N?N(null,F):N(F)},H.send(x.body)}return I.Promise&&typeof C!="function"?(x=C,new Promise(O)):O(C,C)})})=="function"?b.apply(g,S):b)===void 0||(f.exports=P)})()},140:(f,g,v)=>{var b,S,P;(function($){S=[v(302),v(166)],(P=typeof(b=function(j){var I=j.IptcMap.prototype;I.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},I.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},I.getText=function(D){var C=this.get(D),x=this.map[D],O=this.stringValues[x];return O?O[C]:String(C)},I.getAll=function(){var D,C,x={};for(D in this)Object.prototype.hasOwnProperty.call(this,D)&&(C=this.tags[D])&&(x[C]=this.getText(C));return x},I.getName=function(D){return this.tags[D]},function(){var D,C=I.tags,x=I.map||{};for(D in C)Object.prototype.hasOwnProperty.call(C,D)&&(x[C[D]]=Number(D))}()})=="function"?b.apply(g,S):b)===void 0||(f.exports=P)})()},166:(f,g,v)=>{var b,S,P;(function($){S=[v(302),v(630)],(P=typeof(b=function(j){function I(){}function D(N,H,F,q,se){return H.types[N]==="binary"?new Blob([F.buffer.slice(q,q+se)]):H.types[N]==="Uint16"?F.getUint16(q):function(Z,z,W){for(var U="",ne=z+W,J=z;J<ne;J+=1)U+=String.fromCharCode(Z.getUint8(J));return U}(F,q,se)}function C(N,H){return N===void 0?H:N instanceof Array?(N.push(H),N):[N,H]}function x(N,H,F,q,se,Z){for(var z,W,U,ne=H+F,J=H;J<ne;)N.getUint8(J)===28&&N.getUint8(J+1)===2&&(U=N.getUint8(J+2),se&&!se[U]||Z&&Z[U]||(W=N.getInt16(J+3),z=D(U,q.iptc,N,J+5,W),q.iptc[U]=C(q.iptc[U],z),q.iptcOffsets&&(q.iptcOffsets[U]=J))),J+=1}function O(N,H){return N.getUint32(H)===943868237&&N.getUint16(H+4)===1028}function L(N,H){var F=N.getUint8(H+7);return F%2!=0&&(F+=1),F===0&&(F=4),F}I.prototype.map={ObjectName:5},I.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},I.prototype.get=function(N){return this[N]||this[this.map[N]]},j.parseIptcData=function(N,H,F,q,se){if(!se.disableIptc)for(var Z=H+F;H+8<Z;){if(O(N,H)){var z=L(N,H),W=H+8+z;if(W>Z){console.log("Invalid IPTC data: Invalid segment offset.");break}var U=N.getUint16(H+6+z);if(H+U>Z){console.log("Invalid IPTC data: Invalid segment size.");break}return q.iptc=new I,se.disableIptcOffsets||(q.iptcOffsets=new I),void x(N,W,U,q,se.includeIptcTags,se.excludeIptcTags||{202:!0})}H+=1}},j.metaDataParsers.jpeg[65517].push(j.parseIptcData),j.IptcMap=I})=="function"?b.apply(g,S):b)===void 0||(f.exports=P)})()},630:(f,g,v)=>{var b,S,P;(function($){S=[v(302)],(P=typeof(b=function(j){var I=j.global,D=j.transform,C=I.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),x=I.ArrayBuffer&&ArrayBuffer.prototype.slice||function(H,F){F=F||this.byteLength-H;var q=new Uint8Array(this,H,F),se=new Uint8Array(F);return se.set(q),se.buffer},O={jpeg:{65505:[],65517:[]}};function L(H,F,q,se){var Z=this;function z(W,U){if(!(I.DataView&&C&&H&&H.size>=12&&H.type==="image/jpeg"))return W(se);var ne=q.maxMetaDataSize||262144;j.readFile(C.call(H,0,ne),function(J){var Q=new DataView(J);if(Q.getUint16(0)!==65496)return U(new Error("Invalid JPEG file: Missing JPEG marker."));for(var oe,K,ie,he,ye=2,Ie=Q.byteLength-4,_e=ye;ye<Ie&&((oe=Q.getUint16(ye))>=65504&&oe<=65519||oe===65534);){if(ye+(K=Q.getUint16(ye+2)+2)>Q.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if((ie=O.jpeg[oe])&&!q.disableMetaDataParsers)for(he=0;he<ie.length;he+=1)ie[he].call(Z,Q,ye,K,se,q);_e=ye+=K}!q.disableImageHead&&_e>6&&(se.imageHead=x.call(J,0,_e)),W(se)},U,"readAsArrayBuffer")||W(se)}return q=q||{},I.Promise&&typeof F!="function"?(se=q=F||{},new Promise(z)):(se=se||{},z(F,F))}function N(H,F,q){return H&&F&&q?new Blob([q,C.call(H,F.byteLength)],{type:"image/jpeg"}):null}j.transform=function(H,F,q,se,Z){j.requiresMetaData(F)?L(se,function(z){z!==Z&&(I.console&&console.log(z),z=Z),D.call(j,H,F,q,se,z)},F,Z=Z||{}):D.apply(j,arguments)},j.blobSlice=C,j.bufferSlice=x,j.replaceHead=function(H,F,q){var se={maxMetaDataSize:256,disableMetaDataParsers:!0};if(!q&&I.Promise)return L(H,se).then(function(Z){return N(H,Z.imageHead,F)});L(H,function(Z){q(N(H,Z.imageHead,F))},se)},j.parseMetaData=L,j.metaDataParsers=O})=="function"?b.apply(g,S):b)===void 0||(f.exports=P)})()},922:(f,g,v)=>{var b,S,P;(function($){S=[v(302),v(200),v(630)],(P=typeof(b=function(j){var I=j.transform,D=j.requiresCanvas,C=j.requiresMetaData,x=j.transformCoordinates,O=j.getTransformedOptions;function L(F,q){var se=F&&F.orientation;return se===!0&&!j.orientation||se===1&&j.orientation||(!q||j.orientation)&&se>1&&se<9}function N(F,q){return F!==q&&(F===1&&q>1&&q<9||F>1&&F<9)}function H(F,q){if(q>1&&q<9)switch(F){case 2:case 4:return q>4;case 5:case 7:return q%2==0;case 6:case 8:return q===2||q===4||q===5||q===7}return!1}(function(F){if(F.global.document){var q=document.createElement("img");q.onload=function(){if(F.orientation=q.width===2&&q.height===3,F.orientation){var se=F.createCanvas(1,1,!0).getContext("2d");se.drawImage(q,1,1,1,1,0,0,1,1),F.orientationCropBug=se.getImageData(0,0,1,1).data.toString()!=="255,255,255,255"}},q.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="}})(j),j.requiresCanvas=function(F){return L(F)||D.call(j,F)},j.requiresMetaData=function(F){return L(F,!0)||C.call(j,F)},j.transform=function(F,q,se,Z,z){I.call(j,F,q,function(W,U){if(U){var ne=j.orientation&&U.exif&&U.exif.get("Orientation");if(ne>4&&ne<9){var J=U.originalWidth,Q=U.originalHeight;U.originalWidth=Q,U.originalHeight=J}}se(W,U)},Z,z)},j.getTransformedOptions=function(F,q,se){var Z=O.call(j,F,q),z=se.exif&&se.exif.get("Orientation"),W=Z.orientation,U=j.orientation&&z;if(W===!0&&(W=z),!N(W,U))return Z;var ne=Z.top,J=Z.right,Q=Z.bottom,oe=Z.left,K={};for(var ie in Z)Object.prototype.hasOwnProperty.call(Z,ie)&&(K[ie]=Z[ie]);if(K.orientation=W,(W>4&&!(U>4)||W<5&&U>4)&&(K.maxWidth=Z.maxHeight,K.maxHeight=Z.maxWidth,K.minWidth=Z.minHeight,K.minHeight=Z.minWidth,K.sourceWidth=Z.sourceHeight,K.sourceHeight=Z.sourceWidth),U>1){switch(U){case 2:J=Z.left,oe=Z.right;break;case 3:ne=Z.bottom,J=Z.left,Q=Z.top,oe=Z.right;break;case 4:ne=Z.bottom,Q=Z.top;break;case 5:ne=Z.left,J=Z.bottom,Q=Z.right,oe=Z.top;break;case 6:ne=Z.left,J=Z.top,Q=Z.right,oe=Z.bottom;break;case 7:ne=Z.right,J=Z.top,Q=Z.left,oe=Z.bottom;break;case 8:ne=Z.right,J=Z.bottom,Q=Z.left,oe=Z.top}if(H(W,U)){var he=ne,ye=J;ne=Q,J=oe,Q=he,oe=ye}}switch(K.top=ne,K.right=J,K.bottom=Q,K.left=oe,W){case 2:K.right=oe,K.left=J;break;case 3:K.top=Q,K.right=oe,K.bottom=ne,K.left=J;break;case 4:K.top=Q,K.bottom=ne;break;case 5:K.top=oe,K.right=Q,K.bottom=J,K.left=ne;break;case 6:K.top=J,K.right=Q,K.bottom=oe,K.left=ne;break;case 7:K.top=J,K.right=ne,K.bottom=oe,K.left=Q;break;case 8:K.top=oe,K.right=ne,K.bottom=J,K.left=Q}return K},j.transformCoordinates=function(F,q,se){x.call(j,F,q,se);var Z=q.orientation,z=j.orientation&&se.exif&&se.exif.get("Orientation");if(N(Z,z)){var W=F.getContext("2d"),U=F.width,ne=F.height,J=U,Q=ne;switch((Z>4&&!(z>4)||Z<5&&z>4)&&(F.width=ne,F.height=U),Z>4&&(J=ne,Q=U),z){case 2:W.translate(J,0),W.scale(-1,1);break;case 3:W.translate(J,Q),W.rotate(Math.PI);break;case 4:W.translate(0,Q),W.scale(1,-1);break;case 5:W.rotate(-.5*Math.PI),W.scale(-1,1);break;case 6:W.rotate(-.5*Math.PI),W.translate(-J,0);break;case 7:W.rotate(-.5*Math.PI),W.translate(-J,Q),W.scale(1,-1);break;case 8:W.rotate(.5*Math.PI),W.translate(0,-Q)}switch(H(Z,z)&&(W.translate(J,Q),W.rotate(Math.PI)),Z){case 2:W.translate(U,0),W.scale(-1,1);break;case 3:W.translate(U,ne),W.rotate(Math.PI);break;case 4:W.translate(0,ne),W.scale(1,-1);break;case 5:W.rotate(.5*Math.PI),W.scale(1,-1);break;case 6:W.rotate(.5*Math.PI),W.translate(0,-ne);break;case 7:W.rotate(.5*Math.PI),W.translate(U,-ne),W.scale(-1,1);break;case 8:W.rotate(-.5*Math.PI),W.translate(-U,0)}}}})=="function"?b.apply(g,S):b)===void 0||(f.exports=P)})()},200:(f,g,v)=>{var b,S,P;(function($){S=[v(302)],(P=typeof(b=function(j){var I=j.transform;j.createCanvas=function(D,C,x){if(x&&j.global.OffscreenCanvas)return new OffscreenCanvas(D,C);var O=document.createElement("canvas");return O.width=D,O.height=C,O},j.transform=function(D,C,x,O,L){I.call(j,j.scale(D,C,L),C,x,O,L)},j.transformCoordinates=function(){},j.getTransformedOptions=function(D,C){var x,O,L,N,H=C.aspectRatio;if(!H)return C;for(O in x={},C)Object.prototype.hasOwnProperty.call(C,O)&&(x[O]=C[O]);return x.crop=!0,(L=D.naturalWidth||D.width)/(N=D.naturalHeight||D.height)>H?(x.maxWidth=N*H,x.maxHeight=N):(x.maxWidth=L,x.maxHeight=L/H),x},j.drawImage=function(D,C,x,O,L,N,H,F,q){var se=C.getContext("2d");return q.imageSmoothingEnabled===!1?(se.msImageSmoothingEnabled=!1,se.imageSmoothingEnabled=!1):q.imageSmoothingQuality&&(se.imageSmoothingQuality=q.imageSmoothingQuality),se.drawImage(D,x,O,L,N,0,0,H,F),se},j.requiresCanvas=function(D){return D.canvas||D.crop||!!D.aspectRatio},j.scale=function(D,C,x){C=C||{},x=x||{};var O,L,N,H,F,q,se,Z,z,W,U,ne,J=D.getContext||j.requiresCanvas(C)&&!!j.global.HTMLCanvasElement,Q=D.naturalWidth||D.width,oe=D.naturalHeight||D.height,K=Q,ie=oe;function he(){var Ie=Math.max((N||K)/K,(H||ie)/ie);Ie>1&&(K*=Ie,ie*=Ie)}function ye(){var Ie=Math.min((O||K)/K,(L||ie)/ie);Ie<1&&(K*=Ie,ie*=Ie)}if(J&&(se=(C=j.getTransformedOptions(D,C,x)).left||0,Z=C.top||0,C.sourceWidth?(F=C.sourceWidth,C.right!==void 0&&C.left===void 0&&(se=Q-F-C.right)):F=Q-se-(C.right||0),C.sourceHeight?(q=C.sourceHeight,C.bottom!==void 0&&C.top===void 0&&(Z=oe-q-C.bottom)):q=oe-Z-(C.bottom||0),K=F,ie=q),O=C.maxWidth,L=C.maxHeight,N=C.minWidth,H=C.minHeight,J&&O&&L&&C.crop?(K=O,ie=L,(U=F/q-O/L)<0?(q=L*F/O,C.top===void 0&&C.bottom===void 0&&(Z=(oe-q)/2)):U>0&&(F=O*q/L,C.left===void 0&&C.right===void 0&&(se=(Q-F)/2))):((C.contain||C.cover)&&(N=O=O||N,H=L=L||H),C.cover?(ye(),he()):(he(),ye())),J){if((z=C.pixelRatio)>1&&(!D.style.width||Math.floor(parseFloat(D.style.width,10))!==Math.floor(Q/z))&&(K*=z,ie*=z),j.orientationCropBug&&!D.getContext&&(se||Z||F!==Q||q!==oe)&&(U=D,D=j.createCanvas(Q,oe,!0),j.drawImage(U,D,0,0,Q,oe,Q,oe,C)),(W=C.downsamplingRatio)>0&&W<1&&K<F&&ie<q)for(;F*W>K;)ne=j.createCanvas(F*W,q*W,!0),j.drawImage(D,ne,se,Z,F,q,ne.width,ne.height,C),se=0,Z=0,F=ne.width,q=ne.height,D=ne;return ne=j.createCanvas(K,ie),j.transformCoordinates(ne,C,x),z>1&&(ne.style.width=ne.width/z+"px"),j.drawImage(D,ne,se,Z,F,q,K,ie,C).setTransform(1,0,0,1,0,0),ne}return D.width=K,D.height=ie,D}})=="function"?b.apply(g,S):b)===void 0||(f.exports=P)})()},302:function(f,g,v){var b;(function(S){var P=S.URL||S.webkitURL;function $(O){return!!P&&P.createObjectURL(O)}function j(O){return!!P&&P.revokeObjectURL(O)}function I(O,L){!O||O.slice(0,5)!=="blob:"||L&&L.noRevoke||j(O)}function D(O,L,N,H){if(!S.FileReader)return!1;var F=new FileReader;F.onload=function(){L.call(F,this.result)},N&&(F.onabort=F.onerror=function(){N.call(F,this.error)});var q=F[H||"readAsDataURL"];return q?(q.call(F,O),F):void 0}function C(O,L){return Object.prototype.toString.call(L)==="[object "+O+"]"}function x(O,L,N){function H(F,q){var se,Z=document.createElement("img");function z(U,ne){F!==q?U instanceof Error?q(U):((ne=ne||{}).image=U,F(ne)):F&&F(U,ne)}function W(U,ne){ne&&S.console&&console.log(ne),U&&C("Blob",U)?se=$(O=U):(se=O,N&&N.crossOrigin&&(Z.crossOrigin=N.crossOrigin)),Z.src=se}return Z.onerror=function(U){I(se,N),q&&q.call(Z,U)},Z.onload=function(){I(se,N);var U={originalWidth:Z.naturalWidth||Z.width,originalHeight:Z.naturalHeight||Z.height};try{x.transform(Z,N,z,O,U)}catch(ne){q&&q(ne)}},typeof O=="string"?(x.requiresMetaData(N)?x.fetchBlob(O,W,N):W(),Z):C("Blob",O)||C("File",O)?(se=$(O))?(Z.src=se,Z):D(O,function(U){Z.src=U},q):void 0}return S.Promise&&typeof L!="function"?(N=L,new Promise(H)):H(L,L)}x.requiresMetaData=function(O){return O&&O.meta},x.fetchBlob=function(O,L){L()},x.transform=function(O,L,N,H,F){N(O,F)},x.global=S,x.readFile=D,x.isInstanceOf=C,x.createObjectURL=$,x.revokeObjectURL=j,(b=function(){return x}.call(g,v,g,f))===void 0||(f.exports=b)})(typeof window<"u"&&window||this)},918:function(f,g){var v;(function(){var b=function(z){return z instanceof b?z:this instanceof b?void(this.EXIFwrapped=z):new b(z)};f.exports&&(g=f.exports=b),g.EXIF=b;var S=b.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},P=b.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},$=b.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},j=b.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},I=b.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function D(z){return!!z.exifdata}function C(z,W){function U(Q){var oe=x(Q);z.exifdata=oe||{};var K=function(he){var ye=new DataView(he);if(ye.getUint8(0)!=255||ye.getUint8(1)!=216)return!1;for(var Ie=2,_e=he.byteLength,qe=function(rt,He){return rt.getUint8(He)===56&&rt.getUint8(He+1)===66&&rt.getUint8(He+2)===73&&rt.getUint8(He+3)===77&&rt.getUint8(He+4)===4&&rt.getUint8(He+5)===4};Ie<_e;){if(qe(ye,Ie)){var it=ye.getUint8(Ie+7);return it%2!=0&&(it+=1),it===0&&(it=4),L(he,Ie+8+it,ye.getUint16(Ie+6+it))}Ie++}}(Q);if(z.iptcdata=K||{},b.isXmpEnabled){var ie=function(he){if("DOMParser"in self){var ye=new DataView(he);if(ye.getUint8(0)!=255||ye.getUint8(1)!=216)return!1;for(var Ie=2,_e=he.byteLength,qe=new DOMParser;Ie<_e-4;){if(F(ye,Ie,4)=="http"){var it=Ie-1,rt=ye.getUint16(Ie-2)-1,He=F(ye,it,rt),yi=He.indexOf("xmpmeta>")+8,si=(He=He.substring(He.indexOf("<x:xmpmeta"),yi)).indexOf("x:xmpmeta")+10;return He=He.slice(0,si)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+He.slice(si),Z(qe.parseFromString(He,"text/xml"))}Ie++}}}(Q);z.xmpdata=ie||{}}W&&W.call(z)}if(z.src)if(/^data\:/i.test(z.src))U(function(Q,oe){oe=oe||Q.match(/^data\:([^\;]+)\;base64,/im)[1]||"",Q=Q.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var K=atob(Q),ie=K.length,he=new ArrayBuffer(ie),ye=new Uint8Array(he),Ie=0;Ie<ie;Ie++)ye[Ie]=K.charCodeAt(Ie);return he}(z.src));else if(/^blob\:/i.test(z.src))(J=new FileReader).onload=function(Q){U(Q.target.result)},function(Q,oe){var K=new XMLHttpRequest;K.open("GET",Q,!0),K.responseType="blob",K.onload=function(ie){var he;this.status!=200&&this.status!==0||(he=this.response,J.readAsArrayBuffer(he))},K.send()}(z.src);else{var ne=new XMLHttpRequest;ne.onload=function(){if(this.status!=200&&this.status!==0)throw"Could not load image";U(ne.response),ne=null},ne.open("GET",z.src,!0),ne.responseType="arraybuffer",ne.send(null)}else if(self.FileReader&&(z instanceof self.Blob||z instanceof self.File)){var J;(J=new FileReader).onload=function(Q){U(Q.target.result)},J.readAsArrayBuffer(z)}}function x(z){var W=new DataView(z);if(W.getUint8(0)!=255||W.getUint8(1)!=216)return!1;for(var U=2,ne=z.byteLength;U<ne;){if(W.getUint8(U)!=255)return!1;if(W.getUint8(U+1)==225)return q(W,U+4,W.getUint16(U+2));U+=2+W.getUint16(U+2)}}var O={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function L(z,W,U){for(var ne,J,Q,oe,K=new DataView(z),ie={},he=W;he<W+U;)K.getUint8(he)===28&&K.getUint8(he+1)===2&&(oe=K.getUint8(he+2))in O&&(Q=K.getInt16(he+3),J=O[oe],ne=F(K,he+5,Q),ie.hasOwnProperty(J)?ie[J]instanceof Array?ie[J].push(ne):ie[J]=[ie[J],ne]:ie[J]=ne),he++;return ie}function N(z,W,U,ne,J){var Q,oe,K=z.getUint16(U,!J),ie={};for(oe=0;oe<K;oe++)Q=U+12*oe+2,ie[ne[z.getUint16(Q,!J)]]=H(z,Q,W,0,J);return ie}function H(z,W,U,ne,J){var Q,oe,K,ie,he,ye,Ie=z.getUint16(W+2,!J),_e=z.getUint32(W+4,!J),qe=z.getUint32(W+8,!J)+U;switch(Ie){case 1:case 7:if(_e==1)return z.getUint8(W+8,!J);for(Q=_e>4?qe:W+8,oe=[],ie=0;ie<_e;ie++)oe[ie]=z.getUint8(Q+ie);return oe;case 2:return F(z,Q=_e>4?qe:W+8,_e-1);case 3:if(_e==1)return z.getUint16(W+8,!J);for(Q=_e>2?qe:W+8,oe=[],ie=0;ie<_e;ie++)oe[ie]=z.getUint16(Q+2*ie,!J);return oe;case 4:if(_e==1)return z.getUint32(W+8,!J);for(oe=[],ie=0;ie<_e;ie++)oe[ie]=z.getUint32(qe+4*ie,!J);return oe;case 5:if(_e==1)return he=z.getUint32(qe,!J),ye=z.getUint32(qe+4,!J),(K=new Number(he/ye)).numerator=he,K.denominator=ye,K;for(oe=[],ie=0;ie<_e;ie++)he=z.getUint32(qe+8*ie,!J),ye=z.getUint32(qe+4+8*ie,!J),oe[ie]=new Number(he/ye),oe[ie].numerator=he,oe[ie].denominator=ye;return oe;case 9:if(_e==1)return z.getInt32(W+8,!J);for(oe=[],ie=0;ie<_e;ie++)oe[ie]=z.getInt32(qe+4*ie,!J);return oe;case 10:if(_e==1)return z.getInt32(qe,!J)/z.getInt32(qe+4,!J);for(oe=[],ie=0;ie<_e;ie++)oe[ie]=z.getInt32(qe+8*ie,!J)/z.getInt32(qe+4+8*ie,!J);return oe}}function F(z,W,U){var ne="";for(n=W;n<W+U;n++)ne+=String.fromCharCode(z.getUint8(n));return ne}function q(z,W){if(F(z,W,4)!="Exif")return!1;var U,ne,J,Q,oe,K=W+6;if(z.getUint16(K)==18761)U=!1;else{if(z.getUint16(K)!=19789)return!1;U=!0}if(z.getUint16(K+2,!U)!=42)return!1;var ie=z.getUint32(K+4,!U);if(ie<8)return!1;if((ne=N(z,K,K+ie,P,U)).ExifIFDPointer)for(J in Q=N(z,K,K+ne.ExifIFDPointer,S,U)){switch(J){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":Q[J]=I[J][Q[J]];break;case"ExifVersion":case"FlashpixVersion":Q[J]=String.fromCharCode(Q[J][0],Q[J][1],Q[J][2],Q[J][3]);break;case"ComponentsConfiguration":Q[J]=I.Components[Q[J][0]]+I.Components[Q[J][1]]+I.Components[Q[J][2]]+I.Components[Q[J][3]]}ne[J]=Q[J]}if(ne.GPSInfoIFDPointer)for(J in oe=N(z,K,K+ne.GPSInfoIFDPointer,$,U)){switch(J){case"GPSVersionID":oe[J]=oe[J][0]+"."+oe[J][1]+"."+oe[J][2]+"."+oe[J][3]}ne[J]=oe[J]}return ne.thumbnail=function(he,ye,Ie,_e){var qe=function(yi,si,Po){var Ua=yi.getUint16(si,!Po);return yi.getUint32(si+2+12*Ua,!Po)}(he,ye+Ie,_e);if(!qe)return{};if(qe>he.byteLength)return{};var it=N(he,ye,ye+qe,j,_e);if(it.Compression)switch(it.Compression){case 6:if(it.JpegIFOffset&&it.JpegIFByteCount){var rt=ye+it.JpegIFOffset,He=it.JpegIFByteCount;it.blob=new Blob([new Uint8Array(he.buffer,rt,He)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",it.Compression)}else it.PhotometricInterpretation==2&&console.log("Thumbnail image format is RGB, which is not implemented.");return it}(z,K,ie,U),ne}function se(z){var W={};if(z.nodeType==1){if(z.attributes.length>0){W["@attributes"]={};for(var U=0;U<z.attributes.length;U++){var ne=z.attributes.item(U);W["@attributes"][ne.nodeName]=ne.nodeValue}}}else if(z.nodeType==3)return z.nodeValue;if(z.hasChildNodes())for(var J=0;J<z.childNodes.length;J++){var Q=z.childNodes.item(J),oe=Q.nodeName;if(W[oe]==null)W[oe]=se(Q);else{if(W[oe].push==null){var K=W[oe];W[oe]=[],W[oe].push(K)}W[oe].push(se(Q))}}return W}function Z(z){try{var W={};if(z.children.length>0)for(var U=0;U<z.children.length;U++){var ne=z.children.item(U),J=ne.attributes;for(var Q in J){var oe=J[Q],K=oe.nodeName,ie=oe.nodeValue;K!==void 0&&(W[K]=ie)}var he=ne.nodeName;if(W[he]===void 0)W[he]=se(ne);else{if(W[he].push===void 0){var ye=W[he];W[he]=[],W[he].push(ye)}W[he].push(se(ne))}}else W=z.textContent;return W}catch(Ie){console.log(Ie.message)}}b.enableXmp=function(){b.isXmpEnabled=!0},b.disableXmp=function(){b.isXmpEnabled=!1},b.getData=function(z,W){return!((self.Image&&z instanceof self.Image||self.HTMLImageElement&&z instanceof self.HTMLImageElement)&&!z.complete||(D(z)?W&&W.call(z):C(z,W),0))},b.getTag=function(z,W){if(D(z))return z.exifdata[W]},b.getIptcTag=function(z,W){if(D(z))return z.iptcdata[W]},b.getAllTags=function(z){if(!D(z))return{};var W,U=z.exifdata,ne={};for(W in U)U.hasOwnProperty(W)&&(ne[W]=U[W]);return ne},b.getAllIptcTags=function(z){if(!D(z))return{};var W,U=z.iptcdata,ne={};for(W in U)U.hasOwnProperty(W)&&(ne[W]=U[W]);return ne},b.pretty=function(z){if(!D(z))return"";var W,U=z.exifdata,ne="";for(W in U)U.hasOwnProperty(W)&&(typeof U[W]=="object"?U[W]instanceof Number?ne+=W+" : "+U[W]+" ["+U[W].numerator+"/"+U[W].denominator+`]\r
`:ne+=W+" : ["+U[W].length+` values]\r
`:ne+=W+" : "+U[W]+`\r
`);return ne},b.readFromBinaryFile=function(z){return x(z)},(v=function(){return b}.apply(g,[]))===void 0||(f.exports=v)}).call(this)},297:f=>{f.exports=i}},o={};function l(f){if(o[f])return o[f].exports;var g=o[f]={exports:{}};return r[f].call(g.exports,g,g.exports,l),g.exports}l.n=f=>{var g=f&&f.__esModule?()=>f.default:()=>f;return l.d(g,{a:g}),g},l.d=(f,g)=>{for(var v in g)l.o(g,v)&&!l.o(f,v)&&Object.defineProperty(f,v,{enumerable:!0,get:g[v]})},l.o=(f,g)=>Object.prototype.hasOwnProperty.call(f,g),l.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var h={};return(()=>{l.r(h),l.d(h,{default:()=>lf});var f=l(297),g=l.n(f),v=Math.PI/180;const b=typeof rC<"u"?rC:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},S={_global:b,version:"8.3.5",isBrowser:typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]"),isUnminified:/param/.test(function(E){}.toString()),dblClickWindow:400,getAngle:E=>S.angleDeg?E*v:E,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>S.DD.isDragging,isDragReady:()=>!!S.DD.node,document:b.document,_injectGlobal(E){b.Konva=E}},P=E=>{S[E.prototype.getClassName()]=E};S._injectGlobal(S);class ${constructor(c=[1,0,0,1,0,0]){this.dirty=!1,this.m=c&&c.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new $(this.m)}copyInto(c){c.m[0]=this.m[0],c.m[1]=this.m[1],c.m[2]=this.m[2],c.m[3]=this.m[3],c.m[4]=this.m[4],c.m[5]=this.m[5]}point(c){var p=this.m;return{x:p[0]*c.x+p[2]*c.y+p[4],y:p[1]*c.x+p[3]*c.y+p[5]}}translate(c,p){return this.m[4]+=this.m[0]*c+this.m[2]*p,this.m[5]+=this.m[1]*c+this.m[3]*p,this}scale(c,p){return this.m[0]*=c,this.m[1]*=c,this.m[2]*=p,this.m[3]*=p,this}rotate(c){var p=Math.cos(c),y=Math.sin(c),_=this.m[0]*p+this.m[2]*y,T=this.m[1]*p+this.m[3]*y,k=this.m[0]*-y+this.m[2]*p,A=this.m[1]*-y+this.m[3]*p;return this.m[0]=_,this.m[1]=T,this.m[2]=k,this.m[3]=A,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(c,p){var y=this.m[0]+this.m[2]*p,_=this.m[1]+this.m[3]*p,T=this.m[2]+this.m[0]*c,k=this.m[3]+this.m[1]*c;return this.m[0]=y,this.m[1]=_,this.m[2]=T,this.m[3]=k,this}multiply(c){var p=this.m[0]*c.m[0]+this.m[2]*c.m[1],y=this.m[1]*c.m[0]+this.m[3]*c.m[1],_=this.m[0]*c.m[2]+this.m[2]*c.m[3],T=this.m[1]*c.m[2]+this.m[3]*c.m[3],k=this.m[0]*c.m[4]+this.m[2]*c.m[5]+this.m[4],A=this.m[1]*c.m[4]+this.m[3]*c.m[5]+this.m[5];return this.m[0]=p,this.m[1]=y,this.m[2]=_,this.m[3]=T,this.m[4]=k,this.m[5]=A,this}invert(){var c=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),p=this.m[3]*c,y=-this.m[1]*c,_=-this.m[2]*c,T=this.m[0]*c,k=c*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),A=c*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=p,this.m[1]=y,this.m[2]=_,this.m[3]=T,this.m[4]=k,this.m[5]=A,this}getMatrix(){return this.m}setAbsolutePosition(c,p){var y=this.m[0],_=this.m[1],T=this.m[2],k=this.m[3],A=this.m[4],M=(y*(p-this.m[5])-_*(c-A))/(y*k-_*T),B=(c-A-T*M)/y;return this.translate(B,M)}decompose(){var c=this.m[0],p=this.m[1],y=this.m[2],_=this.m[3],T=c*_-p*y;let k={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(c!=0||p!=0){var A=Math.sqrt(c*c+p*p);k.rotation=p>0?Math.acos(c/A):-Math.acos(c/A),k.scaleX=A,k.scaleY=T/A,k.skewX=(c*y+p*_)/T,k.skewY=0}else if(y!=0||_!=0){var M=Math.sqrt(y*y+_*_);k.rotation=Math.PI/2-(_>0?Math.acos(-y/M):-Math.acos(y/M)),k.scaleX=T/M,k.scaleY=M,k.skewX=0,k.skewY=(c*y+p*_)/T}return k.rotation=N._getRotation(k.rotation),k}}var j=Math.PI/180,I=180/Math.PI,D="Konva error: ",C={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},x=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,O=[];const L=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(E){setTimeout(E,60)},N={_isElement:E=>!(!E||E.nodeType!=1),_isFunction:E=>!!(E&&E.constructor&&E.call&&E.apply),_isPlainObject:E=>!!E&&E.constructor===Object,_isArray:E=>Object.prototype.toString.call(E)==="[object Array]",_isNumber:E=>Object.prototype.toString.call(E)==="[object Number]"&&!isNaN(E)&&isFinite(E),_isString:E=>Object.prototype.toString.call(E)==="[object String]",_isBoolean:E=>Object.prototype.toString.call(E)==="[object Boolean]",isObject:E=>E instanceof Object,isValidSelector(E){if(typeof E!="string")return!1;var c=E[0];return c==="#"||c==="."||c===c.toUpperCase()},_sign:E=>E===0||E>0?1:-1,requestAnimFrame(E){O.push(E),O.length===1&&L(function(){const c=O;O=[],c.forEach(function(p){p()})})},createCanvasElement(){var E=document.createElement("canvas");try{E.style=E.style||{}}catch{}return E},createImageElement:()=>document.createElement("img"),_isInDocument(E){for(;E=E.parentNode;)if(E==document)return!0;return!1},_urlToImage(E,c){var p=N.createImageElement();p.onload=function(){c(p)},p.src=E},_rgbToHex:(E,c,p)=>((1<<24)+(E<<16)+(c<<8)+p).toString(16).slice(1),_hexToRgb(E){E=E.replace("#","");var c=parseInt(E,16);return{r:c>>16&255,g:c>>8&255,b:255&c}},getRandomColor(){for(var E=(16777215*Math.random()<<0).toString(16);E.length<6;)E="0"+E;return"#"+E},getRGB(E){var c;return E in C?{r:(c=C[E])[0],g:c[1],b:c[2]}:E[0]==="#"?this._hexToRgb(E.substring(1)):E.substr(0,4)==="rgb("?(c=x.exec(E.replace(/ /g,"")),{r:parseInt(c[1],10),g:parseInt(c[2],10),b:parseInt(c[3],10)}):{r:0,g:0,b:0}},colorToRGBA:E=>(E=E||"black",N._namedColorToRBA(E)||N._hex3ColorToRGBA(E)||N._hex6ColorToRGBA(E)||N._rgbColorToRGBA(E)||N._rgbaColorToRGBA(E)||N._hslColorToRGBA(E)),_namedColorToRBA(E){var c=C[E.toLowerCase()];return c?{r:c[0],g:c[1],b:c[2],a:1}:null},_rgbColorToRGBA(E){if(E.indexOf("rgb(")===0){var c=(E=E.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:c[0],g:c[1],b:c[2],a:1}}},_rgbaColorToRGBA(E){if(E.indexOf("rgba(")===0){var c=(E=E.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((p,y)=>p.slice(-1)==="%"?y===3?parseInt(p)/100:parseInt(p)/100*255:Number(p));return{r:c[0],g:c[1],b:c[2],a:c[3]}}},_hex6ColorToRGBA(E){if(E[0]==="#"&&E.length===7)return{r:parseInt(E.slice(1,3),16),g:parseInt(E.slice(3,5),16),b:parseInt(E.slice(5,7),16),a:1}},_hex3ColorToRGBA(E){if(E[0]==="#"&&E.length===4)return{r:parseInt(E[1]+E[1],16),g:parseInt(E[2]+E[2],16),b:parseInt(E[3]+E[3],16),a:1}},_hslColorToRGBA(E){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(E)){const[c,...p]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(E),y=Number(p[0])/360,_=Number(p[1])/100,T=Number(p[2])/100;let k,A,M;if(_===0)return M=255*T,{r:Math.round(M),g:Math.round(M),b:Math.round(M),a:1};k=T<.5?T*(1+_):T+_-T*_;const B=2*T-k,G=[0,0,0];for(let X=0;X<3;X++)A=y+1/3*-(X-1),A<0&&A++,A>1&&A--,M=6*A<1?B+6*(k-B)*A:2*A<1?k:3*A<2?B+(k-B)*(2/3-A)*6:B,G[X]=255*M;return{r:Math.round(G[0]),g:Math.round(G[1]),b:Math.round(G[2]),a:1}}},haveIntersection:(E,c)=>!(c.x>E.x+E.width||c.x+c.width<E.x||c.y>E.y+E.height||c.y+c.height<E.y),cloneObject(E){var c={};for(var p in E)this._isPlainObject(E[p])?c[p]=this.cloneObject(E[p]):this._isArray(E[p])?c[p]=this.cloneArray(E[p]):c[p]=E[p];return c},cloneArray:E=>E.slice(0),degToRad:E=>E*j,radToDeg:E=>E*I,_degToRad:E=>(N.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),N.degToRad(E)),_radToDeg:E=>(N.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),N.radToDeg(E)),_getRotation:E=>S.angleDeg?N.radToDeg(E):E,_capitalize:E=>E.charAt(0).toUpperCase()+E.slice(1),throw(E){throw new Error(D+E)},error(E){console.error(D+E)},warn(E){S.showWarnings&&console.warn("Konva warning: "+E)},each(E,c){for(var p in E)c(p,E[p])},_inRange:(E,c,p)=>c<=E&&E<p,_getProjectionToSegment(E,c,p,y,_,T){var k,A,M,B=(E-p)*(E-p)+(c-y)*(c-y);if(B==0)k=E,A=c,M=(_-p)*(_-p)+(T-y)*(T-y);else{var G=((_-E)*(p-E)+(T-c)*(y-c))/B;G<0?(k=E,A=c,M=(E-_)*(E-_)+(c-T)*(c-T)):G>1?(k=p,A=y,M=(p-_)*(p-_)+(y-T)*(y-T)):M=((k=E+G*(p-E))-_)*(k-_)+((A=c+G*(y-c))-T)*(A-T)}return[k,A,M]},_getProjectionToLine(E,c,p){var y=N.cloneObject(E),_=Number.MAX_VALUE;return c.forEach(function(T,k){if(p||k!==c.length-1){var A=c[(k+1)%c.length],M=N._getProjectionToSegment(T.x,T.y,A.x,A.y,E.x,E.y),B=M[0],G=M[1],X=M[2];X<_&&(y.x=B,y.y=G,_=X)}}),y},_prepareArrayForTween(E,c,p){var y,_=[],T=[];if(E.length>c.length){var k=c;c=E,E=k}for(y=0;y<E.length;y+=2)_.push({x:E[y],y:E[y+1]});for(y=0;y<c.length;y+=2)T.push({x:c[y],y:c[y+1]});var A=[];return T.forEach(function(M){var B=N._getProjectionToLine(M,_,p);A.push(B.x),A.push(B.y)}),A},_prepareToStringify(E){var c;for(var p in E.visitedByCircularReferenceRemoval=!0,E)if(E.hasOwnProperty(p)&&E[p]&&typeof E[p]=="object"){if(c=Object.getOwnPropertyDescriptor(E,p),E[p].visitedByCircularReferenceRemoval||N._isElement(E[p])){if(!c.configurable)return null;delete E[p]}else if(N._prepareToStringify(E[p])===null){if(!c.configurable)return null;delete E[p]}}return delete E.visitedByCircularReferenceRemoval,E},_assign(E,c){for(var p in c)E[p]=c[p];return E},_getFirstPointerId:E=>E.touches?E.changedTouches[0].identifier:E.pointerId||999};function H(E){return N._isString(E)?'"'+E+'"':Object.prototype.toString.call(E)==="[object Number]"||N._isBoolean(E)?E:Object.prototype.toString.call(E)}function F(){if(S.isUnminified)return function(E,c){return N._isNumber(E)||N.warn(H(E)+' is a not valid value for "'+c+'" attribute. The value should be a number.'),E}}function q(){if(S.isUnminified)return function(E,c){return N._isString(E)||N.warn(H(E)+' is a not valid value for "'+c+'" attribute. The value should be a string.'),E}}function se(){if(S.isUnminified)return function(E,c){const p=N._isString(E),y=Object.prototype.toString.call(E)==="[object CanvasGradient]"||E&&E.addColorStop;return p||y||N.warn(H(E)+' is a not valid value for "'+c+'" attribute. The value should be a string or a native gradient.'),E}}function Z(){if(S.isUnminified)return function(E,c){return E===!0||E===!1||N.warn(H(E)+' is a not valid value for "'+c+'" attribute. The value should be a boolean.'),E}}var z="get",W="set";const U={addGetterSetter(E,c,p,y,_){U.addGetter(E,c,p),U.addSetter(E,c,y,_),U.addOverloadedGetterSetter(E,c)},addGetter(E,c,p){var y=z+N._capitalize(c);E.prototype[y]=E.prototype[y]||function(){var _=this.attrs[c];return _===void 0?p:_}},addSetter(E,c,p,y){var _=W+N._capitalize(c);E.prototype[_]||U.overWriteSetter(E,c,p,y)},overWriteSetter(E,c,p,y){var _=W+N._capitalize(c);E.prototype[_]=function(T){return p&&T!=null&&(T=p.call(this,T,c)),this._setAttr(c,T),y&&y.call(this),this}},addComponentsGetterSetter(E,c,p,y,_){var T,k,A=p.length,M=N._capitalize,B=z+M(c),G=W+M(c);E.prototype[B]=function(){var ae={};for(T=0;T<A;T++)ae[k=p[T]]=this.getAttr(c+M(k));return ae};var X=function(ae){if(S.isUnminified)return function(de,ee){return N.isObject(de)||N.warn(H(de)+' is a not valid value for "'+ee+'" attribute. The value should be an object with properties '+ae),de}}(p);E.prototype[G]=function(ae){var de,ee=this.attrs[c];for(de in y&&(ae=y.call(this,ae)),X&&X.call(this,ae,c),ae)ae.hasOwnProperty(de)&&this._setAttr(c+M(de),ae[de]);return this._fireChangeEvent(c,ee,ae),_&&_.call(this),this},U.addOverloadedGetterSetter(E,c)},addOverloadedGetterSetter(E,c){var p=N._capitalize(c),y=W+p,_=z+p;E.prototype[c]=function(){return arguments.length?(this[y](arguments[0]),this):this[_]()}},addDeprecatedGetterSetter(E,c,p,y){N.error("Adding deprecated "+c);var _=z+N._capitalize(c),T=c+" property is deprecated and will be removed soon. Look at Konva change log for more information.";E.prototype[_]=function(){N.error(T);var k=this.attrs[c];return k===void 0?p:k},U.addSetter(E,c,y,function(){N.error(T)}),U.addOverloadedGetterSetter(E,c)},backCompat(E,c){N.each(c,function(p,y){var _=E.prototype[y],T=z+N._capitalize(p),k=W+N._capitalize(p);function A(){_.apply(this,arguments),N.error('"'+p+'" method is deprecated and will be removed soon. Use ""'+y+'" instead.')}E.prototype[p]=A,E.prototype[T]=A,E.prototype[k]=A})},afterSetFilter(){this._filterUpToDate=!1}};function ne(E){var c,p,y=[],_=E.length,T=N;for(c=0;c<_;c++)p=E[c],T._isNumber(p)?p=Math.round(1e3*p)/1e3:T._isString(p)||(p+=""),y.push(p);return y}var J,Q=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class oe{constructor(c){this.canvas=c,this._context=c._canvas.getContext("2d"),S.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(c){c.fillEnabled()&&this._fill(c)}_fill(c){}strokeShape(c){c.hasStroke()&&this._stroke(c)}_stroke(c){}fillStrokeShape(c){c.attrs.fillAfterStrokeEnabled?(this.strokeShape(c),this.fillShape(c)):(this.fillShape(c),this.strokeShape(c))}getTrace(c,p){var y,_,T,k,A=this.traceArr,M=A.length,B="";for(y=0;y<M;y++)(T=(_=A[y]).method)?(k=_.args,B+=T,c?B+="()":N._isArray(k[0])?B+="(["+k.join(",")+"])":(p&&(k=k.map(G=>typeof G=="number"?Math.floor(G):G)),B+="("+k.join(",")+")")):(B+=_.property,c||(B+="="+_.val)),B+=";";return B}clearTrace(){this.traceArr=[]}_trace(c){var p=this.traceArr;p.push(c),p.length>=100&&p.shift()}reset(){var c=this.getCanvas().getPixelRatio();this.setTransform(1*c,0,0,1*c,0,0)}getCanvas(){return this.canvas}clear(c){var p=this.getCanvas();c?this.clearRect(c.x||0,c.y||0,c.width||0,c.height||0):this.clearRect(0,0,p.getWidth()/p.pixelRatio,p.getHeight()/p.pixelRatio)}_applyLineCap(c){var p=c.getLineCap();p&&this.setAttr("lineCap",p)}_applyOpacity(c){var p=c.getAbsoluteOpacity();p!==1&&this.setAttr("globalAlpha",p)}_applyLineJoin(c){var p=c.attrs.lineJoin;p&&this.setAttr("lineJoin",p)}setAttr(c,p){this._context[c]=p}arc(c,p,y,_,T,k){this._context.arc(c,p,y,_,T,k)}arcTo(c,p,y,_,T){this._context.arcTo(c,p,y,_,T)}beginPath(){this._context.beginPath()}bezierCurveTo(c,p,y,_,T,k){this._context.bezierCurveTo(c,p,y,_,T,k)}clearRect(c,p,y,_){this._context.clearRect(c,p,y,_)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(c,p){var y=arguments;return y.length===2?this._context.createImageData(c,p):y.length===1?this._context.createImageData(c):void 0}createLinearGradient(c,p,y,_){return this._context.createLinearGradient(c,p,y,_)}createPattern(c,p){return this._context.createPattern(c,p)}createRadialGradient(c,p,y,_,T,k){return this._context.createRadialGradient(c,p,y,_,T,k)}drawImage(c,p,y,_,T,k,A,M,B){var G=arguments,X=this._context;G.length===3?X.drawImage(c,p,y):G.length===5?X.drawImage(c,p,y,_,T):G.length===9&&X.drawImage(c,p,y,_,T,k,A,M,B)}ellipse(c,p,y,_,T,k,A,M){this._context.ellipse(c,p,y,_,T,k,A,M)}isPointInPath(c,p){return this._context.isPointInPath(c,p)}fill(c){c?this._context.fill(c):this._context.fill()}fillRect(c,p,y,_){this._context.fillRect(c,p,y,_)}strokeRect(c,p,y,_){this._context.strokeRect(c,p,y,_)}fillText(c,p,y,_){_?this._context.fillText(c,p,y,_):this._context.fillText(c,p,y)}measureText(c){return this._context.measureText(c)}getImageData(c,p,y,_){return this._context.getImageData(c,p,y,_)}lineTo(c,p){this._context.lineTo(c,p)}moveTo(c,p){this._context.moveTo(c,p)}rect(c,p,y,_){this._context.rect(c,p,y,_)}putImageData(c,p,y){this._context.putImageData(c,p,y)}quadraticCurveTo(c,p,y,_){this._context.quadraticCurveTo(c,p,y,_)}restore(){this._context.restore()}rotate(c){this._context.rotate(c)}save(){this._context.save()}scale(c,p){this._context.scale(c,p)}setLineDash(c){this._context.setLineDash?this._context.setLineDash(c):"mozDash"in this._context?this._context.mozDash=c:"webkitLineDash"in this._context&&(this._context.webkitLineDash=c)}getLineDash(){return this._context.getLineDash()}setTransform(c,p,y,_,T,k){this._context.setTransform(c,p,y,_,T,k)}stroke(c){c?this._context.stroke(c):this._context.stroke()}strokeText(c,p,y,_){this._context.strokeText(c,p,y,_)}transform(c,p,y,_,T,k){this._context.transform(c,p,y,_,T,k)}translate(c,p){this._context.translate(c,p)}_enableTrace(){var c,p,y=this,_=Q.length,T=this.setAttr,k=function(A){var M,B=y[A];y[A]=function(){return p=ne(Array.prototype.slice.call(arguments,0)),M=B.apply(y,arguments),y._trace({method:A,args:p}),M}};for(c=0;c<_;c++)k(Q[c]);y.setAttr=function(){T.apply(y,arguments);var A=arguments[0],M=arguments[1];A!=="shadowOffsetX"&&A!=="shadowOffsetY"&&A!=="shadowBlur"||(M/=this.canvas.getPixelRatio()),y._trace({property:A,val:M})}}_applyGlobalCompositeOperation(c){const p=c.attrs.globalCompositeOperation;!p||p==="source-over"||this.setAttr("globalCompositeOperation",p)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(E){Object.defineProperty(oe.prototype,E,{get(){return this._context[E]},set(c){this._context[E]=c}})});class K extends oe{_fillColor(c){var p=c.fill();this.setAttr("fillStyle",p),c._fillFunc(this)}_fillPattern(c){this.setAttr("fillStyle",c._getFillPattern()),c._fillFunc(this)}_fillLinearGradient(c){var p=c._getLinearGradient();p&&(this.setAttr("fillStyle",p),c._fillFunc(this))}_fillRadialGradient(c){var p=c._getRadialGradient();p&&(this.setAttr("fillStyle",p),c._fillFunc(this))}_fill(c){var p=c.fill(),y=c.getFillPriority();if(p&&y==="color")this._fillColor(c);else{var _=c.getFillPatternImage();if(_&&y==="pattern")this._fillPattern(c);else{var T=c.getFillLinearGradientColorStops();if(T&&y==="linear-gradient")this._fillLinearGradient(c);else{var k=c.getFillRadialGradientColorStops();k&&y==="radial-gradient"?this._fillRadialGradient(c):p?this._fillColor(c):_?this._fillPattern(c):T?this._fillLinearGradient(c):k&&this._fillRadialGradient(c)}}}}_strokeLinearGradient(c){var p=c.getStrokeLinearGradientStartPoint(),y=c.getStrokeLinearGradientEndPoint(),_=c.getStrokeLinearGradientColorStops(),T=this.createLinearGradient(p.x,p.y,y.x,y.y);if(_){for(var k=0;k<_.length;k+=2)T.addColorStop(_[k],_[k+1]);this.setAttr("strokeStyle",T)}}_stroke(c){var p=c.dash(),y=c.getStrokeScaleEnabled();if(c.hasStroke()){if(!y){this.save();var _=this.getCanvas().getPixelRatio();this.setTransform(_,0,0,_,0,0)}this._applyLineCap(c),p&&c.dashEnabled()&&(this.setLineDash(p),this.setAttr("lineDashOffset",c.dashOffset())),this.setAttr("lineWidth",c.strokeWidth()),c.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),c.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(c):this.setAttr("strokeStyle",c.stroke()),c._strokeFunc(this),y||this.restore()}}_applyShadow(c){var p,y,_,T=(p=c.getShadowRGBA())!==null&&p!==void 0?p:"black",k=(y=c.getShadowBlur())!==null&&y!==void 0?y:5,A=(_=c.getShadowOffset())!==null&&_!==void 0?_:{x:0,y:0},M=c.getAbsoluteScale(),B=this.canvas.getPixelRatio(),G=M.x*B,X=M.y*B;this.setAttr("shadowColor",T),this.setAttr("shadowBlur",k*Math.min(Math.abs(G),Math.abs(X))),this.setAttr("shadowOffsetX",A.x*G),this.setAttr("shadowOffsetY",A.y*X)}}class ie extends oe{_fill(c){this.save(),this.setAttr("fillStyle",c.colorKey),c._fillFuncHit(this),this.restore()}strokeShape(c){c.hasHitStroke()&&this._stroke(c)}_stroke(c){if(c.hasHitStroke()){var p=c.getStrokeScaleEnabled();if(!p){this.save();var y=this.getCanvas().getPixelRatio();this.setTransform(y,0,0,y,0,0)}this._applyLineCap(c);var _=c.hitStrokeWidth(),T=_==="auto"?c.strokeWidth():_;this.setAttr("lineWidth",T),this.setAttr("strokeStyle",c.colorKey),c._strokeFuncHit(this),p||this.restore()}}}class he{constructor(c){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var p=(c||{}).pixelRatio||S.pixelRatio||function(){if(J)return J;var y=N.createCanvasElement().getContext("2d");return J=(S._global.devicePixelRatio||1)/(y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1)}();this.pixelRatio=p,this._canvas=N.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(c){var p=this.pixelRatio;this.pixelRatio=c,this.setSize(this.getWidth()/p,this.getHeight()/p)}setWidth(c){this.width=this._canvas.width=c*this.pixelRatio,this._canvas.style.width=c+"px";var p=this.pixelRatio;this.getContext()._context.scale(p,p)}setHeight(c){this.height=this._canvas.height=c*this.pixelRatio,this._canvas.style.height=c+"px";var p=this.pixelRatio;this.getContext()._context.scale(p,p)}getWidth(){return this.width}getHeight(){return this.height}setSize(c,p){this.setWidth(c||0),this.setHeight(p||0)}toDataURL(c,p){try{return this._canvas.toDataURL(c,p)}catch{try{return this._canvas.toDataURL()}catch(_){return N.error("Unable to get data URL. "+_.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}U.addGetterSetter(he,"pixelRatio",void 0,F());class ye extends he{constructor(c={width:0,height:0}){super(c),this.context=new K(this),this.setSize(c.width,c.height)}}class Ie extends he{constructor(c={width:0,height:0}){super(c),this.hitCanvas=!0,this.context=new ie(this),this.setSize(c.width,c.height)}}const _e={get isDragging(){var E=!1;return _e._dragElements.forEach(c=>{c.dragStatus==="dragging"&&(E=!0)}),E},justDragged:!1,get node(){var E;return _e._dragElements.forEach(c=>{E=c.node}),E},_dragElements:new Map,_drag(E){const c=[];_e._dragElements.forEach((p,y)=>{const{node:_}=p,T=_.getStage();T.setPointersPositions(E),p.pointerId===void 0&&(p.pointerId=N._getFirstPointerId(E));const k=T._changedPointerPositions.find(M=>M.id===p.pointerId);if(k){if(p.dragStatus!=="dragging"){var A=_.dragDistance();if(Math.max(Math.abs(k.x-p.startPointerPos.x),Math.abs(k.y-p.startPointerPos.y))<A||(_.startDrag({evt:E}),!_.isDragging()))return}_._setDragPosition(E,p),c.push(_)}}),c.forEach(p=>{p.fire("dragmove",{type:"dragmove",target:p,evt:E},!0)})},_endDragBefore(E){_e._dragElements.forEach(c=>{const{node:p}=c,y=p.getStage();if(E&&y.setPointersPositions(E),!y._changedPointerPositions.find(T=>T.id===c.pointerId))return;c.dragStatus!=="dragging"&&c.dragStatus!=="stopped"||(_e.justDragged=!0,S._mouseListenClick=!1,S._touchListenClick=!1,S._pointerListenClick=!1,c.dragStatus="stopped");const _=c.node.getLayer()||c.node instanceof S.Stage&&c.node;_&&_.batchDraw()})},_endDragAfter(E){_e._dragElements.forEach((c,p)=>{c.dragStatus==="stopped"&&c.node.fire("dragend",{type:"dragend",target:c.node,evt:E},!0),c.dragStatus!=="dragging"&&_e._dragElements.delete(p)})}};S.isBrowser&&(window.addEventListener("mouseup",_e._endDragBefore,!0),window.addEventListener("touchend",_e._endDragBefore,!0),window.addEventListener("mousemove",_e._drag),window.addEventListener("touchmove",_e._drag),window.addEventListener("mouseup",_e._endDragAfter,!1),window.addEventListener("touchend",_e._endDragAfter,!1));var qe="absoluteOpacity",it="allEventListeners",rt="absoluteTransform",He="absoluteScale",yi="canvas",si="listening",Po="mouseenter",Ua="mouseleave",Hu="Shape",Do=" ",Zd="stage",Nt="transform",Wu="visible",Uv=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Do);let Fv=1;class xe{constructor(c){this._id=Fv++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(c),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(c){c!==Nt&&c!==rt||!this._cache.get(c)?c?this._cache.delete(c):this._cache.clear():this._cache.get(c).dirty=!0}_getCache(c,p){var y=this._cache.get(c);return(y===void 0||(c===Nt||c===rt)&&y.dirty===!0)&&(y=p.call(this),this._cache.set(c,y)),y}_calculate(c,p,y){if(!this._attachedDepsListeners.get(c)){const _=p.map(T=>T+"Change.konva").join(Do);this.on(_,()=>{this._clearCache(c)}),this._attachedDepsListeners.set(c,!0)}return this._getCache(c,y)}_getCanvasCache(){return this._cache.get(yi)}_clearSelfAndDescendantCache(c){this._clearCache(c),c===rt&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(yi),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(c){var p=c||{},y={};p.x!==void 0&&p.y!==void 0&&p.width!==void 0&&p.height!==void 0||(y=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var _=Math.ceil(p.width||y.width),T=Math.ceil(p.height||y.height),k=p.pixelRatio,A=p.x===void 0?Math.floor(y.x):p.x,M=p.y===void 0?Math.floor(y.y):p.y,B=p.offset||0,G=p.drawBorder||!1,X=p.hitCanvasPixelRatio||1;if(_&&T){A-=B,M-=B;var ae=new ye({pixelRatio:k,width:_+=2*B+1,height:T+=2*B+1}),de=new ye({pixelRatio:k,width:0,height:0}),ee=new Ie({pixelRatio:X,width:_,height:T}),we=ae.getContext(),st=ee.getContext();return ee.isCache=!0,ae.isCache=!0,this._cache.delete(yi),this._filterUpToDate=!1,p.imageSmoothingEnabled===!1&&(ae.getContext()._context.imageSmoothingEnabled=!1,de.getContext()._context.imageSmoothingEnabled=!1),we.save(),st.save(),we.translate(-A,-M),st.translate(-A,-M),this._isUnderCache=!0,this._clearSelfAndDescendantCache(qe),this._clearSelfAndDescendantCache(He),this.drawScene(ae,this),this.drawHit(ee,this),this._isUnderCache=!1,we.restore(),st.restore(),G&&(we.save(),we.beginPath(),we.rect(0,0,_,T),we.closePath(),we.setAttr("strokeStyle","red"),we.setAttr("lineWidth",5),we.stroke(),we.restore()),this._cache.set(yi,{scene:ae,filter:de,hit:ee,x:A,y:M}),this._requestDraw(),this}N.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(yi)}getClientRect(c){throw new Error('abstract "getClientRect" method call')}_transformedRect(c,p){var y,_,T,k,A=[{x:c.x,y:c.y},{x:c.x+c.width,y:c.y},{x:c.x+c.width,y:c.y+c.height},{x:c.x,y:c.y+c.height}],M=this.getAbsoluteTransform(p);return A.forEach(function(B){var G=M.point(B);y===void 0&&(y=T=G.x,_=k=G.y),y=Math.min(y,G.x),_=Math.min(_,G.y),T=Math.max(T,G.x),k=Math.max(k,G.y)}),{x:y,y:_,width:T-y,height:k-_}}_drawCachedSceneCanvas(c){c.save(),c._applyOpacity(this),c._applyGlobalCompositeOperation(this);const p=this._getCanvasCache();c.translate(p.x,p.y);var y=this._getCachedSceneCanvas(),_=y.pixelRatio;c.drawImage(y._canvas,0,0,y.width/_,y.height/_),c.restore()}_drawCachedHitCanvas(c){var p=this._getCanvasCache(),y=p.hit;c.save(),c.translate(p.x,p.y),c.drawImage(y._canvas,0,0,y.width/y.pixelRatio,y.height/y.pixelRatio),c.restore()}_getCachedSceneCanvas(){var c,p,y,_,T=this.filters(),k=this._getCanvasCache(),A=k.scene,M=k.filter,B=M.getContext();if(T){if(!this._filterUpToDate){var G=A.pixelRatio;M.setSize(A.width/A.pixelRatio,A.height/A.pixelRatio);try{for(c=T.length,B.clear(),B.drawImage(A._canvas,0,0,A.getWidth()/G,A.getHeight()/G),p=B.getImageData(0,0,M.getWidth(),M.getHeight()),y=0;y<c;y++)typeof(_=T[y])=="function"?(_.call(this,p),B.putImageData(p,0,0)):N.error("Filter should be type of function, but got "+typeof _+" instead. Please check correct filters")}catch(X){N.error("Unable to apply filter. "+X.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return M}return A}on(c,p){if(this._cache&&this._cache.delete(it),arguments.length===3)return this._delegate.apply(this,arguments);var y,_,T,k,A=c.split(Do),M=A.length;for(y=0;y<M;y++)T=(_=A[y].split("."))[0],k=_[1]||"",this.eventListeners[T]||(this.eventListeners[T]=[]),this.eventListeners[T].push({name:k,handler:p});return this}off(c,p){var y,_,T,k,A,M=(c||"").split(Do),B=M.length;if(this._cache&&this._cache.delete(it),!c)for(_ in this.eventListeners)this._off(_);for(y=0;y<B;y++)if(k=(T=M[y].split("."))[0],A=T[1],k)this.eventListeners[k]&&this._off(k,A,p);else for(_ in this.eventListeners)this._off(_,A,p);return this}dispatchEvent(c){var p={target:this,type:c.type,evt:c};return this.fire(c.type,p),this}addEventListener(c,p){return this.on(c,function(y){p.call(this,y.evt)}),this}removeEventListener(c){return this.off(c),this}_delegate(c,p,y){var _=this;this.on(c,function(T){for(var k=T.target.findAncestors(p,!0,_),A=0;A<k.length;A++)(T=N.cloneObject(T)).currentTarget=k[A],y.call(k[A],T)})}remove(){return this.isDragging()&&this.stopDrag(),_e._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(rt),this._clearSelfAndDescendantCache(qe),this._clearSelfAndDescendantCache(He),this._clearSelfAndDescendantCache(Zd),this._clearSelfAndDescendantCache(Wu),this._clearSelfAndDescendantCache(si)}_remove(){this._clearCaches();var c=this.getParent();c&&c.children&&(c.children.splice(this.index,1),c._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(c){var p="get"+N._capitalize(c);return N._isFunction(this[p])?this[p]():this.attrs[c]}getAncestors(){for(var c=this.getParent(),p=[];c;)p.push(c),c=c.getParent();return p}getAttrs(){return this.attrs||{}}setAttrs(c){return this._batchTransformChanges(()=>{var p,y;if(!c)return this;for(p in c)p!=="children"&&(y="set"+N._capitalize(p),N._isFunction(this[y])?this[y](c[p]):this._setAttr(p,c[p]))}),this}isListening(){return this._getCache(si,this._isListening)}_isListening(c){if(!this.listening())return!1;const p=this.getParent();return!p||p===c||this===c||p._isListening(c)}isVisible(){return this._getCache(Wu,this._isVisible)}_isVisible(c){if(!this.visible())return!1;const p=this.getParent();return!p||p===c||this===c||p._isVisible(c)}shouldDrawHit(c,p=!1){if(c)return this._isVisible(c)&&this._isListening(c);var y=this.getLayer(),_=!1;_e._dragElements.forEach(k=>{k.dragStatus==="dragging"&&(k.node.nodeType==="Stage"||k.node.getLayer()===y)&&(_=!0)});var T=!p&&!S.hitOnDragEnabled&&_;return this.isListening()&&this.isVisible()&&!T}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var c,p,y,_,T=this.getDepth(),k=this,A=0;return k.nodeType!=="Stage"&&function M(B){for(c=[],p=B.length,y=0;y<p;y++)_=B[y],A++,_.nodeType!==Hu&&(c=c.concat(_.getChildren().slice())),_._id===k._id&&(y=p);c.length>0&&c[0].getDepth()<=T&&M(c)}(k.getStage().getChildren()),A}getDepth(){for(var c=0,p=this.parent;p;)c++,p=p.parent;return c}_batchTransformChanges(c){this._batchingTransformChange=!0,c(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Nt),this._clearSelfAndDescendantCache(rt)),this._needClearTransformCache=!1}setPosition(c){return this._batchTransformChanges(()=>{this.x(c.x),this.y(c.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var c=this.getStage().getPointerPosition();if(!c)return null;var p=this.getAbsoluteTransform().copy();return p.invert(),p.point(c)}getAbsolutePosition(c){let p=!1,y=this.parent;for(;y;){if(y.isCached()){p=!0;break}y=y.parent}p&&!c&&(c=!0);var _=this.getAbsoluteTransform(c).getMatrix(),T=new $,k=this.offset();return T.m=_.slice(),T.translate(k.x,k.y),T.getTranslation()}setAbsolutePosition(c){var p=this._clearTransform();this.attrs.x=p.x,this.attrs.y=p.y,delete p.x,delete p.y,this._clearCache(Nt);var y=this._getAbsoluteTransform().copy();return y.invert(),y.translate(c.x,c.y),c={x:this.attrs.x+y.getTranslation().x,y:this.attrs.y+y.getTranslation().y},this._setTransform(p),this.setPosition({x:c.x,y:c.y}),this._clearCache(Nt),this._clearSelfAndDescendantCache(rt),this}_setTransform(c){var p;for(p in c)this.attrs[p]=c[p]}_clearTransform(){var c={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,c}move(c){var p=c.x,y=c.y,_=this.x(),T=this.y();return p!==void 0&&(_+=p),y!==void 0&&(T+=y),this.setPosition({x:_,y:T}),this}_eachAncestorReverse(c,p){var y,_,T=[],k=this.getParent();if(!p||p._id!==this._id){for(T.unshift(this);k&&(!p||k._id!==p._id);)T.unshift(k),k=k.parent;for(y=T.length,_=0;_<y;_++)c(T[_])}}rotate(c){return this.rotation(this.rotation()+c),this}moveToTop(){if(!this.parent)return N.warn("Node has no parent. moveToTop function is ignored."),!1;var c=this.index;return c<this.parent.getChildren().length-1&&(this.parent.children.splice(c,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return N.warn("Node has no parent. moveUp function is ignored."),!1;var c=this.index;return c<this.parent.getChildren().length-1&&(this.parent.children.splice(c,1),this.parent.children.splice(c+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return N.warn("Node has no parent. moveDown function is ignored."),!1;var c=this.index;return c>0&&(this.parent.children.splice(c,1),this.parent.children.splice(c-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return N.warn("Node has no parent. moveToBottom function is ignored."),!1;var c=this.index;return c>0&&(this.parent.children.splice(c,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(c){if(!this.parent)return N.warn("Node has no parent. zIndex parameter is ignored."),this;(c<0||c>=this.parent.children.length)&&N.warn("Unexpected value "+c+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var p=this.index;return this.parent.children.splice(p,1),this.parent.children.splice(c,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(qe,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var c=this.opacity(),p=this.getParent();return p&&!p._isUnderCache&&(c*=p.getAbsoluteOpacity()),c}moveTo(c){return this.getParent()!==c&&(this._remove(),c.add(this)),this}toObject(){var c,p,y,_,T={},k=this.getAttrs();for(c in T.attrs={},k)p=k[c],N.isObject(p)&&!N._isPlainObject(p)&&!N._isArray(p)||(y=typeof this[c]=="function"&&this[c],delete k[c],_=y?y.call(this):null,k[c]=p,_!==p&&(T.attrs[c]=p));return T.className=this.getClassName(),N._prepareToStringify(T)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(c,p,y){var _=[];p&&this._isMatch(c)&&_.push(this);for(var T=this.parent;T;){if(T===y)return _;T._isMatch(c)&&_.push(T),T=T.parent}return _}isAncestorOf(c){return!1}findAncestor(c,p,y){return this.findAncestors(c,p,y)[0]}_isMatch(c){if(!c)return!1;if(typeof c=="function")return c(this);var p,y,_=c.replace(/ /g,"").split(","),T=_.length;for(p=0;p<T;p++)if(y=_[p],N.isValidSelector(y)||(N.warn('Selector "'+y+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),N.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),N.warn("Konva is awesome, right?")),y.charAt(0)==="#"){if(this.id()===y.slice(1))return!0}else if(y.charAt(0)==="."){if(this.hasName(y.slice(1)))return!0}else if(this.className===y||this.nodeType===y)return!0;return!1}getLayer(){var c=this.getParent();return c?c.getLayer():null}getStage(){return this._getCache(Zd,this._getStage)}_getStage(){var c=this.getParent();return c?c.getStage():void 0}fire(c,p={},y){return p.target=p.target||this,y?this._fireAndBubble(c,p):this._fire(c,p),this}getAbsoluteTransform(c){return c?this._getAbsoluteTransform(c):this._getCache(rt,this._getAbsoluteTransform)}_getAbsoluteTransform(c){var p;if(c)return p=new $,this._eachAncestorReverse(function(_){var T=_.transformsEnabled();T==="all"?p.multiply(_.getTransform()):T==="position"&&p.translate(_.x()-_.offsetX(),_.y()-_.offsetY())},c),p;p=this._cache.get(rt)||new $,this.parent?this.parent.getAbsoluteTransform().copyInto(p):p.reset();var y=this.transformsEnabled();if(y==="all")p.multiply(this.getTransform());else if(y==="position"){const _=this.attrs.x||0,T=this.attrs.y||0,k=this.attrs.offsetX||0,A=this.attrs.offsetY||0;p.translate(_-k,T-A)}return p.dirty=!1,p}getAbsoluteScale(c){for(var p=this;p;)p._isUnderCache&&(c=p),p=p.getParent();const y=this.getAbsoluteTransform(c).decompose();return{x:y.scaleX,y:y.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Nt,this._getTransform)}_getTransform(){var c,p,y=this._cache.get(Nt)||new $;y.reset();var _=this.x(),T=this.y(),k=S.getAngle(this.rotation()),A=(c=this.attrs.scaleX)!==null&&c!==void 0?c:1,M=(p=this.attrs.scaleY)!==null&&p!==void 0?p:1,B=this.attrs.skewX||0,G=this.attrs.skewY||0,X=this.attrs.offsetX||0,ae=this.attrs.offsetY||0;return _===0&&T===0||y.translate(_,T),k!==0&&y.rotate(k),B===0&&G===0||y.skew(B,G),A===1&&M===1||y.scale(A,M),X===0&&ae===0||y.translate(-1*X,-1*ae),y.dirty=!1,y}clone(c){var p,y,_,T,k,A=N.cloneObject(this.attrs);for(p in c)A[p]=c[p];var M=new this.constructor(A);for(p in this.eventListeners)for(_=(y=this.eventListeners[p]).length,T=0;T<_;T++)(k=y[T]).name.indexOf("konva")<0&&(M.eventListeners[p]||(M.eventListeners[p]=[]),M.eventListeners[p].push(k));return M}_toKonvaCanvas(c){c=c||{};var p=this.getClientRect(),y=this.getStage(),_=c.x!==void 0?c.x:Math.floor(p.x),T=c.y!==void 0?c.y:Math.floor(p.y),k=c.pixelRatio||1,A=new ye({width:c.width||Math.ceil(p.width)||(y?y.width():0),height:c.height||Math.ceil(p.height)||(y?y.height():0),pixelRatio:k}),M=A.getContext();return M.save(),(_||T)&&M.translate(-1*_,-1*T),this.drawScene(A),M.restore(),A}toCanvas(c){return this._toKonvaCanvas(c)._canvas}toDataURL(c){var p=(c=c||{}).mimeType||null,y=c.quality||null,_=this._toKonvaCanvas(c).toDataURL(p,y);return c.callback&&c.callback(_),_}toImage(c){if(!c||!c.callback)throw"callback required for toImage method config argument";var p=c.callback;delete c.callback,N._urlToImage(this.toDataURL(c),function(y){p(y)})}setSize(c){return this.width(c.width),this.height(c.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():S.dragDistance}_off(c,p,y){var _,T,k,A=this.eventListeners[c];for(_=0;_<A.length;_++)if(T=A[_].name,k=A[_].handler,!(T==="konva"&&p!=="konva"||p&&T!==p||y&&y!==k)){if(A.splice(_,1),A.length===0){delete this.eventListeners[c];break}_--}}_fireChangeEvent(c,p,y){this._fire(c+"Change",{oldVal:p,newVal:y})}addName(c){if(!this.hasName(c)){var p=this.name(),y=p?p+" "+c:c;this.name(y)}return this}hasName(c){if(!c)return!1;const p=this.name();return!!p&&(p||"").split(/\s/g).indexOf(c)!==-1}removeName(c){var p=(this.name()||"").split(/\s/g),y=p.indexOf(c);return y!==-1&&(p.splice(y,1),this.name(p.join(" "))),this}setAttr(c,p){var y=this["set"+N._capitalize(c)];return N._isFunction(y)?y.call(this,p):this._setAttr(c,p),this}_requestDraw(){if(S.autoDrawEnabled){const c=this.getLayer()||this.getStage();c==null||c.batchDraw()}}_setAttr(c,p){var y=this.attrs[c];(y!==p||N.isObject(p))&&(p==null?delete this.attrs[c]:this.attrs[c]=p,this._shouldFireChangeEvents&&this._fireChangeEvent(c,y,p),this._requestDraw())}_setComponentAttr(c,p,y){var _;y!==void 0&&((_=this.attrs[c])||(this.attrs[c]=this.getAttr(c)),this.attrs[c][p]=y,this._fireChangeEvent(c,_,y))}_fireAndBubble(c,p,y){if(p&&this.nodeType===Hu&&(p.target=this),c!==Po&&c!==Ua||!(y&&(this===y||this.isAncestorOf&&this.isAncestorOf(y))||this.nodeType==="Stage"&&!y)){this._fire(c,p);var _=(c===Po||c===Ua)&&y&&y.isAncestorOf&&y.isAncestorOf(this)&&!y.isAncestorOf(this.parent);(p&&!p.cancelBubble||!p)&&this.parent&&this.parent.isListening()&&!_&&(y&&y.parent?this._fireAndBubble.call(this.parent,c,p,y):this._fireAndBubble.call(this.parent,c,p))}}_getProtoListeners(c){let p=this._cache.get(it);if(!p){p={};let _=Object.getPrototypeOf(this);for(;_;)if(_.eventListeners){for(var y in _.eventListeners){const T=_.eventListeners[y],k=p[y]||[];p[y]=T.concat(k)}_=Object.getPrototypeOf(_)}else _=Object.getPrototypeOf(_);this._cache.set(it,p)}return p[c]}_fire(c,p){(p=p||{}).currentTarget=this,p.type=c;const y=this._getProtoListeners(c);if(y)for(var _=0;_<y.length;_++)y[_].handler.call(this,p);const T=this.eventListeners[c];if(T)for(_=0;_<T.length;_++)T[_].handler.call(this,p)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(c){var p=c?c.pointerId:void 0,y=this.getStage(),_=this.getAbsolutePosition(),T=y._getPointerById(p)||y._changedPointerPositions[0]||_;_e._dragElements.set(this._id,{node:this,startPointerPos:T,offset:{x:T.x-_.x,y:T.y-_.y},dragStatus:"ready",pointerId:p})}startDrag(c,p=!0){_e._dragElements.has(this._id)||this._createDragElement(c),_e._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:c&&c.evt},p)}_setDragPosition(c,p){const y=this.getStage()._getPointerById(p.pointerId);if(y){var _={x:y.x-p.offset.x,y:y.y-p.offset.y},T=this.dragBoundFunc();if(T!==void 0){const k=T.call(this,_,c);k?_=k:N.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===_.x&&this._lastPos.y===_.y||(this.setAbsolutePosition(_),this._requestDraw()),this._lastPos=_}}stopDrag(c){const p=_e._dragElements.get(this._id);p&&(p.dragStatus="stopped"),_e._endDragBefore(c),_e._endDragAfter(c)}setDraggable(c){this._setAttr("draggable",c),this._dragChange()}isDragging(){const c=_e._dragElements.get(this._id);return!!c&&c.dragStatus==="dragging"}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(c){if((c.evt.button===void 0||S.dragButtons.indexOf(c.evt.button)>=0)&&!this.isDragging()){var p=!1;_e._dragElements.forEach(y=>{this.isAncestorOf(y.node)&&(p=!0)}),p||this._createDragElement(c)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const c=_e._dragElements.get(this._id),p=c&&c.dragStatus==="dragging",y=c&&c.dragStatus==="ready";p?this.stopDrag():y&&_e._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(c={x:0,y:0}){const p=this.getStage();if(!p)return!1;const y={x:-c.x,y:-c.y,width:p.width()+2*c.x,height:p.height()+2*c.y};return N.haveIntersection(y,this.getClientRect())}static create(c,p){return N._isString(c)&&(c=JSON.parse(c)),this._createNode(c,p)}static _createNode(c,p){var y,_,T,k=xe.prototype.getClassName.call(c),A=c.children;if(p&&(c.attrs.container=p),S[k]||(N.warn('Can not find a node with class name "'+k+'". Fallback to "Shape".'),k="Shape"),y=new S[k](c.attrs),A)for(_=A.length,T=0;T<_;T++)y.add(xe._createNode(A[T]));return y}}xe.prototype.nodeType="Node",xe.prototype._attrsAffectingSize=[],xe.prototype.eventListeners={},xe.prototype.on.call(xe.prototype,Uv,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(Nt),this._clearSelfAndDescendantCache(rt))}),xe.prototype.on.call(xe.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Wu)}),xe.prototype.on.call(xe.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(si)}),xe.prototype.on.call(xe.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(qe)});const ut=U.addGetterSetter;ut(xe,"zIndex"),ut(xe,"absolutePosition"),ut(xe,"position"),ut(xe,"x",0,F()),ut(xe,"y",0,F()),ut(xe,"globalCompositeOperation","source-over",q()),ut(xe,"opacity",1,F()),ut(xe,"name","",q()),ut(xe,"id","",q()),ut(xe,"rotation",0,F()),U.addComponentsGetterSetter(xe,"scale",["x","y"]),ut(xe,"scaleX",1,F()),ut(xe,"scaleY",1,F()),U.addComponentsGetterSetter(xe,"skew",["x","y"]),ut(xe,"skewX",0,F()),ut(xe,"skewY",0,F()),U.addComponentsGetterSetter(xe,"offset",["x","y"]),ut(xe,"offsetX",0,F()),ut(xe,"offsetY",0,F()),ut(xe,"dragDistance",null,F()),ut(xe,"width",0,F()),ut(xe,"height",0,F()),ut(xe,"listening",!0,Z()),ut(xe,"preventDefault",!0,Z()),ut(xe,"filters",null,function(E){return this._filterUpToDate=!1,E}),ut(xe,"visible",!0,Z()),ut(xe,"transformsEnabled","all",q()),ut(xe,"size"),ut(xe,"dragBoundFunc"),ut(xe,"draggable",!1,Z()),U.backCompat(xe,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class qn extends xe{constructor(){super(...arguments),this.children=[]}getChildren(c){if(!c)return this.children||[];const p=this.children||[];var y=[];return p.forEach(function(_){c(_)&&y.push(_)}),y}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(c=>{c.parent=null,c.index=0,c.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(c=>{c.parent=null,c.index=0,c.destroy()}),this.children=[],this._requestDraw(),this}add(...c){if(arguments.length>1){for(var p=0;p<arguments.length;p++)this.add(arguments[p]);return this}var y=c[0];return y.getParent()?(y.moveTo(this),this):(this._validateAdd(y),y.index=this.getChildren().length,y.parent=this,y._clearCaches(),this.getChildren().push(y),this._fire("add",{child:y}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(c){return this._generalFind(c,!1)}findOne(c){var p=this._generalFind(c,!0);return p.length>0?p[0]:void 0}_generalFind(c,p){var y=[];return this._descendants(_=>{const T=_._isMatch(c);return T&&y.push(_),!(!T||!p)}),y}_descendants(c){let p=!1;const y=this.getChildren();for(const _ of y)if(p=c(_),p||_.hasChildren()&&(p=_._descendants(c),p))return!0;return!1}toObject(){var c=xe.prototype.toObject.call(this);return c.children=[],this.getChildren().forEach(p=>{c.children.push(p.toObject())}),c}isAncestorOf(c){for(var p=c.getParent();p;){if(p._id===this._id)return!0;p=p.getParent()}return!1}clone(c){var p=xe.prototype.clone.call(this,c);return this.getChildren().forEach(function(y){p.add(y.clone())}),p}getAllIntersections(c){var p=[];return this.find("Shape").forEach(function(y){y.isVisible()&&y.intersects(c)&&p.push(y)}),p}_clearSelfAndDescendantCache(c){var p;super._clearSelfAndDescendantCache(c),this.isCached()||(p=this.children)===null||p===void 0||p.forEach(function(y){y._clearSelfAndDescendantCache(c)})}_setChildrenIndices(){var c;(c=this.children)===null||c===void 0||c.forEach(function(p,y){p.index=y}),this._requestDraw()}drawScene(c,p){var y=this.getLayer(),_=c||y&&y.getCanvas(),T=_&&_.getContext(),k=this._getCanvasCache(),A=k&&k.scene,M=_&&_.isCache;if(!this.isVisible()&&!M)return this;if(A){T.save();var B=this.getAbsoluteTransform(p).getMatrix();T.transform(B[0],B[1],B[2],B[3],B[4],B[5]),this._drawCachedSceneCanvas(T),T.restore()}else this._drawChildren("drawScene",_,p);return this}drawHit(c,p){if(!this.shouldDrawHit(p))return this;var y=this.getLayer(),_=c||y&&y.hitCanvas,T=_&&_.getContext(),k=this._getCanvasCache();if(k&&k.hit){T.save();var A=this.getAbsoluteTransform(p).getMatrix();T.transform(A[0],A[1],A[2],A[3],A[4],A[5]),this._drawCachedHitCanvas(T),T.restore()}else this._drawChildren("drawHit",_,p);return this}_drawChildren(c,p,y){var _,T=p&&p.getContext(),k=this.clipWidth(),A=this.clipHeight(),M=this.clipFunc(),B=k&&A||M;const G=y===this;if(B){T.save();var X=this.getAbsoluteTransform(y),ae=X.getMatrix();if(T.transform(ae[0],ae[1],ae[2],ae[3],ae[4],ae[5]),T.beginPath(),M)M.call(this,T,this);else{var de=this.clipX(),ee=this.clipY();T.rect(de,ee,k,A)}T.clip(),ae=X.copy().invert().getMatrix(),T.transform(ae[0],ae[1],ae[2],ae[3],ae[4],ae[5])}var we=!G&&this.globalCompositeOperation()!=="source-over"&&c==="drawScene";we&&(T.save(),T._applyGlobalCompositeOperation(this)),(_=this.children)===null||_===void 0||_.forEach(function(st){st[c](p,y)}),we&&T.restore(),B&&T.restore()}getClientRect(c){var p,y,_,T,k,A,M=(c=c||{}).skipTransform,B=c.relativeTo,G=this;(p=this.children)===null||p===void 0||p.forEach(function(ee){if(ee.visible()){var we=ee.getClientRect({relativeTo:G,skipShadow:c.skipShadow,skipStroke:c.skipStroke});we.width===0&&we.height===0||(y===void 0?(y=we.x,_=we.y,T=we.x+we.width,k=we.y+we.height):(y=Math.min(y,we.x),_=Math.min(_,we.y),T=Math.max(T,we.x+we.width),k=Math.max(k,we.y+we.height)))}});for(var X=this.find("Shape"),ae=!1,de=0;de<X.length;de++)if(X[de]._isVisible(this)){ae=!0;break}return A=ae&&y!==void 0?{x:y,y:_,width:T-y,height:k-_}:{x:0,y:0,width:0,height:0},M?A:this._transformedRect(A,B)}}U.addComponentsGetterSetter(qn,"clip",["x","y","width","height"]),U.addGetterSetter(qn,"clipX",void 0,F()),U.addGetterSetter(qn,"clipY",void 0,F()),U.addGetterSetter(qn,"clipWidth",void 0,F()),U.addGetterSetter(qn,"clipHeight",void 0,F()),U.addGetterSetter(qn,"clipFunc");const No=new Map,Fa=S._global.PointerEvent!==void 0;function gr(E){return No.get(E)}function ja(E){return{evt:E,pointerId:E.pointerId}}function Ba(E,c){return No.get(E)===c}function qu(E,c){mr(E),c.getStage()&&(No.set(E,c),Fa&&c._fire("gotpointercapture",ja(new PointerEvent("gotpointercapture"))))}function mr(E,c){const p=No.get(E);if(!p)return;const y=p.getStage();y&&y.content,No.delete(E),Fa&&p._fire("lostpointercapture",ja(new PointerEvent("lostpointercapture")))}var Hr="mouseleave",vr="mouseover",Ku="mouseenter",ef="mousemove",tf="mousedown",Oo="mouseup",yr="pointermove",wi="pointerdown",xs="pointerup",Lo="pointercancel",Mo="pointerout",Uo="pointerleave",Wr="pointerover",$a="pointerenter",Bi="contextmenu",Va="touchstart",Ga="touchend",za="touchmove",Ha="touchcancel",qr="wheel",Fo=[[Ku,"_pointerenter"],[tf,"_pointerdown"],[ef,"_pointermove"],[Oo,"_pointerup"],[Hr,"_pointerleave"],[Va,"_pointerdown"],[za,"_pointermove"],[Ga,"_pointerup"],[Ha,"_pointercancel"],[vr,"_pointerover"],[qr,"_wheel"],[Bi,"_contextmenu"],[wi,"_pointerdown"],[yr,"_pointermove"],[xs,"_pointerup"],[Lo,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const Yu={mouse:{[Mo]:"mouseout",[Uo]:Hr,[Wr]:vr,[$a]:Ku,[yr]:ef,[wi]:tf,[xs]:Oo,[Lo]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Mo]:"touchout",[Uo]:"touchleave",[Wr]:"touchover",[$a]:"touchenter",[yr]:za,[wi]:Va,[xs]:Ga,[Lo]:Ha,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Mo]:Mo,[Uo]:Uo,[Wr]:Wr,[$a]:$a,[yr]:yr,[wi]:wi,[xs]:xs,[Lo]:Lo,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},As=E=>E.indexOf("pointer")>=0?"pointer":E.indexOf("touch")>=0?"touch":"mouse",Rs=E=>{const c=As(E);return c==="pointer"?S.pointerEventsEnabled&&Yu.pointer:c==="touch"?Yu.touch:c==="mouse"?Yu.mouse:void 0};function nf(E={}){return(E.clipFunc||E.clipWidth||E.clipHeight)&&N.warn("Stage does not support clipping. Please use clip for Layers or Groups."),E}const Wa=[];class qa extends qn{constructor(c){super(nf(c)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Wa.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{nf(this.attrs)}),this._checkVisibility()}_validateAdd(c){const p=c.getType()==="Layer",y=c.getType()==="FastLayer";p||y||N.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const c=this.visible()?"":"none";this.content.style.display=c}setContainer(c){if(typeof c=="string"){if(c.charAt(0)==="."){var p=c.slice(1);c=document.getElementsByClassName(p)[0]}else{var y;y=c.charAt(0)!=="#"?c:c.slice(1),c=document.getElementById(y)}if(!c)throw"Can not find container in document with id "+y}return this._setAttr("container",c),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),c.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var c,p=this.children,y=p.length;for(c=0;c<y;c++)p[c].clear();return this}clone(c){return c||(c={}),c.container=typeof document<"u"&&document.createElement("div"),qn.prototype.clone.call(this,c)}destroy(){super.destroy();var c=this.content;c&&N._isInDocument(c)&&this.container().removeChild(c);var p=Wa.indexOf(this);return p>-1&&Wa.splice(p,1),this}getPointerPosition(){const c=this._pointerPositions[0]||this._changedPointerPositions[0];return c?{x:c.x,y:c.y}:(N.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(c){return this._pointerPositions.find(p=>p.id===c)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(c){(c=c||{}).x=c.x||0,c.y=c.y||0,c.width=c.width||this.width(),c.height=c.height||this.height();var p=new ye({width:c.width,height:c.height,pixelRatio:c.pixelRatio||1}),y=p.getContext()._context,_=this.children;return(c.x||c.y)&&y.translate(-1*c.x,-1*c.y),_.forEach(function(T){if(T.isVisible()){var k=T._toKonvaCanvas(c);y.drawImage(k._canvas,c.x,c.y,k.getWidth()/k.getPixelRatio(),k.getHeight()/k.getPixelRatio())}}),p}getIntersection(c){if(!c)return null;var p,y=this.children;for(p=y.length-1;p>=0;p--){const _=y[p].getIntersection(c);if(_)return _}return null}_resizeDOM(){var c=this.width(),p=this.height();this.content&&(this.content.style.width=c+"px",this.content.style.height=p+"px"),this.bufferCanvas.setSize(c,p),this.bufferHitCanvas.setSize(c,p),this.children.forEach(y=>{y.setSize({width:c,height:p}),y.draw()})}add(c,...p){if(arguments.length>1){for(var y=0;y<arguments.length;y++)this.add(arguments[y]);return this}super.add(c);var _=this.children.length;return _>5&&N.warn("The stage has "+_+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),c.setSize({width:this.width(),height:this.height()}),c.draw(),S.isBrowser&&this.content.appendChild(c.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(c){return Ba(c,this)}setPointerCapture(c){qu(c,this)}releaseCapture(c){mr(c)}getLayers(){return this.children}_bindContentEvents(){S.isBrowser&&Fo.forEach(([c,p])=>{this.content.addEventListener(c,y=>{this[p](y)})})}_pointerenter(c){this.setPointersPositions(c);const p=Rs(c.type);this._fire(p.pointerenter,{evt:c,target:this,currentTarget:this})}_pointerover(c){this.setPointersPositions(c);const p=Rs(c.type);this._fire(p.pointerover,{evt:c,target:this,currentTarget:this})}_getTargetShape(c){let p=this[c+"targetShape"];return p&&!p.getStage()&&(p=null),p}_pointerleave(c){const p=Rs(c.type),y=As(c.type);if(p){this.setPointersPositions(c);var _=this._getTargetShape(y),T=!_e.isDragging||S.hitOnDragEnabled;_&&T?(_._fireAndBubble(p.pointerout,{evt:c}),_._fireAndBubble(p.pointerleave,{evt:c}),this._fire(p.pointerleave,{evt:c,target:this,currentTarget:this}),this[y+"targetShape"]=null):T&&(this._fire(p.pointerleave,{evt:c,target:this,currentTarget:this}),this._fire(p.pointerout,{evt:c,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(c){const p=Rs(c.type),y=As(c.type);if(p){this.setPointersPositions(c);var _=!1;this._changedPointerPositions.forEach(T=>{var k=this.getIntersection(T);if(_e.justDragged=!1,S["_"+y+"ListenClick"]=!0,!k||!k.isListening())return;S.capturePointerEventsEnabled&&k.setPointerCapture(T.id),this[y+"ClickStartShape"]=k,k._fireAndBubble(p.pointerdown,{evt:c,pointerId:T.id}),_=!0;const A=c.type.indexOf("touch")>=0;k.preventDefault()&&c.cancelable&&A&&c.preventDefault()}),_||this._fire(p.pointerdown,{evt:c,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(c){const p=Rs(c.type),y=As(c.type);if(!p||(_e.isDragging&&_e.node.preventDefault()&&c.cancelable&&c.preventDefault(),this.setPointersPositions(c),_e.isDragging&&!S.hitOnDragEnabled))return;var _={};let T=!1;var k=this._getTargetShape(y);this._changedPointerPositions.forEach(A=>{const M=gr(A.id)||this.getIntersection(A),B=A.id,G={evt:c,pointerId:B};var X=k!==M;if(X&&k&&(k._fireAndBubble(p.pointerout,Object.assign({},G),M),k._fireAndBubble(p.pointerleave,Object.assign({},G),M)),M){if(_[M._id])return;_[M._id]=!0}M&&M.isListening()?(T=!0,X&&(M._fireAndBubble(p.pointerover,Object.assign({},G),k),M._fireAndBubble(p.pointerenter,Object.assign({},G),k),this[y+"targetShape"]=M),M._fireAndBubble(p.pointermove,Object.assign({},G))):k&&(this._fire(p.pointerover,{evt:c,target:this,currentTarget:this,pointerId:B}),this[y+"targetShape"]=null)}),T||this._fire(p.pointermove,{evt:c,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(c){const p=Rs(c.type),y=As(c.type);if(!p)return;this.setPointersPositions(c);const _=this[y+"ClickStartShape"],T=this[y+"ClickEndShape"];var k={};let A=!1;this._changedPointerPositions.forEach(M=>{const B=gr(M.id)||this.getIntersection(M);if(B){if(B.releaseCapture(M.id),k[B._id])return;k[B._id]=!0}const G=M.id,X={evt:c,pointerId:G};let ae=!1;S["_"+y+"InDblClickWindow"]?(ae=!0,clearTimeout(this[y+"DblTimeout"])):_e.justDragged||(S["_"+y+"InDblClickWindow"]=!0,clearTimeout(this[y+"DblTimeout"])),this[y+"DblTimeout"]=setTimeout(function(){S["_"+y+"InDblClickWindow"]=!1},S.dblClickWindow),B&&B.isListening()?(A=!0,this[y+"ClickEndShape"]=B,B._fireAndBubble(p.pointerup,Object.assign({},X)),S["_"+y+"ListenClick"]&&_&&_===B&&(B._fireAndBubble(p.pointerclick,Object.assign({},X)),ae&&T&&T===B&&B._fireAndBubble(p.pointerdblclick,Object.assign({},X)))):(this[y+"ClickEndShape"]=null,S["_"+y+"ListenClick"]&&this._fire(p.pointerclick,{evt:c,target:this,currentTarget:this,pointerId:G}),ae&&this._fire(p.pointerdblclick,{evt:c,target:this,currentTarget:this,pointerId:G}))}),A||this._fire(p.pointerup,{evt:c,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),S["_"+y+"ListenClick"]=!1,c.cancelable&&c.preventDefault()}_contextmenu(c){this.setPointersPositions(c);var p=this.getIntersection(this.getPointerPosition());p&&p.isListening()?p._fireAndBubble(Bi,{evt:c}):this._fire(Bi,{evt:c,target:this,currentTarget:this})}_wheel(c){this.setPointersPositions(c);var p=this.getIntersection(this.getPointerPosition());p&&p.isListening()?p._fireAndBubble(qr,{evt:c}):this._fire(qr,{evt:c,target:this,currentTarget:this})}_pointercancel(c){this.setPointersPositions(c);const p=gr(c.pointerId)||this.getIntersection(this.getPointerPosition());p&&p._fireAndBubble(xs,ja(c)),mr(c.pointerId)}_lostpointercapture(c){mr(c.pointerId)}setPointersPositions(c){var p=this._getContentPosition(),y=null,_=null;(c=c||window.event).touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(c.touches,T=>{this._pointerPositions.push({id:T.identifier,x:(T.clientX-p.left)/p.scaleX,y:(T.clientY-p.top)/p.scaleY})}),Array.prototype.forEach.call(c.changedTouches||c.touches,T=>{this._changedPointerPositions.push({id:T.identifier,x:(T.clientX-p.left)/p.scaleX,y:(T.clientY-p.top)/p.scaleY})})):(y=(c.clientX-p.left)/p.scaleX,_=(c.clientY-p.top)/p.scaleY,this.pointerPos={x:y,y:_},this._pointerPositions=[{x:y,y:_,id:N._getFirstPointerId(c)}],this._changedPointerPositions=[{x:y,y:_,id:N._getFirstPointerId(c)}])}_setPointerPosition(c){N.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(c)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var c=this.content.getBoundingClientRect();return{top:c.top,left:c.left,scaleX:c.width/this.content.clientWidth||1,scaleY:c.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new ye({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Ie({pixelRatio:1,width:this.width(),height:this.height()}),S.isBrowser){var c=this.container();if(!c)throw"Stage has no container. A container is required.";c.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),c.appendChild(this.content),this._resizeDOM()}}cache(){return N.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(c){c.batchDraw()}),this}}qa.prototype.nodeType="Stage",P(qa),U.addGetterSetter(qa,"container");var Ps="hasShadow",Xi="shadowRGBA",wr="patternImage",Qu="linearGradient",Xu="radialGradient";let _r;function Ju(){return _r||(_r=N.createCanvasElement().getContext("2d"),_r)}const _i={};class ve extends xe{constructor(c){let p;for(super(c);p=N.getRandomColor(),!p||p in _i;);this.colorKey=p,_i[p]=this}getContext(){return N.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return N.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Ps,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(wr,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const c=Ju().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(c&&c.setTransform){const p=new $;p.translate(this.fillPatternX(),this.fillPatternY()),p.rotate(S.getAngle(this.fillPatternRotation())),p.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),p.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const y=p.getMatrix(),_=typeof DOMMatrix>"u"?{a:y[0],b:y[1],c:y[2],d:y[3],e:y[4],f:y[5]}:new DOMMatrix(y);c.setTransform(_)}return c}}_getLinearGradient(){return this._getCache(Qu,this.__getLinearGradient)}__getLinearGradient(){var c=this.fillLinearGradientColorStops();if(c){for(var p=Ju(),y=this.fillLinearGradientStartPoint(),_=this.fillLinearGradientEndPoint(),T=p.createLinearGradient(y.x,y.y,_.x,_.y),k=0;k<c.length;k+=2)T.addColorStop(c[k],c[k+1]);return T}}_getRadialGradient(){return this._getCache(Xu,this.__getRadialGradient)}__getRadialGradient(){var c=this.fillRadialGradientColorStops();if(c){for(var p=Ju(),y=this.fillRadialGradientStartPoint(),_=this.fillRadialGradientEndPoint(),T=p.createRadialGradient(y.x,y.y,this.fillRadialGradientStartRadius(),_.x,_.y,this.fillRadialGradientEndRadius()),k=0;k<c.length;k+=2)T.addColorStop(c[k],c[k+1]);return T}}getShadowRGBA(){return this._getCache(Xi,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var c=N.colorToRGBA(this.shadowColor());return"rgba("+c.r+","+c.g+","+c.b+","+c.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const c=this.hitStrokeWidth();return c==="auto"?this.hasStroke():this.strokeEnabled()&&!!c}intersects(c){var p=this.getStage().bufferHitCanvas;return p.getContext().clear(),this.drawHit(p,null,!0),p.context.getImageData(Math.round(c.x),Math.round(c.y),1,1).data[3]>0}destroy(){return xe.prototype.destroy.call(this),delete _i[this.colorKey],delete this.colorKey,this}_useBufferCanvas(c){var p;if(!this.getStage()||(p=this.attrs.perfectDrawEnabled)!==null&&p!==void 0&&!p)return!1;const y=c||this.hasFill(),_=this.hasStroke(),T=this.getAbsoluteOpacity()!==1;if(y&&_&&T)return!0;const k=this.hasShadow(),A=this.shadowForStrokeEnabled();return!!(y&&_&&k&&A)}setStrokeHitEnabled(c){N.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),c?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var c=this.size();return{x:this._centroid?-c.width/2:0,y:this._centroid?-c.height/2:0,width:c.width,height:c.height}}getClientRect(c={}){const p=c.skipTransform,y=c.relativeTo,_=this.getSelfRect(),T=!c.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,k=_.width+T,A=_.height+T,M=!c.skipShadow&&this.hasShadow(),B=M?this.shadowOffsetX():0,G=M?this.shadowOffsetY():0,X=k+Math.abs(B),ae=A+Math.abs(G),de=M&&this.shadowBlur()||0,ee={width:X+2*de,height:ae+2*de,x:-(T/2+de)+Math.min(B,0)+_.x,y:-(T/2+de)+Math.min(G,0)+_.y};return p?ee:this._transformedRect(ee,y)}drawScene(c,p){var y,_,T=this.getLayer(),k=c||T.getCanvas(),A=k.getContext(),M=this._getCanvasCache(),B=this.getSceneFunc(),G=this.hasShadow(),X=k.isCache,ae=p===this;if(!this.isVisible()&&!ae)return this;if(M){A.save();var de=this.getAbsoluteTransform(p).getMatrix();return A.transform(de[0],de[1],de[2],de[3],de[4],de[5]),this._drawCachedSceneCanvas(A),A.restore(),this}if(!B)return this;if(A.save(),this._useBufferCanvas()&&!X){(_=(y=this.getStage().bufferCanvas).getContext()).clear(),_.save(),_._applyLineJoin(this);var ee=this.getAbsoluteTransform(p).getMatrix();_.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),B.call(this,_,this),_.restore();var we=y.pixelRatio;G&&A._applyShadow(this),A._applyOpacity(this),A._applyGlobalCompositeOperation(this),A.drawImage(y._canvas,0,0,y.width/we,y.height/we)}else A._applyLineJoin(this),ae||(ee=this.getAbsoluteTransform(p).getMatrix(),A.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),A._applyOpacity(this),A._applyGlobalCompositeOperation(this)),G&&A._applyShadow(this),B.call(this,A,this);return A.restore(),this}drawHit(c,p,y=!1){if(!this.shouldDrawHit(p,y))return this;var _=this.getLayer(),T=c||_.hitCanvas,k=T&&T.getContext(),A=this.hitFunc()||this.sceneFunc(),M=this._getCanvasCache(),B=M&&M.hit;if(this.colorKey||N.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),B){k.save();var G=this.getAbsoluteTransform(p).getMatrix();return k.transform(G[0],G[1],G[2],G[3],G[4],G[5]),this._drawCachedHitCanvas(k),k.restore(),this}if(!A)return this;if(k.save(),k._applyLineJoin(this),this!==p){var X=this.getAbsoluteTransform(p).getMatrix();k.transform(X[0],X[1],X[2],X[3],X[4],X[5])}return A.call(this,k,this),k.restore(),this}drawHitFromCache(c=0){var p,y,_,T,k,A=this._getCanvasCache(),M=this._getCachedSceneCanvas(),B=A.hit,G=B.getContext(),X=B.getWidth(),ae=B.getHeight();G.clear(),G.drawImage(M._canvas,0,0,X,ae);try{for(_=(y=(p=G.getImageData(0,0,X,ae)).data).length,T=N._hexToRgb(this.colorKey),k=0;k<_;k+=4)y[k+3]>c?(y[k]=T.r,y[k+1]=T.g,y[k+2]=T.b,y[k+3]=255):y[k+3]=0;G.putImageData(p,0,0)}catch(de){N.error("Unable to draw hit graph from cached scene canvas. "+de.message)}return this}hasPointerCapture(c){return Ba(c,this)}setPointerCapture(c){qu(c,this)}releaseCapture(c){mr(c)}}ve.prototype._fillFunc=function(E){E.fill()},ve.prototype._strokeFunc=function(E){E.stroke()},ve.prototype._fillFuncHit=function(E){E.fill()},ve.prototype._strokeFuncHit=function(E){E.stroke()},ve.prototype._centroid=!1,ve.prototype.nodeType="Shape",P(ve),ve.prototype.eventListeners={},ve.prototype.on.call(ve.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(Ps)}),ve.prototype.on.call(ve.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(Xi)}),ve.prototype.on.call(ve.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function(){this._clearCache(wr)}),ve.prototype.on.call(ve.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function(){this._clearCache(Qu)}),ve.prototype.on.call(ve.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function(){this._clearCache(Xu)}),U.addGetterSetter(ve,"stroke",void 0,se()),U.addGetterSetter(ve,"strokeWidth",2,F()),U.addGetterSetter(ve,"fillAfterStrokeEnabled",!1),U.addGetterSetter(ve,"hitStrokeWidth","auto",function(){if(S.isUnminified)return function(E,c){return N._isNumber(E)||E==="auto"||N.warn(H(E)+' is a not valid value for "'+c+'" attribute. The value should be a number or "auto".'),E}}()),U.addGetterSetter(ve,"strokeHitEnabled",!0,Z()),U.addGetterSetter(ve,"perfectDrawEnabled",!0,Z()),U.addGetterSetter(ve,"shadowForStrokeEnabled",!0,Z()),U.addGetterSetter(ve,"lineJoin"),U.addGetterSetter(ve,"lineCap"),U.addGetterSetter(ve,"sceneFunc"),U.addGetterSetter(ve,"hitFunc"),U.addGetterSetter(ve,"dash"),U.addGetterSetter(ve,"dashOffset",0,F()),U.addGetterSetter(ve,"shadowColor",void 0,q()),U.addGetterSetter(ve,"shadowBlur",0,F()),U.addGetterSetter(ve,"shadowOpacity",1,F()),U.addComponentsGetterSetter(ve,"shadowOffset",["x","y"]),U.addGetterSetter(ve,"shadowOffsetX",0,F()),U.addGetterSetter(ve,"shadowOffsetY",0,F()),U.addGetterSetter(ve,"fillPatternImage"),U.addGetterSetter(ve,"fill",void 0,se()),U.addGetterSetter(ve,"fillPatternX",0,F()),U.addGetterSetter(ve,"fillPatternY",0,F()),U.addGetterSetter(ve,"fillLinearGradientColorStops"),U.addGetterSetter(ve,"strokeLinearGradientColorStops"),U.addGetterSetter(ve,"fillRadialGradientStartRadius",0),U.addGetterSetter(ve,"fillRadialGradientEndRadius",0),U.addGetterSetter(ve,"fillRadialGradientColorStops"),U.addGetterSetter(ve,"fillPatternRepeat","repeat"),U.addGetterSetter(ve,"fillEnabled",!0),U.addGetterSetter(ve,"strokeEnabled",!0),U.addGetterSetter(ve,"shadowEnabled",!0),U.addGetterSetter(ve,"dashEnabled",!0),U.addGetterSetter(ve,"strokeScaleEnabled",!0),U.addGetterSetter(ve,"fillPriority","color"),U.addComponentsGetterSetter(ve,"fillPatternOffset",["x","y"]),U.addGetterSetter(ve,"fillPatternOffsetX",0,F()),U.addGetterSetter(ve,"fillPatternOffsetY",0,F()),U.addComponentsGetterSetter(ve,"fillPatternScale",["x","y"]),U.addGetterSetter(ve,"fillPatternScaleX",1,F()),U.addGetterSetter(ve,"fillPatternScaleY",1,F()),U.addComponentsGetterSetter(ve,"fillLinearGradientStartPoint",["x","y"]),U.addComponentsGetterSetter(ve,"strokeLinearGradientStartPoint",["x","y"]),U.addGetterSetter(ve,"fillLinearGradientStartPointX",0),U.addGetterSetter(ve,"strokeLinearGradientStartPointX",0),U.addGetterSetter(ve,"fillLinearGradientStartPointY",0),U.addGetterSetter(ve,"strokeLinearGradientStartPointY",0),U.addComponentsGetterSetter(ve,"fillLinearGradientEndPoint",["x","y"]),U.addComponentsGetterSetter(ve,"strokeLinearGradientEndPoint",["x","y"]),U.addGetterSetter(ve,"fillLinearGradientEndPointX",0),U.addGetterSetter(ve,"strokeLinearGradientEndPointX",0),U.addGetterSetter(ve,"fillLinearGradientEndPointY",0),U.addGetterSetter(ve,"strokeLinearGradientEndPointY",0),U.addComponentsGetterSetter(ve,"fillRadialGradientStartPoint",["x","y"]),U.addGetterSetter(ve,"fillRadialGradientStartPointX",0),U.addGetterSetter(ve,"fillRadialGradientStartPointY",0),U.addComponentsGetterSetter(ve,"fillRadialGradientEndPoint",["x","y"]),U.addGetterSetter(ve,"fillRadialGradientEndPointX",0),U.addGetterSetter(ve,"fillRadialGradientEndPointY",0),U.addGetterSetter(ve,"fillPatternRotation",0),U.backCompat(ve,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var rf=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],sf=rf.length;class br extends qn{constructor(c){super(c),this.canvas=new ye,this.hitCanvas=new Ie({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(c){return this.getContext().clear(c),this.getHitCanvas().getContext().clear(c),this}setZIndex(c){super.setZIndex(c);var p=this.getStage();return p&&p.content&&(p.content.removeChild(this.getNativeCanvasElement()),c<p.children.length-1?p.content.insertBefore(this.getNativeCanvasElement(),p.children[c+1].getCanvas()._canvas):p.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){xe.prototype.moveToTop.call(this);var c=this.getStage();return c&&c.content&&(c.content.removeChild(this.getNativeCanvasElement()),c.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!xe.prototype.moveUp.call(this))return!1;var c=this.getStage();return!(!c||!c.content||(c.content.removeChild(this.getNativeCanvasElement()),this.index<c.children.length-1?c.content.insertBefore(this.getNativeCanvasElement(),c.children[this.index+1].getCanvas()._canvas):c.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(xe.prototype.moveDown.call(this)){var c=this.getStage();if(c){var p=c.children;c.content&&(c.content.removeChild(this.getNativeCanvasElement()),c.content.insertBefore(this.getNativeCanvasElement(),p[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(xe.prototype.moveToBottom.call(this)){var c=this.getStage();if(c){var p=c.children;c.content&&(c.content.removeChild(this.getNativeCanvasElement()),c.content.insertBefore(this.getNativeCanvasElement(),p[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var c=this.getNativeCanvasElement();return xe.prototype.remove.call(this),c&&c.parentNode&&N._isInDocument(c)&&c.parentNode.removeChild(c),this}getStage(){return this.parent}setSize({width:c,height:p}){return this.canvas.setSize(c,p),this.hitCanvas.setSize(c,p),this._setSmoothEnabled(),this}_validateAdd(c){var p=c.getType();p!=="Group"&&p!=="Shape"&&N.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(c){return(c=c||{}).width=c.width||this.getWidth(),c.height=c.height||this.getHeight(),c.x=c.x!==void 0?c.x:this.x(),c.y=c.y!==void 0?c.y:this.y(),xe.prototype._toKonvaCanvas.call(this,c)}_checkVisibility(){const c=this.visible();this.canvas._canvas.style.display=c?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){N.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){N.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,N.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(c){if(!this.isListening()||!this.isVisible())return null;for(var p=1,y=!1;;){for(let _=0;_<sf;_++){const T=rf[_],k=this._getIntersection({x:c.x+T.x*p,y:c.y+T.y*p}),A=k.shape;if(A)return A;if(y=!!k.antialiased,!k.antialiased)break}if(!y)return null;p+=1}}_getIntersection(c){const p=this.hitCanvas.pixelRatio,y=this.hitCanvas.context.getImageData(Math.round(c.x*p),Math.round(c.y*p),1,1).data,_=y[3];if(_===255){const T=N._rgbToHex(y[0],y[1],y[2]),k=_i["#"+T];return k?{shape:k}:{antialiased:!0}}return _>0?{antialiased:!0}:{}}drawScene(c,p){var y=this.getLayer(),_=c||y&&y.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&_.getContext().clear(),qn.prototype.drawScene.call(this,_,p),this._fire("draw",{node:this}),this}drawHit(c,p){var y=this.getLayer(),_=c||y&&y.hitCanvas;return y&&y.clearBeforeDraw()&&y.getHitCanvas().getContext().clear(),qn.prototype.drawHit.call(this,_,p),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(c){N.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(c)}getHitGraphEnabled(c){return N.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var c=this.parent;this.hitCanvas._canvas.parentNode?c.content.removeChild(this.hitCanvas._canvas):c.content.appendChild(this.hitCanvas._canvas)}}}br.prototype.nodeType="Layer",P(br),U.addGetterSetter(br,"imageSmoothingEnabled",!0),U.addGetterSetter(br,"clearBeforeDraw",!0),U.addGetterSetter(br,"hitGraphEnabled",!0,Z());class St extends br{constructor(c){super(c),this.listening(!1),N.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}St.prototype.nodeType="FastLayer",P(St);class Sr extends qn{_validateAdd(c){var p=c.getType();p!=="Group"&&p!=="Shape"&&N.throw("You may only add groups and shapes to groups.")}}Sr.prototype.nodeType="Group",P(Sr);var Ka=b.performance&&b.performance.now?function(){return b.performance.now()}:function(){return new Date().getTime()};class oi{constructor(c,p){this.id=oi.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ka(),frameRate:0},this.func=c,this.setLayers(p)}setLayers(c){var p;return p=c?c.length>0?c:[c]:[],this.layers=p,this}getLayers(){return this.layers}addLayer(c){var p,y=this.layers,_=y.length;for(p=0;p<_;p++)if(y[p]._id===c._id)return!1;return this.layers.push(c),!0}isRunning(){var c,p=oi.animations,y=p.length;for(c=0;c<y;c++)if(p[c].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ka(),oi._addAnimation(this),this}stop(){return oi._removeAnimation(this),this}_updateFrameObject(c){this.frame.timeDiff=c-this.frame.lastTime,this.frame.lastTime=c,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(c){this.animations.push(c),this._handleAnimation()}static _removeAnimation(c){var p,y=c.id,_=this.animations,T=_.length;for(p=0;p<T;p++)if(_[p].id===y){this.animations.splice(p,1);break}}static _runFrames(){var c,p,y,_,T,k,A,M,B={},G=this.animations;for(_=0;_<G.length;_++)if(p=(c=G[_]).layers,y=c.func,c._updateFrameObject(Ka()),k=p.length,!y||y.call(c,c.frame)!==!1)for(T=0;T<k;T++)(A=p[T])._id!==void 0&&(B[A._id]=A);for(M in B)B.hasOwnProperty(M)&&B[M].batchDraw()}static _animationLoop(){var c=oi;c.animations.length?(c._runFrames(),N.requestAnimFrame(c._animationLoop)):c.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,N.requestAnimFrame(this._animationLoop))}}oi.animations=[],oi.animIdCounter=0,oi.animRunning=!1;var ze={node:1,duration:1,easing:1,onFinish:1,yoyo:1},of=0,Ya=["fill","stroke","shadowColor"];class jv{constructor(c,p,y,_,T,k,A){this.prop=c,this.propFunc=p,this.begin=_,this._pos=_,this.duration=k,this._change=0,this.prevPos=0,this.yoyo=A,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=y,this._change=T-this.begin,this.pause()}fire(c){var p=this[c];p&&p()}setTime(c){c>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():c<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=c,this.update())}getTime(){return this._time}setPosition(c){this.prevPos=this._pos,this.propFunc(c),this._pos=c}getPosition(c){return c===void 0&&(c=this._time),this.func(c,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(c){this.pause(),this._time=c,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var c=this.getTimer()-this._startTime;this.state===2?this.setTime(c):this.state===3&&this.setTime(this.duration-c)}pause(){this.state=1,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Et{constructor(c){var p,y,_=this,T=c.node,k=T._id,A=c.easing||ft.Linear,M=!!c.yoyo;p=c.duration===void 0?.3:c.duration===0?.001:c.duration,this.node=T,this._id=of++;var B=T.getLayer()||(T instanceof S.Stage?T.getLayers():null);for(y in B||N.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new oi(function(){_.tween.onEnterFrame()},B),this.tween=new jv(y,function(G){_._tweenFunc(G)},A,0,1,1e3*p,M),this._addListeners(),Et.attrs[k]||(Et.attrs[k]={}),Et.attrs[k][this._id]||(Et.attrs[k][this._id]={}),Et.tweens[k]||(Et.tweens[k]={}),c)ze[y]===void 0&&this._addAttr(y,c[y]);this.reset(),this.onFinish=c.onFinish,this.onReset=c.onReset,this.onUpdate=c.onUpdate}_addAttr(c,p){var y,_,T,k,A,M,B,G,X=this.node,ae=X._id;if((T=Et.tweens[ae][c])&&delete Et.attrs[ae][T][c],y=X.getAttr(c),N._isArray(p))if(_=[],A=Math.max(p.length,y.length),c==="points"&&p.length!==y.length&&(p.length>y.length?(B=y,y=N._prepareArrayForTween(y,p,X.closed())):(M=p,p=N._prepareArrayForTween(p,y,X.closed()))),c.indexOf("fill")===0)for(k=0;k<A;k++)if(k%2==0)_.push(p[k]-y[k]);else{var de=N.colorToRGBA(y[k]);G=N.colorToRGBA(p[k]),y[k]=de,_.push({r:G.r-de.r,g:G.g-de.g,b:G.b-de.b,a:G.a-de.a})}else for(k=0;k<A;k++)_.push(p[k]-y[k]);else Ya.indexOf(c)!==-1?(y=N.colorToRGBA(y),_={r:(G=N.colorToRGBA(p)).r-y.r,g:G.g-y.g,b:G.b-y.b,a:G.a-y.a}):_=p-y;Et.attrs[ae][this._id][c]={start:y,diff:_,end:p,trueEnd:M,trueStart:B},Et.tweens[ae][c]=this._id}_tweenFunc(c){var p,y,_,T,k,A,M,B,G=this.node,X=Et.attrs[G._id][this._id];for(p in X){if(_=(y=X[p]).start,T=y.diff,B=y.end,N._isArray(_))if(k=[],M=Math.max(_.length,B.length),p.indexOf("fill")===0)for(A=0;A<M;A++)A%2==0?k.push((_[A]||0)+T[A]*c):k.push("rgba("+Math.round(_[A].r+T[A].r*c)+","+Math.round(_[A].g+T[A].g*c)+","+Math.round(_[A].b+T[A].b*c)+","+(_[A].a+T[A].a*c)+")");else for(A=0;A<M;A++)k.push((_[A]||0)+T[A]*c);else k=Ya.indexOf(p)!==-1?"rgba("+Math.round(_.r+T.r*c)+","+Math.round(_.g+T.g*c)+","+Math.round(_.b+T.b*c)+","+(_.a+T.a*c)+")":_+T*c;G.setAttr(p,k)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var c=this.node,p=Et.attrs[c._id][this._id];p.points&&p.points.trueEnd&&c.setAttr("points",p.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var c=this.node,p=Et.attrs[c._id][this._id];p.points&&p.points.trueStart&&c.points(p.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(c){return this.tween.seek(1e3*c),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var c,p=this.node._id,y=this._id,_=Et.tweens[p];for(c in this.pause(),_)delete Et.tweens[p][c];delete Et.attrs[p][y]}}Et.attrs={},Et.tweens={},xe.prototype.to=function(E){var c=E.onFinish;E.node=this,E.onFinish=function(){this.destroy(),c&&c()},new Et(E).play()};const ft={BackEaseIn(E,c,p,y){var _=1.70158;return p*(E/=y)*E*((_+1)*E-_)+c},BackEaseOut(E,c,p,y){var _=1.70158;return p*((E=E/y-1)*E*((_+1)*E+_)+1)+c},BackEaseInOut(E,c,p,y){var _=1.70158;return(E/=y/2)<1?p/2*(E*E*((1+(_*=1.525))*E-_))+c:p/2*((E-=2)*E*((1+(_*=1.525))*E+_)+2)+c},ElasticEaseIn(E,c,p,y,_,T){var k=0;return E===0?c:(E/=y)==1?c+p:(T||(T=.3*y),!_||_<Math.abs(p)?(_=p,k=T/4):k=T/(2*Math.PI)*Math.asin(p/_),-_*Math.pow(2,10*(E-=1))*Math.sin((E*y-k)*(2*Math.PI)/T)+c)},ElasticEaseOut(E,c,p,y,_,T){var k=0;return E===0?c:(E/=y)==1?c+p:(T||(T=.3*y),!_||_<Math.abs(p)?(_=p,k=T/4):k=T/(2*Math.PI)*Math.asin(p/_),_*Math.pow(2,-10*E)*Math.sin((E*y-k)*(2*Math.PI)/T)+p+c)},ElasticEaseInOut(E,c,p,y,_,T){var k=0;return E===0?c:(E/=y/2)==2?c+p:(T||(T=y*(.3*1.5)),!_||_<Math.abs(p)?(_=p,k=T/4):k=T/(2*Math.PI)*Math.asin(p/_),E<1?_*Math.pow(2,10*(E-=1))*Math.sin((E*y-k)*(2*Math.PI)/T)*-.5+c:_*Math.pow(2,-10*(E-=1))*Math.sin((E*y-k)*(2*Math.PI)/T)*.5+p+c)},BounceEaseOut:(E,c,p,y)=>(E/=y)<1/2.75?p*(7.5625*E*E)+c:E<2/2.75?p*(7.5625*(E-=1.5/2.75)*E+.75)+c:E<2.5/2.75?p*(7.5625*(E-=2.25/2.75)*E+.9375)+c:p*(7.5625*(E-=2.625/2.75)*E+.984375)+c,BounceEaseIn:(E,c,p,y)=>p-ft.BounceEaseOut(y-E,0,p,y)+c,BounceEaseInOut:(E,c,p,y)=>E<y/2?.5*ft.BounceEaseIn(2*E,0,p,y)+c:.5*ft.BounceEaseOut(2*E-y,0,p,y)+.5*p+c,EaseIn:(E,c,p,y)=>p*(E/=y)*E+c,EaseOut:(E,c,p,y)=>-p*(E/=y)*(E-2)+c,EaseInOut:(E,c,p,y)=>(E/=y/2)<1?p/2*E*E+c:-p/2*(--E*(E-2)-1)+c,StrongEaseIn:(E,c,p,y)=>p*(E/=y)*E*E*E*E+c,StrongEaseOut:(E,c,p,y)=>p*((E=E/y-1)*E*E*E*E+1)+c,StrongEaseInOut:(E,c,p,y)=>(E/=y/2)<1?p/2*E*E*E*E*E+c:p/2*((E-=2)*E*E*E*E+2)+c,Linear:(E,c,p,y)=>p*E/y+c},fn=N._assign(S,{Util:N,Transform:$,Node:xe,Container:qn,Stage:qa,stages:Wa,Layer:br,FastLayer:St,Group:Sr,DD:_e,Shape:ve,shapes:_i,Animation:oi,Tween:Et,Easings:ft,Context:oe,Canvas:he});var Bv=l(918),ai=l.n(Bv),In=l(303),$v=l.n(In);class en extends ve{constructor(c){super(c),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const c=this.image();c&&c.complete||c&&c.readyState===4||c&&c.addEventListener&&c.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(c){const p=this.getWidth(),y=this.getHeight(),_=this.attrs.image;let T;if(_){const k=this.attrs.cropWidth,A=this.attrs.cropHeight;T=k&&A?[_,this.cropX(),this.cropY(),k,A,0,0,p,y]:[_,0,0,p,y]}(this.hasFill()||this.hasStroke())&&(c.beginPath(),c.rect(0,0,p,y),c.closePath(),c.fillStrokeShape(this)),_&&c.drawImage.apply(c,T)}_hitFunc(c){var p=this.width(),y=this.height();c.beginPath(),c.rect(0,0,p,y),c.closePath(),c.fillStrokeShape(this)}getWidth(){var c,p;return(c=this.attrs.width)!==null&&c!==void 0?c:(p=this.image())===null||p===void 0?void 0:p.width}getHeight(){var c,p;return(c=this.attrs.height)!==null&&c!==void 0?c:(p=this.image())===null||p===void 0?void 0:p.height}static fromURL(c,p,y=null){var _=N.createImageElement();_.onload=function(){var T=new en({image:_});p(T)},_.onerror=y,_.crossOrigin="Anonymous",_.src=c}}en.prototype.className="Image",P(en),U.addGetterSetter(en,"image"),U.addComponentsGetterSetter(en,"crop",["x","y","width","height"]),U.addGetterSetter(en,"cropX",0,F()),U.addGetterSetter(en,"cropY",0,F()),U.addGetterSetter(en,"cropWidth",0,F()),U.addGetterSetter(en,"cropHeight",0,F());class Ds extends ve{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),c.closePath(),c.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(c){this.radius()!==c/2&&this.radius(c/2)}setHeight(c){this.radius()!==c/2&&this.radius(c/2)}}Ds.prototype._centroid=!0,Ds.prototype.className="Circle",Ds.prototype._attrsAffectingSize=["radius"],P(Ds),U.addGetterSetter(Ds,"radius",0,F());class Ns extends ve{_sceneFunc(c){var p=this.cornerRadius(),y=this.width(),_=this.height();if(c.beginPath(),p){let T=0,k=0,A=0,M=0;typeof p=="number"?T=k=A=M=Math.min(p,y/2,_/2):(T=Math.min(p[0]||0,y/2,_/2),k=Math.min(p[1]||0,y/2,_/2),M=Math.min(p[2]||0,y/2,_/2),A=Math.min(p[3]||0,y/2,_/2)),c.moveTo(T,0),c.lineTo(y-k,0),c.arc(y-k,k,k,3*Math.PI/2,0,!1),c.lineTo(y,_-M),c.arc(y-M,_-M,M,0,Math.PI/2,!1),c.lineTo(A,_),c.arc(A,_-A,A,Math.PI/2,Math.PI,!1),c.lineTo(0,T),c.arc(T,T,T,Math.PI,3*Math.PI/2,!1)}else c.rect(0,0,y,_);c.closePath(),c.fillStrokeShape(this)}}Ns.prototype.className="Rect",P(Ns),U.addGetterSetter(Ns,"cornerRadius",0,function(E){if(S.isUnminified)return function(c,p){let y=N._isNumber(c),_=N._isArray(c)&&c.length==4;return y||_||N.warn(H(c)+' is a not valid value for "'+p+'" attribute. The value should be a number or Array<number>(4)'),c}}());class tn extends ve{constructor(c){super(c),this.dataArray=[],this.pathLength=0,this.dataArray=tn.parsePathData(this.data()),this.pathLength=0;for(var p=0;p<this.dataArray.length;++p)this.pathLength+=this.dataArray[p].pathLength;this.on("dataChange.konva",function(){this.dataArray=tn.parsePathData(this.data()),this.pathLength=0;for(var y=0;y<this.dataArray.length;++y)this.pathLength+=this.dataArray[y].pathLength})}_sceneFunc(c){var p=this.dataArray;c.beginPath();for(var y=!1,_=0;_<p.length;_++){var T=p[_].command,k=p[_].points;switch(T){case"L":c.lineTo(k[0],k[1]);break;case"M":c.moveTo(k[0],k[1]);break;case"C":c.bezierCurveTo(k[0],k[1],k[2],k[3],k[4],k[5]);break;case"Q":c.quadraticCurveTo(k[0],k[1],k[2],k[3]);break;case"A":var A=k[0],M=k[1],B=k[2],G=k[3],X=k[4],ae=k[5],de=k[6],ee=k[7],we=B>G?B:G,st=B>G?1:B/G,Ht=B>G?G/B:1;c.translate(A,M),c.rotate(de),c.scale(st,Ht),c.arc(0,0,we,X,X+ae,1-ee),c.scale(1/st,1/Ht),c.rotate(-de),c.translate(-A,-M);break;case"z":y=!0,c.closePath()}}y||this.hasFill()?c.fillStrokeShape(this):c.strokeShape(this)}getSelfRect(){var c=[];this.dataArray.forEach(function(B){if(B.command==="A"){var G=B.points[4],X=B.points[5],ae=B.points[4]+X,de=Math.PI/180;if(Math.abs(G-ae)<de&&(de=Math.abs(G-ae)),X<0)for(let ee=G-de;ee>ae;ee-=de){const we=tn.getPointOnEllipticalArc(B.points[0],B.points[1],B.points[2],B.points[3],ee,0);c.push(we.x,we.y)}else for(let ee=G+de;ee<ae;ee+=de){const we=tn.getPointOnEllipticalArc(B.points[0],B.points[1],B.points[2],B.points[3],ee,0);c.push(we.x,we.y)}}else if(B.command==="C")for(let ee=0;ee<=1;ee+=.01){const we=tn.getPointOnCubicBezier(ee,B.start.x,B.start.y,B.points[0],B.points[1],B.points[2],B.points[3],B.points[4],B.points[5]);c.push(we.x,we.y)}else c=c.concat(B.points)});for(var p,y,_=c[0],T=c[0],k=c[1],A=c[1],M=0;M<c.length/2;M++)p=c[2*M],y=c[2*M+1],isNaN(p)||(_=Math.min(_,p),T=Math.max(T,p)),isNaN(y)||(k=Math.min(k,y),A=Math.max(A,y));return{x:_,y:k,width:T-_,height:A-k}}getLength(){return this.pathLength}getPointAtLength(c){var p,y=0,_=this.dataArray.length;if(!_)return null;for(;y<_&&c>this.dataArray[y].pathLength;)c-=this.dataArray[y].pathLength,++y;if(y===_)return{x:(p=this.dataArray[y-1].points.slice(-2))[0],y:p[1]};if(c<.01)return{x:(p=this.dataArray[y].points.slice(0,2))[0],y:p[1]};var T=this.dataArray[y],k=T.points;switch(T.command){case"L":return tn.getPointOnLine(c,T.start.x,T.start.y,k[0],k[1]);case"C":return tn.getPointOnCubicBezier(c/T.pathLength,T.start.x,T.start.y,k[0],k[1],k[2],k[3],k[4],k[5]);case"Q":return tn.getPointOnQuadraticBezier(c/T.pathLength,T.start.x,T.start.y,k[0],k[1],k[2],k[3]);case"A":var A=k[0],M=k[1],B=k[2],G=k[3],X=k[4],ae=k[5],de=k[6];return X+=ae*c/T.pathLength,tn.getPointOnEllipticalArc(A,M,B,G,X,de)}return null}static getLineLength(c,p,y,_){return Math.sqrt((y-c)*(y-c)+(_-p)*(_-p))}static getPointOnLine(c,p,y,_,T,k,A){k===void 0&&(k=p),A===void 0&&(A=y);var M=(T-y)/(_-p+1e-8),B=Math.sqrt(c*c/(1+M*M));_<p&&(B*=-1);var G,X=M*B;if(_===p)G={x:k,y:A+X};else if((A-y)/(k-p+1e-8)===M)G={x:k+B,y:A+X};else{var ae,de,ee=this.getLineLength(p,y,_,T),we=(k-p)*(_-p)+(A-y)*(T-y);ae=p+(we/=ee*ee)*(_-p),de=y+we*(T-y);var st=this.getLineLength(k,A,ae,de),Ht=Math.sqrt(c*c-st*st);B=Math.sqrt(Ht*Ht/(1+M*M)),_<p&&(B*=-1),G={x:ae+B,y:de+(X=M*B)}}return G}static getPointOnCubicBezier(c,p,y,_,T,k,A,M,B){function G(ee){return ee*ee*ee}function X(ee){return 3*ee*ee*(1-ee)}function ae(ee){return 3*ee*(1-ee)*(1-ee)}function de(ee){return(1-ee)*(1-ee)*(1-ee)}return{x:M*G(c)+k*X(c)+_*ae(c)+p*de(c),y:B*G(c)+A*X(c)+T*ae(c)+y*de(c)}}static getPointOnQuadraticBezier(c,p,y,_,T,k,A){function M(X){return X*X}function B(X){return 2*X*(1-X)}function G(X){return(1-X)*(1-X)}return{x:k*M(c)+_*B(c)+p*G(c),y:A*M(c)+T*B(c)+y*G(c)}}static getPointOnEllipticalArc(c,p,y,_,T,k){var A=Math.cos(k),M=Math.sin(k),B=y*Math.cos(T),G=_*Math.sin(T);return{x:c+(B*A-G*M),y:p+(B*M+G*A)}}static parsePathData(c){if(!c)return[];var p=c,y=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];p=p.replace(new RegExp(" ","g"),",");for(var _=0;_<y.length;_++)p=p.replace(new RegExp(y[_],"g"),"|"+y[_]);var T,k=p.split("|"),A=[],M=[],B=0,G=0,X=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(_=1;_<k.length;_++){var ae=k[_],de=ae.charAt(0);for(ae=ae.slice(1),M.length=0;T=X.exec(ae);)M.push(T[0]);for(var ee=[],we=0,st=M.length;we<st;we++)if(M[we]!=="00"){var Ht=parseFloat(M[we]);isNaN(Ht)?ee.push(0):ee.push(Ht)}else ee.push(0,0);for(;ee.length>0&&!isNaN(ee[0]);){var pt,ct,yt,Kn,bi,Yn,li,pn,Tt,Re,Me=null,je=[],Ji=B,jo=G;switch(de){case"l":B+=ee.shift(),G+=ee.shift(),Me="L",je.push(B,G);break;case"L":B=ee.shift(),G=ee.shift(),je.push(B,G);break;case"m":var el=ee.shift(),Yr=ee.shift();if(B+=el,G+=Yr,Me="M",A.length>2&&A[A.length-1].command==="z"){for(var $i=A.length-2;$i>=0;$i--)if(A[$i].command==="M"){B=A[$i].points[0]+el,G=A[$i].points[1]+Yr;break}}je.push(B,G),de="l";break;case"M":B=ee.shift(),G=ee.shift(),Me="M",je.push(B,G),de="L";break;case"h":B+=ee.shift(),Me="L",je.push(B,G);break;case"H":B=ee.shift(),Me="L",je.push(B,G);break;case"v":G+=ee.shift(),Me="L",je.push(B,G);break;case"V":G=ee.shift(),Me="L",je.push(B,G);break;case"C":je.push(ee.shift(),ee.shift(),ee.shift(),ee.shift()),B=ee.shift(),G=ee.shift(),je.push(B,G);break;case"c":je.push(B+ee.shift(),G+ee.shift(),B+ee.shift(),G+ee.shift()),B+=ee.shift(),G+=ee.shift(),Me="C",je.push(B,G);break;case"S":ct=B,yt=G,(pt=A[A.length-1]).command==="C"&&(ct=B+(B-pt.points[2]),yt=G+(G-pt.points[3])),je.push(ct,yt,ee.shift(),ee.shift()),B=ee.shift(),G=ee.shift(),Me="C",je.push(B,G);break;case"s":ct=B,yt=G,(pt=A[A.length-1]).command==="C"&&(ct=B+(B-pt.points[2]),yt=G+(G-pt.points[3])),je.push(ct,yt,B+ee.shift(),G+ee.shift()),B+=ee.shift(),G+=ee.shift(),Me="C",je.push(B,G);break;case"Q":je.push(ee.shift(),ee.shift()),B=ee.shift(),G=ee.shift(),je.push(B,G);break;case"q":je.push(B+ee.shift(),G+ee.shift()),B+=ee.shift(),G+=ee.shift(),Me="Q",je.push(B,G);break;case"T":ct=B,yt=G,(pt=A[A.length-1]).command==="Q"&&(ct=B+(B-pt.points[0]),yt=G+(G-pt.points[1])),B=ee.shift(),G=ee.shift(),Me="Q",je.push(ct,yt,B,G);break;case"t":ct=B,yt=G,(pt=A[A.length-1]).command==="Q"&&(ct=B+(B-pt.points[0]),yt=G+(G-pt.points[1])),B+=ee.shift(),G+=ee.shift(),Me="Q",je.push(ct,yt,B,G);break;case"A":Kn=ee.shift(),bi=ee.shift(),Yn=ee.shift(),li=ee.shift(),pn=ee.shift(),Tt=B,Re=G,B=ee.shift(),G=ee.shift(),Me="A",je=this.convertEndpointToCenterParameterization(Tt,Re,B,G,li,pn,Kn,bi,Yn);break;case"a":Kn=ee.shift(),bi=ee.shift(),Yn=ee.shift(),li=ee.shift(),pn=ee.shift(),Tt=B,Re=G,B+=ee.shift(),G+=ee.shift(),Me="A",je=this.convertEndpointToCenterParameterization(Tt,Re,B,G,li,pn,Kn,bi,Yn)}A.push({command:Me||de,points:je,start:{x:Ji,y:jo},pathLength:this.calcLength(Ji,jo,Me||de,je)})}de!=="z"&&de!=="Z"||A.push({command:"z",points:[],start:void 0,pathLength:0})}return A}static calcLength(c,p,y,_){var T,k,A,M,B=tn;switch(y){case"L":return B.getLineLength(c,p,_[0],_[1]);case"C":for(T=0,k=B.getPointOnCubicBezier(0,c,p,_[0],_[1],_[2],_[3],_[4],_[5]),M=.01;M<=1;M+=.01)A=B.getPointOnCubicBezier(M,c,p,_[0],_[1],_[2],_[3],_[4],_[5]),T+=B.getLineLength(k.x,k.y,A.x,A.y),k=A;return T;case"Q":for(T=0,k=B.getPointOnQuadraticBezier(0,c,p,_[0],_[1],_[2],_[3]),M=.01;M<=1;M+=.01)A=B.getPointOnQuadraticBezier(M,c,p,_[0],_[1],_[2],_[3]),T+=B.getLineLength(k.x,k.y,A.x,A.y),k=A;return T;case"A":T=0;var G=_[4],X=_[5],ae=_[4]+X,de=Math.PI/180;if(Math.abs(G-ae)<de&&(de=Math.abs(G-ae)),k=B.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],G,0),X<0)for(M=G-de;M>ae;M-=de)A=B.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],M,0),T+=B.getLineLength(k.x,k.y,A.x,A.y),k=A;else for(M=G+de;M<ae;M+=de)A=B.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],M,0),T+=B.getLineLength(k.x,k.y,A.x,A.y),k=A;return A=B.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],ae,0),T+B.getLineLength(k.x,k.y,A.x,A.y)}return 0}static convertEndpointToCenterParameterization(c,p,y,_,T,k,A,M,B){var G=B*(Math.PI/180),X=Math.cos(G)*(c-y)/2+Math.sin(G)*(p-_)/2,ae=-1*Math.sin(G)*(c-y)/2+Math.cos(G)*(p-_)/2,de=X*X/(A*A)+ae*ae/(M*M);de>1&&(A*=Math.sqrt(de),M*=Math.sqrt(de));var ee=Math.sqrt((A*A*(M*M)-A*A*(ae*ae)-M*M*(X*X))/(A*A*(ae*ae)+M*M*(X*X)));T===k&&(ee*=-1),isNaN(ee)&&(ee=0);var we=ee*A*ae/M,st=ee*-M*X/A,Ht=(c+y)/2+Math.cos(G)*we-Math.sin(G)*st,pt=(p+_)/2+Math.sin(G)*we+Math.cos(G)*st,ct=function(Tt){return Math.sqrt(Tt[0]*Tt[0]+Tt[1]*Tt[1])},yt=function(Tt,Re){return(Tt[0]*Re[0]+Tt[1]*Re[1])/(ct(Tt)*ct(Re))},Kn=function(Tt,Re){return(Tt[0]*Re[1]<Tt[1]*Re[0]?-1:1)*Math.acos(yt(Tt,Re))},bi=Kn([1,0],[(X-we)/A,(ae-st)/M]),Yn=[(X-we)/A,(ae-st)/M],li=[(-1*X-we)/A,(-1*ae-st)/M],pn=Kn(Yn,li);return yt(Yn,li)<=-1&&(pn=Math.PI),yt(Yn,li)>=1&&(pn=0),k===0&&pn>0&&(pn-=2*Math.PI),k===1&&pn<0&&(pn+=2*Math.PI),[Ht,pt,A,M,bi,pn,G,k]}}function Qa(E){return(Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(E)}function Xa(E,c){var p=Object.keys(E);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(E);c&&(y=y.filter(function(_){return Object.getOwnPropertyDescriptor(E,_).enumerable})),p.push.apply(p,y)}return p}function Ja(E){for(var c=1;c<arguments.length;c++){var p=arguments[c]!=null?arguments[c]:{};c%2?Xa(Object(p),!0).forEach(function(y){Zu(E,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(p)):Xa(Object(p)).forEach(function(y){Object.defineProperty(E,y,Object.getOwnPropertyDescriptor(p,y))})}return E}function Kr(E,c){for(var p=0;p<c.length;p++){var y=c[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(E,y.key,y)}}function Os(E,c){return(Os=Object.setPrototypeOf||function(p,y){return p.__proto__=y,p})(E,c)}function af(E,c){return!c||Qa(c)!=="object"&&typeof c!="function"?Er(E):c}function Er(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function Za(E){return(Za=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(E)}function Zu(E,c,p){return c in E?Object.defineProperty(E,c,{value:p,enumerable:!0,configurable:!0,writable:!0}):E[c]=p,E}tn.prototype.className="Path",tn.prototype._attrsAffectingSize=["data"],P(tn),U.addGetterSetter(tn,"data");var Ir=function(E){(function(A,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(M&&M.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),M&&Os(A,M)})(k,E);var c,p,y,_,T=(y=k,_=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}(),function(){var A,M=Za(y);if(_){var B=Za(this).constructor;A=Reflect.construct(M,arguments,B)}else A=M.apply(this,arguments);return af(this,A)});function k(A){var M;(function(X,ae){if(!(X instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,k);var B=(M=T.call(this,A)).generateHash("avatar_container"),G=M.generateHash("avatar_loader");return M.onFileLoad=M.onFileLoad.bind(Er(M)),M.onCloseClick=M.onCloseClick.bind(Er(M)),M.state={imgWidth:0,imgHeight:0,scale:1,containerId:B,loaderId:G,lastMouseY:0,showLoader:!(M.props.src||M.props.img)},M}return c=k,(p=[{key:"generateHash",value:function(A){var M=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return A+"-"+M()+"-"+M()+"-"+M()}},{key:"onCloseCallback",value:function(){this.props.onClose()}},{key:"onCropCallback",value:function(A){this.props.onCrop(A)}},{key:"onFileLoadCallback",value:function(A){this.props.onFileLoad(A)}},{key:"onBeforeFileLoadCallback",value:function(A){this.props.onBeforeFileLoad(A)}},{key:"onImageLoadCallback",value:function(A){this.props.onImageLoad(A)}},{key:"componentDidMount",value:function(){var A=this;if(!this.state.showLoader){var M=this.props.img||new Image;M.crossOrigin="Anonymous",!this.props.img&&this.props.src&&(M.src=this.props.src),this.setState({image:M},function(){if(A.image.complete)return A.init();A.image.onload=function(){A.onImageLoadCallback(A.image),A.init()}})}}},{key:"componentDidUpdate",value:function(A,M){A.src!==this.props.src&&(this.image.src=this.props.src)}},{key:"onFileLoad",value:function(A){if(A.preventDefault(),this.onBeforeFileLoadCallback(A),A.target.value){var M=A.target.files[0];this.onFileLoadCallback(M);var B=this;ai().getData(M,function(){var G=ai().getTag(this,"Orientation");$v()(M,function(X,ae){B.setState({image:X,file:M,showLoader:!1},function(){B.init()})},{orientation:G,meta:!0})})}}},{key:"onCloseClick",value:function(){var A=this;this.setState({showLoader:!0},function(){return A.onCloseCallback()})}},{key:"init",value:function(){var A,M,B=this.props,G=B.height,X=B.minCropRadius,ae=B.cropRadius,de=this.image.width,ee=this.image.height,we=ee/de,st=this.props,Ht=st.imageWidth,pt=st.imageHeight;pt&&Ht&&console.warn("The imageWidth and imageHeight properties can not be set together, using only imageWidth."),pt&&!Ht?M=(A=pt||ee)/we:Ht?A=(M=Ht)*we||ee:M=(A=G||ee)/we;var ct=A/ee,yt=Math.max(X,ae||Math.min(M,A)/3);this.setState({imgWidth:M,imgHeight:A,scale:ct,cropRadius:yt},this.initCanvas)}},{key:"initCanvas",value:function(){var A=this,M=this.initStage(),B=this.initBackground(),G=this.initShading(),X=this.initCrop(),ae=this.initCropStroke(),de=this.initResize(),ee=this.initResizeIcon(),we=new fn.Layer;we.add(B),we.add(G),we.add(ae),we.add(X),we.add(de),we.add(ee),M.add(we);var st=function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return X.radius()-Re},Ht=function(Re){return X.x()-st(Re)<0},pt=function(Re){return X.y()-st(Re)<0},ct=function(Re){return X.x()+st(Re)>M.width()},yt=function(Re){return X.y()+st(Re)>M.height()},Kn=function(Re){return st(Re)>=A.minCropRadius?Re:X.radius()-A.minCropRadius},bi=function(Re){return Re+.86*X.radius()},Yn=function(Re){return Re-.5*X.radius()},li=function(Re,Me){de.x(bi(Re)-8),de.y(Yn(Me)-8),ee.x(bi(Re)-8),ee.y(Yn(Me)-10)},pn=function(){if(A.props.exportAsSquare){var Re=new fn.Image({image:A.image}),Me=Re.width()/B.width(),je=Re.height()/B.height(),Ji=2*X.radius()*Me,jo=2*X.radius()*je,el=A.props.exportSize?A.props.exportSize/Ji:void 0;return Re.toDataURL({x:(X.x()-X.radius())*Me,y:(X.y()-X.radius())*je,width:Ji,height:jo,pixelRatio:el,mimeType:A.props.exportMimeType,quality:A.props.exportQuality})}var Yr=2*X.radius(),$i=2*X.radius(),uf=A.props.exportSize?A.props.exportSize/Yr:void 0;return X.toDataURL({x:X.x()-X.radius(),y:X.y()-X.radius(),width:Yr,height:$i,pixelRatio:uf,mimeType:A.props.exportMimeType,quality:A.props.exportQuality})},Tt=function(Re){var Me=Re>0||function(je){return!(Ht(je)||ct(je)||yt(je)||pt(je))}(Re)?Re:0;ae.radius(ae.radius()-Kn(Me)),X.radius(X.radius()-Kn(Me)),de.fire("resize")};this.onCropCallback(pn()),X.on("dragmove",function(){return X.fire("resize")}),X.on("dragend",function(){return A.onCropCallback(pn())}),X.on("resize",function(){var Re=Ht()?X.radius()+1:ct()?M.width()-X.radius()-1:X.x(),Me=pt()?X.radius()+1:yt()?M.height()-X.radius()-1:X.y();li(Re,Me),X.setFillPatternOffset({x:Re/A.scale,y:Me/A.scale}),X.x(Re),ae.x(Re),X.y(Me),ae.y(Me)}),X.on("mouseenter",function(){return M.container().style.cursor="move"}),X.on("mouseleave",function(){return M.container().style.cursor="default"}),X.on("dragstart",function(){return M.container().style.cursor="move"}),X.on("dragend",function(){return M.container().style.cursor="default"}),de.on("touchstart",function(Re){de.on("dragmove",function(Me){if(Me.evt.type==="touchmove"){var je=Me.evt.changedTouches[0].pageY-Re.evt.changedTouches[0].pageY||0;Tt(je*A.mobileScaleSpeed)}})}),de.on("dragmove",function(Re){if(Re.evt.type!=="touchmove"){var Me=Re.evt.y,je=Me?Me-A.state.lastMouseY:void 0,Ji=Re.evt.movementY||je||0;A.setState({lastMouseY:Me}),Tt(Ji)}}),de.on("dragend",function(){return A.onCropCallback(pn())}),de.on("resize",function(){return li(X.x(),X.y())}),de.on("mouseenter",function(){return M.container().style.cursor="nesw-resize"}),de.on("mouseleave",function(){return M.container().style.cursor="default"}),de.on("dragstart",function(Re){A.setState({lastMouseY:Re.evt.y}),M.container().style.cursor="nesw-resize"}),de.on("dragend",function(){return M.container().style.cursor="default"})}},{key:"initStage",value:function(){return new fn.Stage({container:this.containerId,width:this.width,height:this.height})}},{key:"initBackground",value:function(){return new fn.Image({x:0,y:0,width:this.width,height:this.height,image:this.image})}},{key:"initShading",value:function(){return new fn.Rect({x:0,y:0,width:this.width,height:this.height,fill:this.shadingColor,strokeWidth:4,opacity:this.shadingOpacity})}},{key:"initCrop",value:function(){return new fn.Circle({x:this.halfWidth,y:this.halfHeight,radius:this.cropRadius,fillPatternImage:this.image,fillPatternOffset:{x:this.halfWidth/this.scale,y:this.halfHeight/this.scale},fillPatternScale:{x:this.scale,y:this.scale},opacity:1,draggable:!0,dashEnabled:!0,dash:[10,5]})}},{key:"initCropStroke",value:function(){return new fn.Circle({x:this.halfWidth,y:this.halfHeight,radius:this.cropRadius,stroke:this.cropColor,strokeWidth:this.lineWidth,strokeScaleEnabled:!0,dashEnabled:!0,dash:[10,5]})}},{key:"initResize",value:function(){return new fn.Rect({x:this.halfWidth+.86*this.cropRadius-8,y:this.halfHeight+-.5*this.cropRadius-8,width:16,height:16,draggable:!0,dragBoundFunc:function(A){return{x:this.getAbsolutePosition().x,y:A.y}}})}},{key:"initResizeIcon",value:function(){return new fn.Path({x:this.halfWidth+.86*this.cropRadius-8,y:this.halfHeight+-.5*this.cropRadius-10,data:"M47.624,0.124l12.021,9.73L44.5,24.5l10,10l14.661-15.161l9.963,12.285v-31.5H47.624z M24.5,44.5   L9.847,59.653L0,47.5V79h31.5l-12.153-9.847L34.5,54.5L24.5,44.5z",fill:this.cropColor,scale:{x:.2,y:.2}})}},{key:"render",value:function(){var A=this,M=this.props,B=M.width,G=M.height,X={display:"flex",justifyContent:"center",backgroundColor:this.backgroundColor,width:B||this.width,position:"relative"},ae=this.props.label,de=Ja(Ja({},this.props.labelStyle),{lineHeight:(G||200)+"px"}),ee=Ja(Ja({},this.props.borderStyle),{width:B||200,height:G||200});return g().createElement("div",null,this.state.showLoader?g().createElement("div",{style:ee},g().createElement("input",{onChange:function(we){return A.onFileLoad(we)},name:this.loaderId,type:"file",id:this.loaderId,style:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},accept:this.mimeTypes}),g().createElement("label",{htmlFor:this.loaderId,style:de},ae)):g().createElement("div",{style:X},g().createElement("svg",{onClick:this.onCloseClick,style:{position:"absolute",zIndex:999,cursor:"pointer",left:"10px",top:"10px"},viewBox:"0 0 475.2 475.2",width:"20px",height:"20px"},g().createElement("g",null,g().createElement("path",{d:"M405.6,69.6C360.7,24.7,301.1,0,237.6,0s-123.1,24.7-168,69.6S0,174.1,0,237.6s24.7,123.1,69.6,168s104.5,69.6,168,69.6    s123.1-24.7,168-69.6s69.6-104.5,69.6-168S450.5,114.5,405.6,69.6z M386.5,386.5c-39.8,39.8-92.7,61.7-148.9,61.7    s-109.1-21.9-148.9-61.7c-82.1-82.1-82.1-215.7,0-297.8C128.5,48.9,181.4,27,237.6,27s109.1,21.9,148.9,61.7    C468.6,170.8,468.6,304.4,386.5,386.5z",fill:this.closeIconColor}),g().createElement("path",{d:"M342.3,132.9c-5.3-5.3-13.8-5.3-19.1,0l-85.6,85.6L152,132.9c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1    l85.6,85.6l-85.6,85.6c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4l85.6-85.6l85.6,85.6c2.6,2.6,6.1,4,9.5,4    c3.5,0,6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1l-85.4-85.6l85.6-85.6C347.6,146.7,347.6,138.2,342.3,132.9z",fill:this.closeIconColor}))),g().createElement("div",{id:this.containerId})))}},{key:"lineWidth",get:function(){return this.props.lineWidth}},{key:"containerId",get:function(){return this.state.containerId}},{key:"closeIconColor",get:function(){return this.props.closeIconColor}},{key:"cropColor",get:function(){return this.props.cropColor}},{key:"loaderId",get:function(){return this.state.loaderId}},{key:"mimeTypes",get:function(){return this.props.mimeTypes}},{key:"backgroundColor",get:function(){return this.props.backgroundColor}},{key:"shadingColor",get:function(){return this.props.shadingColor}},{key:"shadingOpacity",get:function(){return this.props.shadingOpacity}},{key:"mobileScaleSpeed",get:function(){return this.props.mobileScaleSpeed}},{key:"cropRadius",get:function(){return this.state.cropRadius}},{key:"minCropRadius",get:function(){return this.props.minCropRadius}},{key:"scale",get:function(){return this.state.scale}},{key:"width",get:function(){return this.state.imgWidth}},{key:"halfWidth",get:function(){return this.state.imgWidth/2}},{key:"height",get:function(){return this.state.imgHeight}},{key:"halfHeight",get:function(){return this.state.imgHeight/2}},{key:"image",get:function(){return this.state.image}}])&&Kr(c.prototype,p),k}(g().Component);Zu(Ir,"defaultProps",{shadingColor:"grey",shadingOpacity:.6,cropColor:"white",closeIconColor:"white",lineWidth:4,minCropRadius:30,backgroundColor:"grey",mimeTypes:"image/jpeg,image/png",exportAsSquare:!1,exportSize:void 0,exportMimeType:"image/png",exportQuality:1,mobileScaleSpeed:.5,onClose:function(){},onCrop:function(){},onFileLoad:function(){},onImageLoad:function(){},onBeforeFileLoad:function(){},label:"Choose a file",labelStyle:{fontSize:"1.25em",fontWeight:"700",color:"black",display:"inline-block",fontFamily:"sans-serif",cursor:"pointer"},borderStyle:{border:"2px solid #979797",borderStyle:"dashed",borderRadius:"8px",textAlign:"center"}});const lf=Ir})(),h})()})})(MB);const UB=Gw(Rw);function FB({onClose:t}){const{user:e,setUser:i}=re.useContext(Cs),[r,o]=re.useState(""),[l,h]=re.useState(""),[f,g]=re.useState(!1),[v,b]=re.useState("Save"),S=D=>{console.log("on crop"),o(D)},P=()=>{console.log("on close"),o("")},$=Math.random().toString(36).substring(2,9)+"",j=async(D,C)=>{(await fm(Ia(Li(an,"tweets"),vd("email","==",D)))).forEach(L=>{yd(L.ref,{userIcon:C})}),(await fm(Ia(Li(an,"messages"),vd("email","==",D)))).forEach(L=>{yd(L.ref,{userIcon:C}),console.log("upload")})},I=async()=>{g(!0),h(r);const D=X2(),C=Q2(D,`images/${$}.png`);fD(C,r,"data_url").then(x=>{pD(C).then(async O=>{try{await ku(Li(an,"userIcon"),{imageName:`${$}.png`,url:O,uid:e.uid,email:e.email,timestamp:Ca()})&&e.email&&O&&(j(e.email,O),i({...e,userIcon:O}))}catch(L){console.log("error",L)}}),g(!1),b("Save✅")})};return Y.jsxs(vD,{className:"p-10",onClose:t,children:[f&&Y.jsx("div",{className:"mb-3 inset-0 flex items-center justify-center",children:Y.jsx("div",{className:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-16 w-16"})}),!f&&Y.jsxs("div",{className:"text-center p-4",children:[Y.jsxs("div",{className:"div flex justify-center items-center",children:[!l&&Y.jsx(UB,{width:400,height:300,onFileLoad:D=>{},onCrop:S,onClose:P}),Y.jsx("img",{className:" first-letter:w-60 h-60 rounded-full  object-cover",src:l||""})]}),Y.jsx("button",{className:"text-2xl font-semibold textColor",children:"Update Profile"}),Y.jsx("div",{className:"text-center",children:Y.jsx("button",{disabled:!r||v!="Save",onClick:I,type:"button",className:"text-white lg:pr-20 lg:pl-20  disabled:opacity-40 bg-twitter hover:bg-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-700  ",children:v})})]}),Y.jsx("div",{className:"text-center",children:Y.jsx("button",{onClick:t,type:"button",className:"text-white lg:pr-20 lg:pl-20  bg-twitter hover:bg-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-700  ",children:"Close"})})]})}/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},wd.apply(this,arguments)}var to;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(to||(to={}));const TT="popstate";function jB(t){t===void 0&&(t={});function e(r,o){let{pathname:l,search:h,hash:f}=r.location;return Pw("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:gm(o)}return $B(e,i,null,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Z2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BB(){return Math.random().toString(36).substr(2,8)}function xT(t,e){return{usr:t.state,key:t.key,idx:e}}function Pw(t,e,i,r){return i===void 0&&(i=null),wd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ju(e):e,{state:i,key:e&&e.key||r||BB()})}function gm(t){let{pathname:e="/",search:i="",hash:r=""}=t;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ju(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $B(t,e,i,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:l=!1}=r,h=o.history,f=to.Pop,g=null,v=b();v==null&&(v=0,h.replaceState(wd({},h.state,{idx:v}),""));function b(){return(h.state||{idx:null}).idx}function S(){f=to.Pop;let D=b(),C=D==null?null:D-v;v=D,g&&g({action:f,location:I.location,delta:C})}function P(D,C){f=to.Push;let x=Pw(I.location,D,C);i&&i(x,D),v=b()+1;let O=xT(x,v),L=I.createHref(x);try{h.pushState(O,"",L)}catch{o.location.assign(L)}l&&g&&g({action:f,location:I.location,delta:1})}function $(D,C){f=to.Replace;let x=Pw(I.location,D,C);i&&i(x,D),v=b();let O=xT(x,v),L=I.createHref(x);h.replaceState(O,"",L),l&&g&&g({action:f,location:I.location,delta:0})}function j(D){let C=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof D=="string"?D:gm(D);return cn(C,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,C)}let I={get action(){return f},get location(){return t(o,h)},listen(D){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(TT,S),g=D,()=>{o.removeEventListener(TT,S),g=null}},createHref(D){return e(o,D)},createURL:j,encodeLocation(D){let C=j(D);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:P,replace:$,go(D){return h.go(D)}};return I}var AT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(AT||(AT={}));function VB(t,e,i){i===void 0&&(i="/");let r=typeof e=="string"?ju(e):e,o=eb(r.pathname||"/",i);if(o==null)return null;let l=yD(t);GB(l);let h=null;for(let f=0;h==null&&f<l.length;++f)h=JB(l[f],t$(o));return h}function yD(t,e,i,r){e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r="");let o=(l,h,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(cn(g.relativePath.startsWith(r),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(r.length));let v=po([r,g.relativePath]),b=i.concat(g);l.children&&l.children.length>0&&(cn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),yD(l.children,e,b,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:QB(v,l.index),routesMeta:b})};return t.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let g of wD(l.path))o(l,h,g)}),e}function wD(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),l=i.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let h=wD(r.join("/")),f=[];return f.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&f.push(...h),f.map(g=>t.startsWith("/")&&g===""?"/":g)}function GB(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:XB(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const zB=/^:\w+$/,HB=3,WB=2,qB=1,KB=10,YB=-2,RT=t=>t==="*";function QB(t,e){let i=t.split("/"),r=i.length;return i.some(RT)&&(r+=YB),e&&(r+=WB),i.filter(o=>!RT(o)).reduce((o,l)=>o+(zB.test(l)?HB:l===""?qB:KB),r)}function XB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function JB(t,e){let{routesMeta:i}=t,r={},o="/",l=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,v=o==="/"?e:e.slice(o.length)||"/",b=ZB({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},v);if(!b)return null;Object.assign(r,b.params);let S=f.route;l.push({params:r,pathname:po([o,b.pathname]),pathnameBase:s$(po([o,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(o=po([o,b.pathnameBase]))}return l}function ZB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=e$(t.path,t.caseSensitive,t.end),o=e.match(i);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((v,b,S)=>{if(b==="*"){let P=f[S]||"";h=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}return v[b]=n$(f[S]||"",b),v},{}),pathname:l,pathnameBase:h,pattern:t}}function e$(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),Z2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(h,f)=>(r.push(f),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function t$(t){try{return decodeURI(t)}catch(e){return Z2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function n$(t,e){try{return decodeURIComponent(t)}catch(i){return Z2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+i+").")),t}}function eb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}function i$(t,e){e===void 0&&(e="/");let{pathname:i,search:r="",hash:o=""}=typeof t=="string"?ju(t):t;return{pathname:i?i.startsWith("/")?i:r$(i,e):e,search:o$(r),hash:a$(o)}}function r$(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function X0(t,e,i,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _D(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function bD(t,e,i,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=ju(t):(o=wd({},t),cn(!o.pathname||!o.pathname.includes("?"),X0("?","pathname","search",o)),cn(!o.pathname||!o.pathname.includes("#"),X0("#","pathname","hash",o)),cn(!o.search||!o.search.includes("#"),X0("#","search","hash",o)));let l=t===""||o.pathname==="",h=l?"/":o.pathname,f;if(r||h==null)f=i;else{let S=e.length-1;if(h.startsWith("..")){let P=h.split("/");for(;P[0]==="..";)P.shift(),S-=1;o.pathname=P.join("/")}f=S>=0?e[S]:"/"}let g=i$(o,f),v=h&&h!=="/"&&h.endsWith("/"),b=(l||h===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(v||b)&&(g.pathname+="/"),g}const po=t=>t.join("/").replace(/\/\/+/g,"/"),s$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function l$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function u$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const c$=typeof Object.is=="function"?Object.is:u$,{useState:h$,useEffect:d$,useLayoutEffect:f$,useDebugValue:p$}=r1;function g$(t,e,i){const r=e(),[{inst:o},l]=h$({inst:{value:r,getSnapshot:e}});return f$(()=>{o.value=r,o.getSnapshot=e,J0(o)&&l({inst:o})},[t,r,e]),d$(()=>(J0(o)&&l({inst:o}),t(()=>{J0(o)&&l({inst:o})})),[t]),p$(r),r}function J0(t){const e=t.getSnapshot,i=t.value;try{const r=e();return!c$(i,r)}catch{return!0}}function m$(t,e,i){return e()}const v$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y$=!v$,w$=y$?m$:g$;"useSyncExternalStore"in r1&&(t=>t.useSyncExternalStore)(r1);const SD=re.createContext(null),ED=re.createContext(null),qd=re.createContext(null),Ev=re.createContext(null),Bu=re.createContext({outlet:null,matches:[]}),ID=re.createContext(null);function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Dw.apply(this,arguments)}function _$(t,e){let{relative:i}=e===void 0?{}:e;Kd()||cn(!1);let{basename:r,navigator:o}=re.useContext(qd),{hash:l,pathname:h,search:f}=CD(t,{relative:i}),g=h;return r!=="/"&&(g=h==="/"?r:po([r,h])),o.createHref({pathname:g,search:f,hash:l})}function Kd(){return re.useContext(Ev)!=null}function Iv(){return Kd()||cn(!1),re.useContext(Ev).location}function b$(){Kd()||cn(!1);let{basename:t,navigator:e}=re.useContext(qd),{matches:i}=re.useContext(Bu),{pathname:r}=Iv(),o=JSON.stringify(_D(i).map(f=>f.pathnameBase)),l=re.useRef(!1);return re.useEffect(()=>{l.current=!0}),re.useCallback(function(f,g){if(g===void 0&&(g={}),!l.current)return;if(typeof f=="number"){e.go(f);return}let v=bD(f,JSON.parse(o),r,g.relative==="path");t!=="/"&&(v.pathname=v.pathname==="/"?t:po([t,v.pathname])),(g.replace?e.replace:e.push)(v,g.state,g)},[t,e,o,r])}function CD(t,e){let{relative:i}=e===void 0?{}:e,{matches:r}=re.useContext(Bu),{pathname:o}=Iv(),l=JSON.stringify(_D(r).map(h=>h.pathnameBase));return re.useMemo(()=>bD(t,JSON.parse(l),o,i==="path"),[t,l,o,i])}function S$(t,e){Kd()||cn(!1);let{navigator:i}=re.useContext(qd),r=re.useContext(ED),{matches:o}=re.useContext(Bu),l=o[o.length-1],h=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let g=Iv(),v;if(e){var b;let I=typeof e=="string"?ju(e):e;f==="/"||(b=I.pathname)!=null&&b.startsWith(f)||cn(!1),v=I}else v=g;let S=v.pathname||"/",P=f==="/"?S:S.slice(f.length)||"/",$=VB(t,{pathname:P}),j=k$($&&$.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:po([f,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:po([f,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,r||void 0);return e&&j?re.createElement(Ev.Provider,{value:{location:Dw({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:to.Pop}},j):j}function E$(){let t=R$(),e=l$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),i?re.createElement("pre",{style:o},i):null,l)}class I$ extends re.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location?{error:e.error,location:e.location}:{error:e.error||i.error,location:i.location}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error?re.createElement(Bu.Provider,{value:this.props.routeContext},re.createElement(ID.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C$(t){let{routeContext:e,match:i,children:r}=t,o=re.useContext(SD);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),re.createElement(Bu.Provider,{value:e},r)}function k$(t,e,i){if(e===void 0&&(e=[]),t==null)if(i!=null&&i.errors)t=i.matches;else return null;let r=t,o=i==null?void 0:i.errors;if(o!=null){let l=r.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id]));l>=0||cn(!1),r=r.slice(0,Math.min(r.length,l+1))}return r.reduceRight((l,h,f)=>{let g=h.route.id?o==null?void 0:o[h.route.id]:null,v=null;i&&(h.route.ErrorBoundary?v=re.createElement(h.route.ErrorBoundary,null):h.route.errorElement?v=h.route.errorElement:v=re.createElement(E$,null));let b=e.concat(r.slice(0,f+1)),S=()=>{let P=l;return g?P=v:h.route.Component?P=re.createElement(h.route.Component,null):h.route.element&&(P=h.route.element),re.createElement(C$,{match:h,routeContext:{outlet:l,matches:b},children:P})};return i&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?re.createElement(I$,{location:i.location,component:v,error:g,children:S(),routeContext:{outlet:null,matches:b}}):S()},null)}var PT;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(PT||(PT={}));var mm;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(mm||(mm={}));function T$(t){let e=re.useContext(ED);return e||cn(!1),e}function x$(t){let e=re.useContext(Bu);return e||cn(!1),e}function A$(t){let e=x$(),i=e.matches[e.matches.length-1];return i.route.id||cn(!1),i.route.id}function R$(){var t;let e=re.useContext(ID),i=T$(mm.UseRouteError),r=A$(mm.UseRouteError);return e||((t=i.errors)==null?void 0:t[r])}function yg(t){cn(!1)}function P$(t){let{basename:e="/",children:i=null,location:r,navigationType:o=to.Pop,navigator:l,static:h=!1}=t;Kd()&&cn(!1);let f=e.replace(/^\/*/,"/"),g=re.useMemo(()=>({basename:f,navigator:l,static:h}),[f,l,h]);typeof r=="string"&&(r=ju(r));let{pathname:v="/",search:b="",hash:S="",state:P=null,key:$="default"}=r,j=re.useMemo(()=>{let I=eb(v,f);return I==null?null:{location:{pathname:I,search:b,hash:S,state:P,key:$},navigationType:o}},[f,v,b,S,P,$,o]);return j==null?null:re.createElement(qd.Provider,{value:g},re.createElement(Ev.Provider,{children:i,value:j}))}function D$(t){let{children:e,location:i}=t,r=re.useContext(SD),o=r&&!e?r.router.routes:Nw(e);return S$(o,i)}var DT;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(DT||(DT={}));new Promise(()=>{});function Nw(t,e){e===void 0&&(e=[]);let i=[];return re.Children.forEach(t,(r,o)=>{if(!re.isValidElement(r))return;let l=[...e,o];if(r.type===re.Fragment){i.push.apply(i,Nw(r.props.children,l));return}r.type!==yg&&cn(!1),!r.props.index||!r.props.children||cn(!1);let h={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Nw(r.props.children,l)),i.push(h)}),i}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Ow.apply(this,arguments)}function N$(t,e){if(t==null)return{};var i={},r=Object.keys(t),o,l;for(l=0;l<r.length;l++)o=r[l],!(e.indexOf(o)>=0)&&(i[o]=t[o]);return i}function O$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L$(t,e){return t.button===0&&(!e||e==="_self")&&!O$(t)}const M$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function U$(t){let{basename:e,children:i,window:r}=t,o=re.useRef();o.current==null&&(o.current=jB({window:r,v5Compat:!0}));let l=o.current,[h,f]=re.useState({action:l.action,location:l.location});return re.useLayoutEffect(()=>l.listen(f),[l]),re.createElement(P$,{basename:e,children:i,location:h.location,navigationType:h.action,navigator:l})}const F$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NT=re.forwardRef(function(e,i){let{onClick:r,relative:o,reloadDocument:l,replace:h,state:f,target:g,to:v,preventScrollReset:b}=e,S=N$(e,M$),{basename:P}=re.useContext(qd),$,j=!1;if(typeof v=="string"&&j$.test(v)&&($=v,F$)){let x=new URL(window.location.href),O=v.startsWith("//")?new URL(x.protocol+v):new URL(v),L=eb(O.pathname,P);O.origin===x.origin&&L!=null?v=L+O.search+O.hash:j=!0}let I=_$(v,{relative:o}),D=B$(v,{replace:h,state:f,target:g,preventScrollReset:b,relative:o});function C(x){r&&r(x),x.defaultPrevented||D(x)}return re.createElement("a",Ow({},S,{href:$||I,onClick:j||l?r:C,ref:i,target:g}))});var OT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(OT||(OT={}));var LT;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(LT||(LT={}));function B$(t,e){let{target:i,replace:r,state:o,preventScrollReset:l,relative:h}=e===void 0?{}:e,f=b$(),g=Iv(),v=CD(t,{relative:h});return re.useCallback(b=>{if(L$(b,i)){b.preventDefault();let S=r!==void 0?r:gm(g)===gm(v);f(t,{replace:S,state:o,preventScrollReset:l,relative:h})}},[g,f,v,r,o,i,t,l,h])}const $$=()=>{const{user:t}=re.useContext(Cs),[e,i]=re.useState(!1);re.useState(!1);const r=()=>{Te.auth().signOut().then(()=>{console.log("sign Out")})},o=()=>{i(!0)},l=()=>{i(!1)},h=t==null?void 0:t.email,f=h==null?void 0:h.substring(0,h.lastIndexOf("@"));return console.log("compnoent: ",t.photoURL),Y.jsxs("div",{className:"col-span-2 items-center px-4 md:items-start ",children:[Y.jsx("img",{className:"h-10 w-10 m-3",src:"https://links.papareact.com/drq",alt:"twiiter icon"}),Y.jsx(NT,{to:"/",children:Y.jsx(Ws,{Icon:r6,title:"home"})}),Y.jsx(Ws,{Icon:i6,title:"explore"}),Y.jsx(Ws,{Icon:QM,title:"notification"}),Y.jsx(NT,{to:"/chatroom",children:Y.jsx(Ws,{Icon:n6,title:"message"})}),Y.jsx(Ws,{Icon:XM,title:"bookmarks"}),Y.jsx(Ws,{Icon:ZM,title:"lists"}),Y.jsx(Ws,{Icon:t6,title:"more"}),Y.jsx("button",{onClick:o,children:Y.jsx(Ws,{Icon:a6,title:"profile"})}),e&&Y.jsx(FB,{onClose:l}),Y.jsxs("button",{onClick:r,className:"flex max-w-fit items-center space-x-2 px-4 py-3 rounded-full  hover:bg-gray-100 transition-all duration-200 group",children:[Y.jsx(KM,{className:"h-7 w-7"}),Y.jsx("p",{className:"hidden group-hover:text-twitter md:inline-flex text-base lg:text-xl ",children:"Sign Out"})]}),Y.jsx(LB,{}),Y.jsx("div",{className:"static hidden lg:block",children:Y.jsxs("div",{className:"flex text-center items-center my-40",children:[Y.jsx("div",{children:Y.jsx("img",{className:"h-14 w-14 rounded-full object-cover",alt:"profile pic",src:t.userIcon||da},Math.random().toString(36).substring(2,9))}),Y.jsx("div",{className:"pl-4",children:Y.jsx("h2",{children:f})})]})})]})};function tb(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]]);return i}const lh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ll={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function kD(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G$=V$,z$=kD,TD=new Da("auth","Firebase",kD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Fm("@firebase/auth");function wg(t,...e){MT.logLevel<=tt.ERROR&&MT.error(`Auth (${ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,...e){throw nb(t,...e)}function Rn(t,...e){return nb(t,...e)}function xD(t,e,i){const r=Object.assign(Object.assign({},z$()),{[e]:i});return new Da("auth","Firebase",r).create(e,{appName:t.name})}function $u(t,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dn(t,"argument-error"),xD(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nb(t,...e){if(typeof t!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(i,...r)}return TD.create(t,...e)}function me(t,e,...i){if(!t)throw nb(e,...i)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wg(e),new Error(e)}function pr(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map;function Di(t){pr(t instanceof Function,"Expected a class definition");let e=UT.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UT.set(t,e),e)}function H$(t,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(Di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ib(){return FT()==="http:"||FT()==="https:"}function FT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ib()||gR()||"connection"in navigator)?navigator.onLine:!0}function q$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,i){this.shortDelay=e,this.longDelay=i,pr(i>e,"Short delay should be less than long delay!"),this.isMobile=_6()||j_()}get(){return W$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t,e){pr(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=new Yd(3e4,6e4);function dn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function En(t,e,i,r,o={}){return RD(t,o,async()=>{let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});const f=Du(Object.assign({key:t.config.apiKey},h)).slice(1),g=await t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),AD.fetch()(PD(t,t.config.apiHost,i,f),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},l))})}async function RD(t,e,i){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},K$),e);try{const o=new Q$(t),l=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw bh(t,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[g,v]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(t,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw bh(t,"email-already-in-use",h);if(g==="USER_DISABLED")throw bh(t,"user-disabled",h);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw xD(t,b,v);Dn(t,b)}}catch(o){if(o instanceof $n)throw o;Dn(t,"internal-error",{message:String(o)})}}async function ks(t,e,i,r,o={}){const l=await En(t,e,i,r,o);return"mfaPendingCredential"in l&&Dn(t,"multi-factor-auth-required",{_serverResponse:l}),l}function PD(t,e,i,r){const o=`${e}${i}?${r}`;return t.config.emulator?rb(t.config,o):`${t.config.apiScheme}://${o}`}class Q${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),Y$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bh(t,e,i){const r={appName:t.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Rn(t,e,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(t,e){return En(t,"POST","/v1/accounts:delete",e)}async function J$(t,e){return En(t,"POST","/v1/accounts:update",e)}async function Z$(t,e){return En(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eV(t,e=!1){const i=Le(t),r=await i.getIdToken(e),o=Cv(r);me(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:r,authTime:Mh(Z0(o.auth_time)),issuedAtTime:Mh(Z0(o.iat)),expirationTime:Mh(Z0(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Z0(t){return Number(t)*1e3}function Cv(t){const[e,i,r]=t.split(".");if(e===void 0||i===void 0||r===void 0)return wg("JWT malformed, contained fewer than 3 sections"),null;try{const o=dR(i);return o?JSON.parse(o):(wg("Failed to decode base64 JWT payload"),null)}catch(o){return wg("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function tV(t){const e=Cv(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(t,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof $n&&nV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mh(this.lastLoginAt),this.creationTime=Mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t){var e;const i=t.auth,r=await t.getIdToken(),o=await Ss(t,Z$(i,{idToken:r}));me(o==null?void 0:o.users.length,i,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?oV(l.providerUserInfo):[],f=sV(t.providerData,h),g=t.isAnonymous,v=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),b=g?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new DD(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(t,S)}async function rV(t){const e=Le(t);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sV(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function oV(t){return t.map(e=>{var{providerId:i}=e,r=tb(e,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e){const i=await RD(t,{},async()=>{const r=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,h=PD(t,o,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",AD.fetch()(h,{method:"POST",headers:f,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}async getToken(e,i=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!i&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:l}=await aV(e,i);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:l}=i,h=new Sd;return r&&(me(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(me(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(me(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sd,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fa{constructor(e){var{uid:i,auth:r,stsTokenManager:o}=e,l=tb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new DD(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ss(this,this.stsTokenManager.getToken(this.auth,e));return me(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return eV(this,e)}reload(){return rV(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await bd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ss(this,X$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var r,o,l,h,f,g,v,b;const S=(r=i.displayName)!==null&&r!==void 0?r:void 0,P=(o=i.email)!==null&&o!==void 0?o:void 0,$=(l=i.phoneNumber)!==null&&l!==void 0?l:void 0,j=(h=i.photoURL)!==null&&h!==void 0?h:void 0,I=(f=i.tenantId)!==null&&f!==void 0?f:void 0,D=(g=i._redirectEventId)!==null&&g!==void 0?g:void 0,C=(v=i.createdAt)!==null&&v!==void 0?v:void 0,x=(b=i.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:O,emailVerified:L,isAnonymous:N,providerData:H,stsTokenManager:F}=i;me(O&&F,e,"internal-error");const q=Sd.fromJSON(this.name,F);me(typeof O=="string",e,"internal-error"),qs(S,e.name),qs(P,e.name),me(typeof L=="boolean",e,"internal-error"),me(typeof N=="boolean",e,"internal-error"),qs($,e.name),qs(j,e.name),qs(I,e.name),qs(D,e.name),qs(C,e.name),qs(x,e.name);const se=new fa({uid:O,auth:e,email:P,emailVerified:L,displayName:S,isAnonymous:N,photoURL:j,phoneNumber:$,tenantId:I,stsTokenManager:q,createdAt:C,lastLoginAt:x});return H&&Array.isArray(H)&&(se.providerData=H.map(Z=>Object.assign({},Z))),D&&(se._redirectEventId=D),se}static async _fromIdTokenResponse(e,i,r=!1){const o=new Sd;o.updateFromServerResponse(i);const l=new fa({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await bd(l),l}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}ND.type="NONE";const Tu=ND;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,e,i){return`firebase:${t}:${e}:${i}`}class au{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=pa(this.userKey,o.apiKey,l),this.fullPersistenceKey=pa("persistence",o.apiKey,l),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new au(Di(Tu),e,r);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Di(Tu);const h=pa(r,e.config.apiKey,e.name);let f=null;for(const v of i)try{const b=await v._get(h);if(b){const S=fa._fromJSON(e,b);v!==l&&(f=S),l=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new au(l,e,r):(l=g[0],f&&await l._set(h,f.toJSON()),await Promise.all(i.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new au(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UD(e))return"Blackberry";if(FD(e))return"Webos";if(sb(e))return"Safari";if((e.includes("chrome/")||LD(e))&&!e.includes("edge/"))return"Chrome";if(Qd(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function OD(t=Zt()){return/firefox\//i.test(t)}function sb(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LD(t=Zt()){return/crios\//i.test(t)}function MD(t=Zt()){return/iemobile/i.test(t)}function Qd(t=Zt()){return/android/i.test(t)}function UD(t=Zt()){return/blackberry/i.test(t)}function FD(t=Zt()){return/webos/i.test(t)}function Vu(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lV(t=Zt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function uV(t=Zt()){var e;return Vu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cV(){return mR()&&document.documentMode===10}function jD(t=Zt()){return Vu(t)||Qd(t)||FD(t)||UD(t)||/windows phone/i.test(t)||MD(t)}function hV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e=[]){let i;switch(t){case"Browser":i=jT(Zt());break;case"Worker":i=`${jT(Zt())}-${t}`;break;default:i=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=l=>new Promise((h,f)=>{try{const g=e(l);h(g)}catch(g){f(g)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,i,r){this.app=e,this.heartbeatServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BT(this),this.idTokenSubscription=new BT(this),this.beforeStateQueue=new dV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TD,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Di(i)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await au.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var i;const r=await this.assertedPersistence.getCurrentUser();let o=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,f=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&(g!=null&&g.user)&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const i=e?Le(e):null;return i&&me(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Da("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Di(e)||this._popupRedirectResolver;me(i,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[Di(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const l=typeof i=="function"?i:i.next.bind(i),h=this._isInitialized?Promise.resolve():this._initializationPromise;return me(h,this,"internal-error"),h.then(()=>l(this.currentUser)),typeof i=="function"?e.addObserver(i,r,o):e.addObserver(i)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(i["X-Firebase-Client"]=r),i}}function Sn(t){return Le(t)}class BT{constructor(e){this.auth=e,this.observer=null,this.addObserver=vR(i=>this.observer=i)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pV(t,e,i){const r=Sn(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(i!=null&&i.disableWarnings),l=$D(e),{host:h,port:f}=gV(e),g=f===null?"":`:${f}`;r.config.emulator={url:`${l}//${h}${g}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||mV()}function $D(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gV(t){const e=$D(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:$T(r.substr(l.length+1))}}else{const[l,h]=r.split(":");return{host:l,port:$T(h)}}}function $T(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mV(){function t(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,i){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e){return En(t,"POST","/v1/accounts:resetPassword",dn(t,e))}async function GD(t,e){return En(t,"POST","/v1/accounts:update",e)}async function vV(t,e){return En(t,"POST","/v1/accounts:update",dn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e){return ks(t,"POST","/v1/accounts:signInWithPassword",dn(t,e))}async function kv(t,e){return En(t,"POST","/v1/accounts:sendOobCode",dn(t,e))}async function wV(t,e){return kv(t,e)}async function _V(t,e){return kv(t,e)}async function bV(t,e){return kv(t,e)}async function SV(t,e){return kv(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e){return ks(t,"POST","/v1/accounts:signInWithEmailLink",dn(t,e))}async function IV(t,e){return ks(t,"POST","/v1/accounts:signInWithEmailLink",dn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends Gu{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Ed(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Ed(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return yV(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return EV(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":return GD(e,{idToken:i,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return IV(e,{idToken:i,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ds(t,e){return ks(t,"POST","/v1/accounts:signInWithIdp",dn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV="http://localhost";class zr extends Gu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Dn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=i,l=tb(i,["providerId","signInMethod"]);if(!r||!o)return null;const h=new zr(r,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return ds(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,ds(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ds(e,i)}buildRequest(){const e={requestUri:CV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Du(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(t,e){return En(t,"POST","/v1/accounts:sendVerificationCode",dn(t,e))}async function TV(t,e){return ks(t,"POST","/v1/accounts:signInWithPhoneNumber",dn(t,e))}async function xV(t,e){const i=await ks(t,"POST","/v1/accounts:signInWithPhoneNumber",dn(t,e));if(i.temporaryProof)throw bh(t,"account-exists-with-different-credential",i);return i}const AV={USER_NOT_FOUND:"user-not-found"};async function RV(t,e){const i=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ks(t,"POST","/v1/accounts:signInWithPhoneNumber",dn(t,i),AV)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Gu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,i){return new ga({verificationId:e,verificationCode:i})}static _fromTokenResponse(e,i){return new ga({phoneNumber:e,temporaryProof:i})}_getIdTokenResponse(e){return TV(e,this._makeVerificationRequest())}_linkToIdToken(e,i){return xV(e,Object.assign({idToken:i},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return RV(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:i,verificationId:r,verificationCode:o}=this.params;return e&&i?{temporaryProof:e,phoneNumber:i}:{sessionInfo:r,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:i,verificationCode:r,phoneNumber:o,temporaryProof:l}=e;return!r&&!i&&!o&&!l?null:new ga({verificationId:i,verificationCode:r,phoneNumber:o,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DV(t){const e=Ql(mh(t)).link,i=e?Ql(mh(e)).deep_link_id:null,r=Ql(mh(t)).deep_link_id;return(r?Ql(mh(r)).link:null)||r||i||e||t}class Tv{constructor(e){var i,r,o,l,h,f;const g=Ql(mh(e)),v=(i=g.apiKey)!==null&&i!==void 0?i:null,b=(r=g.oobCode)!==null&&r!==void 0?r:null,S=PV((o=g.mode)!==null&&o!==void 0?o:null);me(v&&b&&S,"argument-error"),this.apiKey=v,this.operation=S,this.code=b,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=g.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=g.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const i=DV(e);try{return new Tv(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,i){return Ed._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Tv.parseLink(i);return me(r,"argument-error"),Ed._fromEmailAndCode(e,r.code,r.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Ts{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lu extends zu{static credentialFromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;return me("providerId"in i&&"signInMethod"in i,"argument-error"),zr._fromParams(i)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),zr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return lu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return lu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r,oauthTokenSecret:o,pendingToken:l,nonce:h,providerId:f}=e;if(!r&&!o&&!i&&!l||!f)return null;try{return new lu(f)._credential({idToken:i,accessToken:r,nonce:h,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends zu{constructor(){super("facebook.com")}static credential(e){return zr._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return zr._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Lr.credential(i,r)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends zu{constructor(){super("github.com")}static credential(e){return zr._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="http://localhost";class xu extends Gu{constructor(e,i){super(e,e),this.pendingToken=i}_getIdTokenResponse(e){const i=this.buildRequest();return ds(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,ds(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ds(e,i)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,pendingToken:l}=i;return!r||!o||!l||r!==o?null:new xu(r,l)}static _create(e,i){return new xu(e,i)}buildRequest(){return{requestUri:NV,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="saml.";class vm extends Ts{constructor(e){me(e.startsWith(OV),"argument-error"),super(e)}static credentialFromResult(e){return vm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return vm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const i=xu.fromJSON(e);return me(i,"argument-error"),i}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:i,providerId:r}=e;if(!i||!r)return null;try{return xu._create(r,i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends zu{constructor(){super("twitter.com")}static credential(e,i){return zr._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Ur.credential(i,r)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(t,e){return ks(t,"POST","/v1/accounts:signUp",dn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const l=await fa._fromIdTokenResponse(e,r,o),h=VT(r);return new Qi({user:l,providerId:h,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=VT(r);return new Qi({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function VT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t){var e;const i=Sn(t);if(await i._initializationPromise,!((e=i.currentUser)===null||e===void 0)&&e.isAnonymous)return new Qi({user:i.currentUser,providerId:null,operationType:"signIn"});const r=await zD(i,{returnSecureToken:!0}),o=await Qi._fromIdTokenResponse(i,"signIn",r,!0);return await i._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends $n{constructor(e,i,r,o){var l;super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ym.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new ym(e,i,r,o)}}function HD(t,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ym._fromErrorAndOperation(t,l,e,r):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e){const i=Le(t);await xv(!0,i,e);const{providerUserInfo:r}=await J$(i.auth,{idToken:await i.getIdToken(),deleteProvider:[e]}),o=WD(r||[]);return i.providerData=i.providerData.filter(l=>o.has(l.providerId)),o.has("phone")||(i.phoneNumber=null),await i.auth._persistUserIfCurrent(i),i}async function ob(t,e,i=!1){const r=await Ss(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return Qi._forOperation(t,"link",r)}async function xv(t,e,i){await bd(e);const r=WD(e.providerData),o=t===!1?"provider-already-linked":"no-such-provider";me(r.has(i)===t,e.auth,o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(t,e,i=!1){const{auth:r}=t,o="reauthenticate";try{const l=await Ss(t,HD(r,o,e,t),i);me(l.idToken,r,"internal-error");const h=Cv(l.idToken);me(h,r,"internal-error");const{sub:f}=h;return me(t.uid===f,r,"user-mismatch"),Qi._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Dn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e,i=!1){const r="signIn",o=await HD(t,r,e),l=await Qi._fromIdTokenResponse(t,r,o);return i||await t._updateCurrentUser(l.user),l}async function Av(t,e){return KD(Sn(t),e)}async function YD(t,e){const i=Le(t);return await xv(!1,i,e.providerId),ob(i,e)}async function QD(t,e){return qD(Le(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e){return ks(t,"POST","/v1/accounts:signInWithCustomToken",dn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e){const i=Sn(t),r=await UV(i,{token:e,returnSecureToken:!0}),o=await Qi._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,i){this.factorId=e,this.uid=i.mfaEnrollmentId,this.enrollmentTime=new Date(i.enrolledAt).toUTCString(),this.displayName=i.displayName}static _fromServerResponse(e,i){return"phoneInfo"in i?ab._fromServerResponse(e,i):Dn(e,"internal-error")}}class ab extends Rv{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,i){return new ab(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t,e,i){var r;me(((r=i.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),me(typeof i.dynamicLinkDomain>"u"||i.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=i.url,e.dynamicLinkDomain=i.dynamicLinkDomain,e.canHandleCodeInApp=i.handleCodeInApp,i.iOS&&(me(i.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=i.iOS.bundleId),i.android&&(me(i.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=i.android.installApp,e.androidMinimumVersionCode=i.android.minimumVersion,e.androidPackageName=i.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e,i){const r=Le(t),o={requestType:"PASSWORD_RESET",email:e};i&&Pv(r,o,i),await _V(r,o)}async function BV(t,e,i){await VD(Le(t),{oobCode:e,newPassword:i})}async function $V(t,e){await vV(Le(t),{oobCode:e})}async function XD(t,e){const i=Le(t),r=await VD(i,{oobCode:e}),o=r.requestType;switch(me(o,i,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,i,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,i,"internal-error");default:me(r.email,i,"internal-error")}let l=null;return r.mfaInfo&&(l=Rv._fromServerResponse(Sn(i),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:l},operation:o}}async function VV(t,e){const{data:i}=await XD(Le(t),e);return i.email}async function GV(t,e,i){const r=Sn(t),o=await zD(r,{returnSecureToken:!0,email:e,password:i}),l=await Qi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function zV(t,e,i){return Av(Le(t),Ro.credential(e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(t,e,i){const r=Le(t),o={requestType:"EMAIL_SIGNIN",email:e};me(i.handleCodeInApp,r,"argument-error"),i&&Pv(r,o,i),await bV(r,o)}function WV(t,e){const i=Tv.parseLink(e);return(i==null?void 0:i.operation)==="EMAIL_SIGNIN"}async function qV(t,e,i){const r=Le(t),o=Ro.credentialWithLink(e,i||_d());return me(o._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Av(r,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){return En(t,"POST","/v1/accounts:createAuthUri",dn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t,e){const i=ib()?_d():"http://localhost",r={identifier:e,continueUri:i},{signinMethods:o}=await KV(Le(t),r);return o||[]}async function QV(t,e){const i=Le(t),o={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Pv(i.auth,o,e);const{email:l}=await wV(i.auth,o);l!==t.email&&await t.reload()}async function XV(t,e,i){const r=Le(t),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};i&&Pv(r.auth,l,i);const{email:h}=await SV(r.auth,l);h!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){return En(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=Le(t),l={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},h=await Ss(r,JV(r.auth,l));r.displayName=h.displayName||null,r.photoURL=h.photoUrl||null;const f=r.providerData.find(({providerId:g})=>g==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(h)}function eG(t,e){return JD(Le(t),e,null)}function tG(t,e){return JD(Le(t),null,e)}async function JD(t,e,i){const{auth:r}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(l.email=e),i&&(l.password=i);const h=await Ss(t,GD(r,l));await t._updateTokensIfNecessary(h,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t){var e,i;if(!t)return null;const{providerId:r}=t,o=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},l=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const h=(i=(e=Cv(t.idToken))===null||e===void 0?void 0:e.firebase)===null||i===void 0?void 0:i.sign_in_provider;if(h){const f=h!=="anonymous"&&h!=="custom"?h:null;return new uu(l,f)}}if(!r)return null;switch(r){case"facebook.com":return new iG(l,o);case"github.com":return new rG(l,o);case"google.com":return new sG(l,o);case"twitter.com":return new oG(l,o,t.screenName||null);case"custom":case"anonymous":return new uu(l,null);default:return new uu(l,r,o)}}class uu{constructor(e,i,r={}){this.isNewUser=e,this.providerId=i,this.profile=r}}class ZD extends uu{constructor(e,i,r,o){super(e,i,r),this.username=o}}class iG extends uu{constructor(e,i){super(e,"facebook.com",i)}}class rG extends ZD{constructor(e,i){super(e,"github.com",i,typeof(i==null?void 0:i.login)=="string"?i==null?void 0:i.login:null)}}class sG extends uu{constructor(e,i){super(e,"google.com",i)}}class oG extends ZD{constructor(e,i,r){super(e,"twitter.com",i,r)}}function aG(t){const{user:e,_tokenResponse:i}=t;return e.isAnonymous&&!i?{providerId:null,isNewUser:!1,profile:null}:nG(i)}class oa{constructor(e,i,r){this.type=e,this.credential=i,this.auth=r}static _fromIdtoken(e,i){return new oa("enroll",e,i)}static _fromMfaPendingCredential(e){return new oa("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var i,r;if(e!=null&&e.multiFactorSession){if(!((i=e.multiFactorSession)===null||i===void 0)&&i.pendingCredential)return oa._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return oa._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,i,r){this.session=e,this.hints=i,this.signInResolver=r}static _fromError(e,i){const r=Sn(e),o=i.customData._serverResponse,l=(o.mfaInfo||[]).map(f=>Rv._fromServerResponse(r,f));me(o.mfaPendingCredential,r,"internal-error");const h=oa._fromMfaPendingCredential(o.mfaPendingCredential);return new lb(h,l,async f=>{const g=await f._process(r,h);delete o.mfaInfo,delete o.mfaPendingCredential;const v=Object.assign(Object.assign({},o),{idToken:g.idToken,refreshToken:g.refreshToken});switch(i.operationType){case"signIn":const b=await Qi._fromIdTokenResponse(r,i.operationType,v);return await r._updateCurrentUser(b.user),b;case"reauthenticate":return me(i.user,r,"internal-error"),Qi._forOperation(i.user,i.operationType,v);default:Dn(r,"internal-error")}})}async resolveSignIn(e){const i=e;return this.signInResolver(i)}}function lG(t,e){var i;const r=Le(t),o=e;return me(e.customData.operationType,r,"argument-error"),me((i=o.customData._serverResponse)===null||i===void 0?void 0:i.mfaPendingCredential,r,"argument-error"),lb._fromError(r,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uG(t,e){return En(t,"POST","/v2/accounts/mfaEnrollment:start",dn(t,e))}function cG(t,e){return En(t,"POST","/v2/accounts/mfaEnrollment:finalize",dn(t,e))}function hG(t,e){return En(t,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(t,e))}class ub{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(i=>{i.mfaInfo&&(this.enrolledFactors=i.mfaInfo.map(r=>Rv._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new ub(e)}async getSession(){return oa._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,i){const r=e,o=await this.getSession(),l=await Ss(this.user,r._process(this.user.auth,o,i));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const i=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const o=await Ss(this.user,hG(this.user.auth,{idToken:r,mfaEnrollmentId:i}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==i),await this.user._updateTokensIfNecessary(o),await this.user.reload()}catch(o){throw o}}}const e1=new WeakMap;function dG(t){const e=Le(t);return e1.has(e)||e1.set(e,ub._fromUser(e)),e1.get(e)}const wm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(wm,"1"),this.storage.removeItem(wm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(){const t=Zt();return sb(t)||Vu(t)}const pG=1e3,gG=10;class tN extends eN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fG()&&hV(),this.fallbackToPolling=jD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const r=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(r);if(e.newValue!==h)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!i)return}const o=()=>{const h=this.storage.getItem(r);!i&&this.localCache[r]===h||this.notifyListeners(r,h)},l=this.storage.getItem(r);cV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gG):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},pG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}tN.type="LOCAL";const cb=tN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN extends eN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}nN.type="SESSION";const Ta=nN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Dv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:l}=i.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(h).map(async v=>v(i.origin,l)),g=await mG(f);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return t+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,g)=>{const v=Xd("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(S){const P=S;if(P.data.eventId===v)switch(P.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(P.data.response);break;default:clearTimeout(b),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return window}function yG(t){sn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}async function wG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _G(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bG(){return hb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="firebaseLocalStorageDb",SG=1,_m="firebaseLocalStorage",rN="fbase_key";class Jd{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Nv(t,e){return t.transaction([_m],e?"readwrite":"readonly").objectStore(_m)}function EG(){const t=indexedDB.deleteDatabase(iN);return new Jd(t).toPromise()}function Lw(){const t=indexedDB.open(iN,SG);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_m,{keyPath:rN})}catch(o){i(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_m)?e(r):(r.close(),await EG(),e(await Lw()))})})}async function GT(t,e,i){const r=Nv(t,!0).put({[rN]:e,value:i});return new Jd(r).toPromise()}async function IG(t,e){const i=Nv(t,!1).get(e),r=await new Jd(i).toPromise();return r===void 0?null:r.value}function zT(t,e){const i=Nv(t,!0).delete(e);return new Jd(i).toPromise()}const CG=800,kG=3;class sN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lw(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>kG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dv._getInstance(bG()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await wG(),!this.activeServiceWorker)return;this.sender=new vG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_G()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lw();return await GT(e,wm,"1"),await zT(e,wm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>GT(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>IG(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>zT(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Nv(o,!1).getAll();return new Jd(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sN.type="LOCAL";const Id=sN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(t,e){return En(t,"POST","/v2/accounts/mfaSignIn:start",dn(t,e))}function xG(t,e){return En(t,"POST","/v2/accounts/mfaSignIn:finalize",dn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AG(t){return(await En(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function oN(t){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const l=Rn("internal-error");l.customData=o,i(l)},r.type="text/javascript",r.charset="UTF-8",RG().appendChild(r)})}function aN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG=500,DG=6e4,$p=1e12;class NG{constructor(e){this.auth=e,this.counter=$p,this._widgets=new Map}render(e,i){const r=this.counter;return this._widgets.set(r,new OG(e,this.auth.name,i||{})),this.counter++,r}reset(e){var i;const r=e||$p;(i=this._widgets.get(r))===null||i===void 0||i.delete(),this._widgets.delete(r)}getResponse(e){var i;const r=e||$p;return((i=this._widgets.get(r))===null||i===void 0?void 0:i.getResponse())||""}async execute(e){var i;const r=e||$p;return(i=this._widgets.get(r))===null||i===void 0||i.execute(),""}}class OG{constructor(e,i,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;me(o,"argument-error",{appName:i}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=LG(50);const{callback:e,"expired-callback":i}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,i)try{i()}catch{}this.isVisible&&this.execute()},DG)},PG))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function LG(t){const e=[],i="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=aN("rcb"),MG=new Yd(3e4,6e4),UG="https://www.google.com/recaptcha/api.js?";class FG{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=sn().grecaptcha)===null||e===void 0)&&e.render)}load(e,i=""){return me(jG(i),e,"argument-error"),this.shouldResolveImmediately(i)?Promise.resolve(sn().grecaptcha):new Promise((r,o)=>{const l=sn().setTimeout(()=>{o(Rn(e,"network-request-failed"))},MG.get());sn()[t1]=()=>{sn().clearTimeout(l),delete sn()[t1];const f=sn().grecaptcha;if(!f){o(Rn(e,"internal-error"));return}const g=f.render;f.render=(v,b)=>{const S=g(v,b);return this.counter++,S},this.hostLanguage=i,r(f)};const h=`${UG}?${Du({onload:t1,render:"explicit",hl:i})}`;oN(h).catch(()=>{clearTimeout(l),o(Rn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var i;return!!(!((i=sn().grecaptcha)===null||i===void 0)&&i.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function jG(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class BG{async load(e){return new NG(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="recaptcha",$G={theme:"light",type:"image"};let VG=class{constructor(e,i=Object.assign({},$G),r){this.parameters=i,this.type=lN,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(r),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof e=="string"?document.getElementById(e):e;me(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new BG:new FG,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),i=this.getAssertedRecaptcha(),r=i.getResponse(e);return r||new Promise(o=>{const l=h=>{h&&(this.tokenChangeListeners.delete(l),o(h))};this.tokenChangeListeners.add(l),this.isInvisible&&i.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return i=>{if(this.tokenChangeListeners.forEach(r=>r(i)),typeof e=="function")e(i);else if(typeof e=="string"){const r=sn()[e];typeof r=="function"&&r(i)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const i=document.createElement("div");e.appendChild(i),e=i}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(ib()&&!hb(),this.auth,"internal-error"),await GG(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await AG(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function GG(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,i){this.verificationId=e,this.onConfirmation=i}confirm(e){const i=ga._fromVerification(this.verificationId,e);return this.onConfirmation(i)}}async function zG(t,e,i){const r=Sn(t),o=await Ov(r,e,Le(i));return new db(o,l=>Av(r,l))}async function HG(t,e,i){const r=Le(t);await xv(!1,r,"phone");const o=await Ov(r.auth,e,Le(i));return new db(o,l=>YD(r,l))}async function WG(t,e,i){const r=Le(t),o=await Ov(r.auth,e,Le(i));return new db(o,l=>QD(r,l))}async function Ov(t,e,i){var r;const o=await i.verify();try{me(typeof o=="string",t,"argument-error"),me(i.type===lN,t,"argument-error");let l;if(typeof e=="string"?l={phoneNumber:e}:l=e,"session"in l){const h=l.session;if("phoneNumber"in l)return me(h.type==="enroll",t,"internal-error"),(await uG(t,{idToken:h.credential,phoneEnrollmentInfo:{phoneNumber:l.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo;{me(h.type==="signin",t,"internal-error");const f=((r=l.multiFactorHint)===null||r===void 0?void 0:r.uid)||l.multiFactorUid;return me(f,t,"missing-multi-factor-info"),(await TG(t,{mfaPendingCredential:h.credential,mfaEnrollmentId:f,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:h}=await kV(t,{phoneNumber:l.phoneNumber,recaptchaToken:o});return h}}finally{i._reset()}}async function qG(t,e){await ob(Le(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa=class _g{constructor(e){this.providerId=_g.PROVIDER_ID,this.auth=Sn(e)}verifyPhoneNumber(e,i){return Ov(this.auth,e,Le(i))}static credential(e,i){return ga._fromVerification(e,i)}static credentialFromResult(e){const i=e;return _g.credentialFromTaggedObject(i)}static credentialFromError(e){return _g.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:i,temporaryProof:r}=e;return i&&r?ga._fromTokenResponse(i,r):null}};xa.PROVIDER_ID="phone";xa.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t,e){return e?Di(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends Gu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ds(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ds(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function KG(t){return KD(t.auth,new fb(t),t.bypassAuthState)}function YG(t){const{auth:e,user:i}=t;return me(i,e,"internal-error"),qD(i,new fb(t),t.bypassAuthState)}async function QG(t){const{auth:e,user:i}=t;return me(i,e,"internal-error"),ob(i,new fb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,i,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KG;case"linkViaPopup":case"linkViaRedirect":return QG;case"reauthViaPopup":case"reauthViaRedirect":return YG;default:Dn(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=new Yd(2e3,1e4);async function JG(t,e,i){const r=Sn(t);$u(t,e,Ts);const o=Ma(r,i);return new as(r,"signInViaPopup",e,o).executeNotNull()}async function ZG(t,e,i){const r=Le(t);$u(r.auth,e,Ts);const o=Ma(r.auth,i);return new as(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}async function ez(t,e,i){const r=Le(t);$u(r.auth,e,Ts);const o=Ma(r.auth,i);return new as(r.auth,"linkViaPopup",e,o,r).executeNotNull()}class as extends uN{constructor(e,i,r,o,l){super(e,i,o,l),this.provider=r,this.authWindow=null,this.pollId=null,as.currentPopupAction&&as.currentPopupAction.cancel(),as.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Xd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,as.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,XG.get())};e()}}as.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz="pendingRedirect",Uh=new Map;class nz extends uN{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Uh.get(this.auth._key());if(!e){try{const r=await iz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Uh.set(this.auth._key(),e)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iz(t,e){const i=hN(e),r=cN(t);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}async function pb(t,e){return cN(t)._set(hN(e),"true")}function rz(){Uh.clear()}function gb(t,e){Uh.set(t._key(),e)}function cN(t){return Di(t._redirectPersistence)}function hN(t){return pa(tz,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t,e,i){return oz(t,e,i)}async function oz(t,e,i){const r=Sn(t);$u(t,e,Ts),await r._initializationPromise;const o=Ma(r,i);return await pb(o,r),o._openRedirect(r,e,"signInViaRedirect")}function az(t,e,i){return lz(t,e,i)}async function lz(t,e,i){const r=Le(t);$u(r.auth,e,Ts),await r.auth._initializationPromise;const o=Ma(r.auth,i);await pb(o,r.auth);const l=await dN(r);return o._openRedirect(r.auth,e,"reauthViaRedirect",l)}function uz(t,e,i){return cz(t,e,i)}async function cz(t,e,i){const r=Le(t);$u(r.auth,e,Ts),await r.auth._initializationPromise;const o=Ma(r.auth,i);await xv(!1,r,e.providerId),await pb(o,r.auth);const l=await dN(r);return o._openRedirect(r.auth,e,"linkViaRedirect",l)}async function hz(t,e){return await Sn(t)._initializationPromise,Lv(t,e,!1)}async function Lv(t,e,i=!1){const r=Sn(t),o=Ma(r,e),h=await new nz(r,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}async function dN(t){const e=Xd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=10*60*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fz(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!pN(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(Rn(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dz&&this.cachedEventUids.clear(),this.cachedEventUids.has(HT(e))}saveEventToCache(e){this.cachedEventUids.add(HT(e)),this.lastProcessedEventTime=Date.now()}}function HT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(t,e={}){return En(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gz=/^https?/;async function mz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gN(t);for(const i of e)try{if(vz(i))return}catch{}Dn(t,"unauthorized-domain")}function vz(t){const e=_d(),{protocol:i,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const h=new URL(t);return h.hostname===""&&r===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===r}if(!gz.test(i))return!1;if(pz.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=new Yd(3e4,6e4);function WT(){const t=sn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function wz(t){return new Promise((e,i)=>{var r,o,l;function h(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),i(Rn(t,"network-request-failed"))},timeout:yz.get()})}if(!((o=(r=sn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=sn().gapi)===null||l===void 0)&&l.load)h();else{const f=aN("iframefcb");return sn()[f]=()=>{gapi.load?h():i(Rn(t,"network-request-failed"))},oN(`https://apis.google.com/js/api.js?onload=${f}`).catch(g=>i(g))}}).catch(e=>{throw bg=null,e})}let bg=null;function _z(t){return bg=bg||wz(t),bg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=new Yd(5e3,15e3),Sz="__/auth/iframe",Ez="emulator/auth/iframe",Iz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kz(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?rb(e,Ez):`https://${t.config.authDomain}/${Sz}`,r={apiKey:e.apiKey,appName:t.name,v:ko},o=Cz.get(t.config.apiHost);o&&(r.eid=o);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${i}?${Du(r).slice(1)}`}async function Tz(t){const e=await _z(t),i=sn().gapi;return me(i,t,"internal-error"),e.open({where:document.body,url:kz(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iz,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const h=Rn(t,"network-request-failed"),f=sn().setTimeout(()=>{l(h)},bz.get());function g(){sn().clearTimeout(f),o(r)}r.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Az=500,Rz=600,Pz="_blank",Dz="http://localhost";class qT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nz(t,e,i,r=Az,o=Rz){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const g=Object.assign(Object.assign({},xz),{width:r.toString(),height:o.toString(),top:l,left:h}),v=Zt().toLowerCase();i&&(f=LD(v)?Pz:i),OD(v)&&(e=e||Dz,g.scrollbars="yes");const b=Object.entries(g).reduce((P,[$,j])=>`${P}${$}=${j},`,"");if(uV(v)&&f!=="_self")return Oz(e||"",f),new qT(null);const S=window.open(e||"",f,b);me(S,t,"popup-blocked");try{S.focus()}catch{}return new qT(S)}function Oz(t,e){const i=document.createElement("a");i.href=t,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="__/auth/handler",Mz="emulator/auth/handler";function Mw(t,e,i,r,o,l){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const h={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:r,v:ko,eventId:o};if(e instanceof Ts){e.setDefaultLanguage(t.languageCode),h.providerId=e.providerId||"",k6(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries(l||{}))h[g]=v}if(e instanceof zu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(h.scopes=g.join(","))}t.tenantId&&(h.tid=t.tenantId);const f=h;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];return`${Uz(t)}?${Du(f).slice(1)}`}function Uz({config:t}){return t.emulator?rb(t,Mz):`https://${t.authDomain}/${Lz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="webStorageSupport";class Fz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ta,this._completeRedirectFn=Lv,this._overrideRedirectResult=gb}async _openPopup(e,i,r,o){var l;pr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=Mw(e,i,r,_d(),o);return Nz(e,h,Xd())}async _openRedirect(e,i,r,o){return await this._originValidation(e),yG(Mw(e,i,r,_d(),o)),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:l}=this.eventManagers[i];return o?Promise.resolve(o):(pr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await Tz(e),r=new fN(e);return i.register("authEvent",o=>(me(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(n1,{type:n1},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[n1];h!==void 0&&i(!!h),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=mz(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return jD()||sb()||Vu()}}const jz=Fz;class Bz{constructor(e){this.factorId=e}_process(e,i,r){switch(i.type){case"enroll":return this._finalizeEnroll(e,i.credential,r);case"signin":return this._finalizeSignIn(e,i.credential);default:return Fr("unexpected MultiFactorSessionType")}}}class mb extends Bz{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new mb(e)}_finalizeEnroll(e,i,r){return cG(e,{idToken:i,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,i){return xG(e,{mfaPendingCredential:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class mN{constructor(){}static assertion(e){return mb._fromCredential(e)}}mN.FACTOR_ID="phone";var KT="@firebase/auth",YT="0.21.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Gz(t){vs(new Vr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),{apiKey:l,authDomain:h}=r.options;return((f,g)=>{me(l&&!l.includes(":"),"invalid-api-key",{appName:f.name}),me(!(h!=null&&h.includes(":")),"argument-error",{appName:f.name});const v={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BD(t)},b=new fV(f,g,v);return H$(b,i),b})(r,o)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),vs(new Vr("auth-internal",e=>{const i=Sn(e.getProvider("auth").getImmediate());return(r=>new $z(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(KT,YT,Vz(t)),qi(KT,YT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=5*60;y6("authIdTokenMaxAge");Gz("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=2e3;async function Wz(t,e,i){var r;const{BuildInfo:o}=Aa();pr(e.sessionId,"AuthEvent did not contain a session ID");const l=await Xz(e.sessionId),h={};return Vu()?h.ibi=o.packageName:Qd()?h.apn=o.packageName:Dn(t,"operation-not-supported-in-this-environment"),o.displayName&&(h.appDisplayName=o.displayName),h.sessionId=l,Mw(t,i,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,h)}async function qz(t){const{BuildInfo:e}=Aa(),i={};Vu()?i.iosBundleId=e.packageName:Qd()?i.androidPackageName=e.packageName:Dn(t,"operation-not-supported-in-this-environment"),await gN(t,i)}function Kz(t){const{cordova:e}=Aa();return new Promise(i=>{e.plugins.browsertab.isAvailable(r=>{let o=null;r?e.plugins.browsertab.openUrl(t):o=e.InAppBrowser.open(t,lV()?"_blank":"_system","location=yes"),i(o)})})}async function Yz(t,e,i){const{cordova:r}=Aa();let o=()=>{};try{await new Promise((l,h)=>{let f=null;function g(){var S;l();const P=(S=r.plugins.browsertab)===null||S===void 0?void 0:S.close;typeof P=="function"&&P(),typeof(i==null?void 0:i.close)=="function"&&i.close()}function v(){f||(f=window.setTimeout(()=>{h(Rn(t,"redirect-cancelled-by-user"))},Hz))}function b(){(document==null?void 0:document.visibilityState)==="visible"&&v()}e.addPassiveListener(g),document.addEventListener("resume",v,!1),Qd()&&document.addEventListener("visibilitychange",b,!1),o=()=>{e.removePassiveListener(g),document.removeEventListener("resume",v,!1),document.removeEventListener("visibilitychange",b,!1),f&&window.clearTimeout(f)}})}finally{o()}}function Qz(t){var e,i,r,o,l,h,f,g,v,b;const S=Aa();me(typeof((e=S==null?void 0:S.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((i=S==null?void 0:S.BuildInfo)===null||i===void 0?void 0:i.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((l=(o=(r=S==null?void 0:S.cordova)===null||r===void 0?void 0:r.plugins)===null||o===void 0?void 0:o.browsertab)===null||l===void 0?void 0:l.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((g=(f=(h=S==null?void 0:S.cordova)===null||h===void 0?void 0:h.plugins)===null||f===void 0?void 0:f.browsertab)===null||g===void 0?void 0:g.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((b=(v=S==null?void 0:S.cordova)===null||v===void 0?void 0:v.InAppBrowser)===null||b===void 0?void 0:b.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Xz(t){const e=Jz(t),i=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(i)).map(o=>o.toString(16).padStart(2,"0")).join("")}function Jz(t){if(pr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),i=new Uint8Array(e);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=20;class eH extends fN{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(i=>i(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function tH(t,e,i=null){return{type:e,eventId:i,urlResponse:null,sessionId:rH(),postBody:null,tenantId:t.tenantId,error:Rn(t,"no-auth-event")}}function nH(t,e){return Uw()._set(Fw(t),e)}async function QT(t){const e=await Uw()._get(Fw(t));return e&&await Uw()._remove(Fw(t)),e}function iH(t,e){var i,r;const o=oH(e);if(o.includes("/__/auth/callback")){const l=Sg(o),h=l.firebaseError?sH(decodeURIComponent(l.firebaseError)):null,f=(r=(i=h==null?void 0:h.code)===null||i===void 0?void 0:i.split("auth/"))===null||r===void 0?void 0:r[1],g=f?Rn(f):null;return g?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:g,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:o,postBody:null}}return null}function rH(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<Zz;i++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Uw(){return Di(cb)}function Fw(t){return pa("authEvent",t.config.apiKey,t.name)}function sH(t){try{return JSON.parse(t)}catch{return null}}function oH(t){const e=Sg(t),i=e.link?decodeURIComponent(e.link):void 0,r=Sg(i).link,o=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Sg(o).link||o||r||i||t}function Sg(t){if(!(t!=null&&t.includes("?")))return{};const[e,...i]=t.split("?");return Ql(i.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=500;class lH{constructor(){this._redirectPersistence=Ta,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lv,this._overrideRedirectResult=gb}async _initialize(e){const i=e._key();let r=this.eventManagers.get(i);return r||(r=new eH(e),this.eventManagers.set(i,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Dn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,i,r,o){Qz(e);const l=await this._initialize(e);await l.initialized(),l.resetRedirect(),rz(),await this._originValidation(e);const h=tH(e,r,o);await nH(e,h);const f=await Wz(e,h,i),g=await Kz(f);return Yz(e,l,g)}_isIframeWebStorageSupported(e,i){throw new Error("Method not implemented.")}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=qz(e)),this.originValidationPromises[i]}attachCallbackListeners(e,i){const{universalLinks:r,handleOpenURL:o,BuildInfo:l}=Aa(),h=setTimeout(async()=>{await QT(e),i.onEvent(XT())},aH),f=async b=>{clearTimeout(h);const S=await QT(e);let P=null;S&&(b!=null&&b.url)&&(P=iH(S,b.url)),i.onEvent(P||XT())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,f);const g=o,v=`${l.packageName.toLowerCase()}://`;Aa().handleOpenURL=async b=>{if(b.toLowerCase().startsWith(v)&&f({url:b}),typeof g=="function")try{g(b)}catch(S){console.error(S)}}}}const uH=lH;function XT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cH(t,e){Sn(t)._logFramework(e)}var hH="@firebase/auth-compat",dH="0.3.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=1e3;function Fh(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function pH(){return Fh()==="http:"||Fh()==="https:"}function vN(t=Zt()){return!!((Fh()==="file:"||Fh()==="ionic:"||Fh()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gH(){return j_()||F_()}function mH(){return mR()&&(document==null?void 0:document.documentMode)===11}function vH(t=Zt()){return/Edge\/\d+/.test(t)}function yH(t=Zt()){return mH()||vH(t)}function yN(){try{const t=self.localStorage,e=Xd();if(t)return t.setItem(e,"1"),t.removeItem(e),yH()?Qg():!0}catch{return vb()&&Qg()}return!1}function vb(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function i1(){return(pH()||gR()||vN())&&!gH()&&yN()&&!vb()}function wN(){return vN()&&typeof document<"u"}async function wH(){return wN()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},fH);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function _H(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi={LOCAL:"local",NONE:"none",SESSION:"session"},uh=me,_N="persistence";function bH(t,e){if(uh(Object.values(xi).includes(e),t,"invalid-persistence-type"),j_()){uh(e!==xi.SESSION,t,"unsupported-persistence-type");return}if(F_()){uh(e===xi.NONE,t,"unsupported-persistence-type");return}if(vb()){uh(e===xi.NONE||e===xi.LOCAL&&Qg(),t,"unsupported-persistence-type");return}uh(e===xi.NONE||yN(),t,"unsupported-persistence-type")}async function jw(t){await t._initializationPromise;const e=bN(),i=pa(_N,t.config.apiKey,t.name);e&&e.setItem(i,t._getPersistence())}function SH(t,e){const i=bN();if(!i)return[];const r=pa(_N,t,e);switch(i.getItem(r)){case xi.NONE:return[Tu];case xi.LOCAL:return[Id,Ta];case xi.SESSION:return[Ta];default:return[]}}function bN(){var t;try{return((t=_H())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=me;class no{constructor(){this.browserResolver=Di(jz),this.cordovaResolver=Di(uH),this.underlyingResolver=null,this._redirectPersistence=Ta,this._completeRedirectFn=Lv,this._overrideRedirectResult=gb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,i,r,o){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,i,r,o)}async _openRedirect(e,i,r,o){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,i,r,o)}_isIframeWebStorageSupported(e,i){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,i)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return wN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return EH(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await wH();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){return t.unwrap()}function IH(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(t){return EN(t)}function kH(t,e){var i;const r=(i=e.customData)===null||i===void 0?void 0:i._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const o=e;o.resolver=new TH(t,lG(t,e))}else if(r){const o=EN(e),l=e;o&&(l.credential=o,l.tenantId=r.tenantId||void 0,l.email=r.email||void 0,l.phoneNumber=r.phoneNumber||void 0)}}function EN(t){const{_tokenResponse:e}=t instanceof $n?t.customData:t;if(!e)return null;if(!(t instanceof $n)&&"temporaryProof"in e&&"phoneNumber"in e)return xa.credentialFromResult(t);const i=e.providerId;if(!i||i===lh.PASSWORD)return null;let r;switch(i){case lh.GOOGLE:r=Lr;break;case lh.FACEBOOK:r=Or;break;case lh.GITHUB:r=Mr;break;case lh.TWITTER:r=Ur;break;default:const{oauthIdToken:o,oauthAccessToken:l,oauthTokenSecret:h,pendingToken:f,nonce:g}=e;return!l&&!h&&!o&&!f?null:f?i.startsWith("saml.")?xu._create(i,f):zr._fromParams({providerId:i,signInMethod:i,pendingToken:f,idToken:o,accessToken:l}):new lu(i).credential({idToken:o,accessToken:l,rawNonce:g})}return t instanceof $n?r.credentialFromError(t):r.credentialFromResult(t)}function hi(t,e){return e.catch(i=>{throw i instanceof $n&&kH(t,i),i}).then(i=>{const r=i.operationType,o=i.user;return{operationType:r,credential:CH(i),additionalUserInfo:aG(i),user:ls.getOrCreate(o)}})}async function Bw(t,e){const i=await e;return{verificationId:i.verificationId,confirm:r=>hi(t,i.confirm(r))}}class TH{constructor(e,i){this.resolver=i,this.auth=IH(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return hi(SN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._delegate=e,this.multiFactor=dG(e)}static getOrCreate(e){return ls.USER_MAP.has(e)||ls.USER_MAP.set(e,new ls(e)),ls.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return hi(this.auth,YD(this._delegate,e))}async linkWithPhoneNumber(e,i){return Bw(this.auth,HG(this._delegate,e,i))}async linkWithPopup(e){return hi(this.auth,ez(this._delegate,e,no))}async linkWithRedirect(e){return await jw(Sn(this.auth)),uz(this._delegate,e,no)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return hi(this.auth,QD(this._delegate,e))}reauthenticateWithPhoneNumber(e,i){return Bw(this.auth,WG(this._delegate,e,i))}reauthenticateWithPopup(e){return hi(this.auth,ZG(this._delegate,e,no))}async reauthenticateWithRedirect(e){return await jw(Sn(this.auth)),az(this._delegate,e,no)}sendEmailVerification(e){return QV(this._delegate,e)}async unlink(e){return await MV(this._delegate,e),this}updateEmail(e){return eG(this._delegate,e)}updatePassword(e){return tG(this._delegate,e)}updatePhoneNumber(e){return qG(this._delegate,e)}updateProfile(e){return ZV(this._delegate,e)}verifyBeforeUpdateEmail(e,i){return XV(this._delegate,e,i)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ls.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=me;class $w{constructor(e,i){if(this.app=e,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;ch(r,"invalid-api-key",{appName:e.name}),ch(r,"invalid-api-key",{appName:e.name});const o=typeof window<"u"?no:void 0;this._delegate=i.initialize({options:{persistence:xH(r,e.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(G$),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,i){pV(this._delegate,e,i)}applyActionCode(e){return $V(this._delegate,e)}checkActionCode(e){return XD(this._delegate,e)}confirmPasswordReset(e,i){return BV(this._delegate,e,i)}async createUserWithEmailAndPassword(e,i){return hi(this._delegate,GV(this._delegate,e,i))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return YV(this._delegate,e)}isSignInWithEmailLink(e){return WV(this._delegate,e)}async getRedirectResult(){ch(i1(),this._delegate,"operation-not-supported-in-this-environment");const e=await hz(this._delegate,no);return e?hi(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){cH(this._delegate,e)}onAuthStateChanged(e,i,r){const{next:o,error:l,complete:h}=JT(e,i,r);return this._delegate.onAuthStateChanged(o,l,h)}onIdTokenChanged(e,i,r){const{next:o,error:l,complete:h}=JT(e,i,r);return this._delegate.onIdTokenChanged(o,l,h)}sendSignInLinkToEmail(e,i){return HV(this._delegate,e,i)}sendPasswordResetEmail(e,i){return jV(this._delegate,e,i||void 0)}async setPersistence(e){bH(this._delegate,e);let i;switch(e){case xi.SESSION:i=Ta;break;case xi.LOCAL:i=await Di(Id)._isAvailable()?Id:cb;break;case xi.NONE:i=Tu;break;default:return Dn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return hi(this._delegate,LV(this._delegate))}signInWithCredential(e){return hi(this._delegate,Av(this._delegate,e))}signInWithCustomToken(e){return hi(this._delegate,FV(this._delegate,e))}signInWithEmailAndPassword(e,i){return hi(this._delegate,zV(this._delegate,e,i))}signInWithEmailLink(e,i){return hi(this._delegate,qV(this._delegate,e,i))}signInWithPhoneNumber(e,i){return Bw(this._delegate,zG(this._delegate,e,i))}async signInWithPopup(e){return ch(i1(),this._delegate,"operation-not-supported-in-this-environment"),hi(this._delegate,JG(this._delegate,e,no))}async signInWithRedirect(e){return ch(i1(),this._delegate,"operation-not-supported-in-this-environment"),await jw(this._delegate),sz(this._delegate,e,no)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return VV(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}$w.Persistence=xi;function JT(t,e,i){let r=t;typeof t!="function"&&({next:r,error:e,complete:i}=t);const o=r;return{next:h=>o(h&&ls.getOrCreate(h)),error:e,complete:i}}function xH(t,e){const i=SH(t,e);if(typeof self<"u"&&!i.includes(Id)&&i.push(Id),typeof window<"u")for(const r of[cb,Ta])i.includes(r)||i.push(r);return i.includes(Tu)||i.push(Tu),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.providerId="phone",this._delegate=new xa(SN(Te.auth()))}static credential(e,i){return xa.credential(e,i)}verifyPhoneNumber(e,i){return this._delegate.verifyPhoneNumber(e,i)}unwrap(){return this._delegate}}yb.PHONE_SIGN_IN_METHOD=xa.PHONE_SIGN_IN_METHOD;yb.PROVIDER_ID=xa.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=me;class RH{constructor(e,i,r=Te.app()){var o;AH((o=r.options)===null||o===void 0?void 0:o.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new VG(e,i,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="auth-compat";function DH(t){t.INTERNAL.registerComponent(new Vr(PH,e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new $w(i,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ll.EMAIL_SIGNIN,PASSWORD_RESET:Ll.PASSWORD_RESET,RECOVER_EMAIL:Ll.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ll.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ll.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ll.VERIFY_EMAIL}},EmailAuthProvider:Ro,FacebookAuthProvider:Or,GithubAuthProvider:Mr,GoogleAuthProvider:Lr,OAuthProvider:lu,SAMLAuthProvider:vm,PhoneAuthProvider:yb,PhoneMultiFactorGenerator:mN,RecaptchaVerifier:RH,TwitterAuthProvider:Ur,Auth:$w,AuthCredential:Gu,Error:$n}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(hH,dH)}DH(Te);var Vw={},NH={get exports(){return Vw},set exports(t){Vw=t}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(D,C){C=C||{};var x=document.createEvent("CustomEvent");return x.initCustomEvent(D,!!C.bubbles,!!C.cancelable,C.detail||null),x},e.prototype=window.Event.prototype);function i(I){for(;I&&I!==document.body;){var D=window.getComputedStyle(I),C=function(x,O){return!(D[x]===void 0||D[x]===O)};if(D.opacity<1||C("zIndex","auto")||C("transform","none")||C("mixBlendMode","normal")||C("filter","none")||C("perspective","none")||D.isolation==="isolate"||D.position==="fixed"||D.webkitOverflowScrolling==="touch")return!0;I=I.parentElement}return!1}function r(I){for(;I;){if(I.localName==="dialog")return I;I=I.parentElement}return null}function o(I){I&&I.blur&&I!==document.body&&I.blur()}function l(I,D){for(var C=0;C<I.length;++C)if(I[C]===D)return!0;return!1}function h(I){return!I||!I.hasAttribute("method")?!1:I.getAttribute("method").toLowerCase()==="dialog"}function f(I){if(this.dialog_=I,this.replacedStyleTop_=!1,this.openAsModal_=!1,I.hasAttribute("role")||I.setAttribute("role","dialog"),I.show=this.show.bind(this),I.showModal=this.showModal.bind(this),I.close=this.close.bind(this),"returnValue"in I||(I.returnValue=""),"MutationObserver"in window){var D=new MutationObserver(this.maybeHideModal.bind(this));D.observe(I,{attributes:!0,attributeFilter:["open"]})}else{var C=!1,x=function(){C?this.downgradeModal():this.maybeHideModal(),C=!1}.bind(this),O,L=function(N){if(N.target===I){var H="DOMNodeRemoved";C|=N.type.substr(0,H.length)===H,window.clearTimeout(O),O=window.setTimeout(x,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(N){I.addEventListener(N,L)})}Object.defineProperty(I,"open",{set:this.setOpen.bind(this),get:I.hasAttribute.bind(I,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}f.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),g.dm.removeDialog(this))},setOpen:function(I){I?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(I){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var D=document.createElement("div");this.dialog_.insertBefore(D,this.dialog_.firstChild),D.tabIndex=-1,D.focus(),this.dialog_.removeChild(D)}var C=document.createEvent("MouseEvents");C.initMouseEvent(I.type,I.bubbles,I.cancelable,window,I.detail,I.screenX,I.screenY,I.clientX,I.clientY,I.ctrlKey,I.altKey,I.shiftKey,I.metaKey,I.button,I.relatedTarget),this.dialog_.dispatchEvent(C),I.stopPropagation()},focus_:function(){var I=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!I&&this.dialog_.tabIndex>=0&&(I=this.dialog_),!I){var D=["button","input","keygen","select","textarea"],C=D.map(function(x){return x+":not([disabled])"});C.push('[tabindex]:not([disabled]):not([tabindex=""])'),I=this.dialog_.querySelector(C.join(", "))}o(document.activeElement),I&&I.focus()},updateZIndex:function(I,D){if(I<D)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=I,this.backdrop_.style.zIndex=D},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!g.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");i(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,g.needsCentering(this.dialog_)?(g.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(I){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),I!==void 0&&(this.dialog_.returnValue=I);var D=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(D)}};var g={};if(g.reposition=function(I){var D=document.body.scrollTop||document.documentElement.scrollTop,C=D+(window.innerHeight-I.offsetHeight)/2;I.style.top=Math.max(D,C)+"px"},g.isInlinePositionSetByStylesheet=function(I){for(var D=0;D<document.styleSheets.length;++D){var C=document.styleSheets[D],x=null;try{x=C.cssRules}catch{}if(x)for(var O=0;O<x.length;++O){var L=x[O],N=null;try{N=document.querySelectorAll(L.selectorText)}catch{}if(!(!N||!l(N,I))){var H=L.style.getPropertyValue("top"),F=L.style.getPropertyValue("bottom");if(H&&H!=="auto"||F&&F!=="auto")return!0}}}return!1},g.needsCentering=function(I){var D=window.getComputedStyle(I);return D.position!=="absolute"||I.style.top!=="auto"&&I.style.top!==""||I.style.bottom!=="auto"&&I.style.bottom!==""?!1:!g.isInlinePositionSetByStylesheet(I)},g.forceRegisterDialog=function(I){if((window.HTMLDialogElement||I.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",I),I.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new f(I)},g.registerDialog=function(I){I.showModal||g.forceRegisterDialog(I)},g.DialogManager=function(){this.pendingDialogStack=[];var I=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(D){this.forwardTab_=void 0,D.stopPropagation(),I([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(D){var C=[];D.forEach(function(x){for(var O=0,L;L=x.removedNodes[O];++O){if(L instanceof Element)L.localName==="dialog"&&C.push(L);else continue;C=C.concat(L.querySelectorAll("dialog"))}}),C.length&&I(C)}))},g.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},g.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},g.DialogManager.prototype.updateStacking=function(){for(var I=this.zIndexHigh_,D=0,C;C=this.pendingDialogStack[D];++D)C.updateZIndex(--I,--I),D===0&&(this.overlay.style.zIndex=--I);var x=this.pendingDialogStack[0];if(x){var O=x.dialog.parentNode||document.body;O.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},g.DialogManager.prototype.containedByTopDialog_=function(I){for(;I=r(I);){for(var D=0,C;C=this.pendingDialogStack[D];++D)if(C.dialog===I)return D===0;I=I.parentElement}return!1},g.DialogManager.prototype.handleFocus_=function(I){if(!this.containedByTopDialog_(I.target)&&(I.preventDefault(),I.stopPropagation(),o(I.target),this.forwardTab_!==void 0)){var D=this.pendingDialogStack[0],C=D.dialog,x=C.compareDocumentPosition(I.target);return x&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?D.focus_():document.documentElement.focus()),!1}},g.DialogManager.prototype.handleKey_=function(I){if(this.forwardTab_=void 0,I.keyCode===27){I.preventDefault(),I.stopPropagation();var D=new e("cancel",{bubbles:!1,cancelable:!0}),C=this.pendingDialogStack[0];C&&C.dialog.dispatchEvent(D)&&C.dialog.close()}else I.keyCode===9&&(this.forwardTab_=!I.shiftKey)},g.DialogManager.prototype.checkDOM_=function(I){var D=this.pendingDialogStack.slice();D.forEach(function(C){I.indexOf(C.dialog)!==-1?C.downgradeModal():C.maybeHideModal()})},g.DialogManager.prototype.pushDialog=function(I){var D=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=D?!1:(this.pendingDialogStack.unshift(I)===1&&this.blockDocument(),this.updateStacking(),!0)},g.DialogManager.prototype.removeDialog=function(I){var D=this.pendingDialogStack.indexOf(I);D!==-1&&(this.pendingDialogStack.splice(D,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},g.dm=new g.DialogManager,g.formSubmitter=null,g.useValue=null,window.HTMLDialogElement===void 0){var v=document.createElement("form");if(v.setAttribute("method","dialog"),v.method!=="dialog"){var b=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(b){var S=b.get;b.get=function(){return h(this)?"dialog":S.call(this)};var P=b.set;b.set=function(I){return typeof I=="string"&&I.toLowerCase()==="dialog"?this.setAttribute("method",I):P.call(this,I)},Object.defineProperty(HTMLFormElement.prototype,"method",b)}}document.addEventListener("click",function(I){if(g.formSubmitter=null,g.useValue=null,!I.defaultPrevented){var D=I.target;if(!(!D||!h(D.form))){var C=D.type==="submit"&&["button","input"].indexOf(D.localName)>-1;if(!C){if(!(D.localName==="input"&&D.type==="image"))return;g.useValue=I.offsetX+","+I.offsetY}var x=r(D);x&&(g.formSubmitter=D)}}},!1);var $=HTMLFormElement.prototype.submit,j=function(){if(!h(this))return $.call(this);var I=r(this);I&&I.close()};HTMLFormElement.prototype.submit=j,document.addEventListener("submit",function(I){var D=I.target;if(h(D)){I.preventDefault();var C=r(D);if(C){var x=g.formSubmitter;x&&x.form===D?C.close(g.useValue||x.value):C.close(),g.formSubmitter=null}}},!0)}g.forceRegisterDialog=g.forceRegisterDialog,g.registerDialog=g.registerDialog,typeof t.exports=="object"?t.exports=g:window.dialogPolyfill=g})()})(NH);const OH=Vw;/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};Pt=function(){var t=[],e=[],i="mdlComponentConfigInternal_";function r(I,D){for(var C=0;C<t.length;C++)if(t[C].className===I)return typeof D<"u"&&(t[C]=D),t[C];return!1}function o(I){var D=I.getAttribute("data-upgraded");return D===null?[""]:D.split(",")}function l(I,D){var C=o(I);return C.indexOf(D)!==-1}function h(I,D,C){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(I,{bubbles:D,cancelable:C});var x=document.createEvent("Events");return x.initEvent(I,D,C),x}function f(I,D){if(typeof I>"u"&&typeof D>"u")for(var C=0;C<t.length;C++)f(t[C].className,t[C].cssClass);else{var x=I;if(typeof D>"u"){var O=r(x);O&&(D=O.cssClass)}for(var L=document.querySelectorAll("."+D),N=0;N<L.length;N++)g(L[N],x)}}function g(I,D){if(!(typeof I=="object"&&I instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var C=h("mdl-componentupgrading",!0,!0);if(I.dispatchEvent(C),!C.defaultPrevented){var x=o(I),O=[];if(D)l(I,D)||O.push(r(D));else{var L=I.classList;t.forEach(function(W){L.contains(W.cssClass)&&O.indexOf(W)===-1&&!l(I,W.className)&&O.push(W)})}for(var N=0,H=O.length,F;N<H;N++){if(F=O[N],F){x.push(F.className),I.setAttribute("data-upgraded",x.join(","));var q=new F.classConstructor(I);q[i]=F,e.push(q);for(var se=0,Z=F.callbacks.length;se<Z;se++)F.callbacks[se](I);F.widget&&(I[F.className]=q)}else throw new Error("Unable to find a registered component for the given class.");var z=h("mdl-componentupgraded",!0,!1);I.dispatchEvent(z)}}}function v(I){Array.isArray(I)||(I instanceof Element?I=[I]:I=Array.prototype.slice.call(I));for(var D=0,C=I.length,x;D<C;D++)x=I[D],x instanceof HTMLElement&&(g(x),x.children.length>0&&v(x.children))}function b(I){var D=typeof I.widget>"u"&&typeof I.widget>"u",C=!0;D||(C=I.widget||I.widget);var x={classConstructor:I.constructor||I.constructor,className:I.classAsString||I.classAsString,cssClass:I.cssClass||I.cssClass,widget:C,callbacks:[]};if(t.forEach(function(L){if(L.cssClass===x.cssClass)throw new Error("The provided cssClass has already been registered: "+L.cssClass);if(L.className===x.className)throw new Error("The provided className has already been registered")}),I.constructor.prototype.hasOwnProperty(i))throw new Error("MDL component classes must not have "+i+" defined as a property.");var O=r(I.classAsString,x);O||t.push(x)}function S(I,D){var C=r(I);C&&C.callbacks.push(D)}function P(){for(var I=0;I<t.length;I++)f(t[I].className)}function $(I){if(I){var D=e.indexOf(I);e.splice(D,1);var C=I.element_.getAttribute("data-upgraded").split(","),x=C.indexOf(I[i].classAsString);C.splice(x,1),I.element_.setAttribute("data-upgraded",C.join(","));var O=h("mdl-componentdowngraded",!0,!1);I.element_.dispatchEvent(O)}}function j(I){var D=function(x){e.filter(function(O){return O.element_===x}).forEach($)};if(I instanceof Array||I instanceof NodeList)for(var C=0;C<I.length;C++)D(I[C]);else if(I instanceof Node)D(I);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:f,upgradeElement:g,upgradeElements:v,upgradeAllRegistered:P,registerUpgradedCallback:S,register:b,downgradeElements:j}}();Pt.ComponentConfigPublic;Pt.ComponentConfig;Pt.Component;Pt.upgradeDom=Pt.upgradeDom;Pt.upgradeElement=Pt.upgradeElement;Pt.upgradeElements=Pt.upgradeElements;Pt.upgradeAllRegistered=Pt.upgradeAllRegistered;Pt.registerUpgradedCallback=Pt.registerUpgradedCallback;Pt.register=Pt.register;Pt.downgradeElements=Pt.downgradeElements;window.componentHandler=Pt;window.componentHandler=Pt;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Pt.upgradeAllRegistered()):(Pt.upgradeElement=function(){},Pt.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(i){this.element_=i,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(i){this.element_=i,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(i){this.element_=i,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),i.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var l=document.createElement("div");l.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),l.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var h=[r,o,l],f=0;f<h.length;f++){var g=document.createElement("div");g.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),h[f].appendChild(g)}i.appendChild(r),i.appendChild(o),i.appendChild(l),this.element_.appendChild(i)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(i){this.element_=i,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var i=e.target.value.split(`
`).length;e.keyCode===13&&i>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(s){function a(){}return a.prototype=s,new a},i;if(typeof Object.setPrototypeOf=="function")i=Object.setPrototypeOf;else{var r;e:{var o={xb:!0},l={};try{l.__proto__=o,r=l.xb;break e}catch{}r=!1}i=r?function(s,a){if(s.__proto__=a,s.__proto__!==a)throw new TypeError(s+" is not extensible");return s}:null}var h=i;function f(s,a){if(s.prototype=e(a.prototype),s.prototype.constructor=s,h)h(s,a);else for(var u in a)if(u!="prototype")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(a,u);d&&Object.defineProperty(s,u,d)}else s[u]=a[u];s.K=a.prototype}var g=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,a,u){s!=Array.prototype&&s!=Object.prototype&&(s[a]=u.value)},v=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function b(s,a){if(a){var u=v;s=s.split(".");for(var d=0;d<s.length-1;d++){var m=s[d];m in u||(u[m]={}),u=u[m]}s=s[s.length-1],d=u[s],a=a(d),a!=d&&a!=null&&g(u,s,{configurable:!0,writable:!0,value:a})}}b("Object.is",function(s){return s||function(a,u){return a===u?a!==0||1/a===1/u:a!==a&&u!==u}}),b("Array.prototype.includes",function(s){return s||function(a,u){var d=this;d instanceof String&&(d=String(d));var m=d.length;for(u=u||0,0>u&&(u=Math.max(u+m,0));u<m;u++){var w=d[u];if(w===a||Object.is(w,a))return!0}return!1}});var S=this;function P(s){return s!==void 0}function $(s){return typeof s=="string"}var j=/^[\w+/_-]+[=]{0,2}$/,I=null;function D(){}function C(s){s.W=void 0,s.Xa=function(){return s.W?s.W:s.W=new s}}function x(s){var a=typeof s;if(a=="object")if(s){if(s instanceof Array)return"array";if(s instanceof Object)return a;var u=Object.prototype.toString.call(s);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof s.length=="number"&&typeof s.splice<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof s.call<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof s.call>"u")return"object";return a}function O(s){return x(s)=="array"}function L(s){var a=x(s);return a=="array"||a=="object"&&typeof s.length=="number"}function N(s){return x(s)=="function"}function H(s){var a=typeof s;return a=="object"&&s!=null||a=="function"}var F="closure_uid_"+(1e9*Math.random()>>>0),q=0;function se(s,a,u){return s.call.apply(s.bind,arguments)}function Z(s,a,u){if(!s)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,d),s.apply(a,m)}}return function(){return s.apply(a,arguments)}}function z(s,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?z=se:z=Z,z.apply(null,arguments)}function W(s,a){var u=Array.prototype.slice.call(arguments,1);return function(){var d=u.slice();return d.push.apply(d,arguments),s.apply(this,d)}}function U(s,a){for(var u in a)s[u]=a[u]}var ne=Date.now||function(){return+new Date};function J(s,a){s=s.split(".");var u=S;s[0]in u||typeof u.execScript>"u"||u.execScript("var "+s[0]);for(var d;s.length&&(d=s.shift());)!s.length&&P(a)?u[d]=a:u[d]&&u[d]!==Object.prototype[d]?u=u[d]:u=u[d]={}}function Q(s,a){function u(){}u.prototype=a.prototype,s.K=a.prototype,s.prototype=new u,s.prototype.constructor=s,s.vc=function(d,m,w){for(var R=Array(arguments.length-2),V=2;V<arguments.length;V++)R[V-2]=arguments[V];return a.prototype[m].apply(d,R)}}function oe(s){if(Error.captureStackTrace)Error.captureStackTrace(this,oe);else{var a=Error().stack;a&&(this.stack=a)}s&&(this.message=String(s))}Q(oe,Error),oe.prototype.name="CustomError";var K;function ie(s,a){s=s.split("%s");for(var u="",d=s.length-1,m=0;m<d;m++)u+=s[m]+(m<a.length?a[m]:"%s");oe.call(this,u+s[d])}Q(ie,oe),ie.prototype.name="AssertionError";function he(s,a){throw new ie("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}var ye=Array.prototype.indexOf?function(s,a){return Array.prototype.indexOf.call(s,a,void 0)}:function(s,a){if($(s))return $(a)&&a.length==1?s.indexOf(a,0):-1;for(var u=0;u<s.length;u++)if(u in s&&s[u]===a)return u;return-1},Ie=Array.prototype.forEach?function(s,a,u){Array.prototype.forEach.call(s,a,u)}:function(s,a,u){for(var d=s.length,m=$(s)?s.split(""):s,w=0;w<d;w++)w in m&&a.call(u,m[w],w,s)};function _e(s,a){for(var u=$(s)?s.split(""):s,d=s.length-1;0<=d;--d)d in u&&a.call(void 0,u[d],d,s)}var qe=Array.prototype.filter?function(s,a){return Array.prototype.filter.call(s,a,void 0)}:function(s,a){for(var u=s.length,d=[],m=0,w=$(s)?s.split(""):s,R=0;R<u;R++)if(R in w){var V=w[R];a.call(void 0,V,R,s)&&(d[m++]=V)}return d},it=Array.prototype.map?function(s,a){return Array.prototype.map.call(s,a,void 0)}:function(s,a){for(var u=s.length,d=Array(u),m=$(s)?s.split(""):s,w=0;w<u;w++)w in m&&(d[w]=a.call(void 0,m[w],w,s));return d},rt=Array.prototype.some?function(s,a){return Array.prototype.some.call(s,a,void 0)}:function(s,a){for(var u=s.length,d=$(s)?s.split(""):s,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,s))return!0;return!1};function He(s,a){return 0<=ye(s,a)}function yi(s,a){a=ye(s,a);var u;return(u=0<=a)&&si(s,a),u}function si(s,a){return Array.prototype.splice.call(s,a,1).length==1}function Po(s,a){e:{for(var u=s.length,d=$(s)?s.split(""):s,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,s)){a=m;break e}a=-1}0<=a&&si(s,a)}function Ua(s,a){var u=0;_e(s,function(d,m){a.call(void 0,d,m,s)&&si(s,m)&&u++})}function Hu(s){return Array.prototype.concat.apply([],arguments)}function Do(s){var a=s.length;if(0<a){for(var u=Array(a),d=0;d<a;d++)u[d]=s[d];return u}return[]}function Zd(s,a,u){return 2>=arguments.length?Array.prototype.slice.call(s,a):Array.prototype.slice.call(s,a,u)}var Nt=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},Wu=/&/g,Uv=/</g,Fv=/>/g,xe=/"/g,ut=/'/g,qn=/\x00/g,No=/[\x00&<>"']/;function Fa(s,a){return s<a?-1:s>a?1:0}function gr(s){return No.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(Wu,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(Uv,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(Fv,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(xe,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(ut,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(qn,"&#0;"))),s}function ja(s,a,u){for(var d in s)a.call(u,s[d],d,s)}function Ba(s){var a={},u;for(u in s)a[u]=s[u];return a}var qu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mr(s,a){for(var u,d,m=1;m<arguments.length;m++){d=arguments[m];for(u in d)s[u]=d[u];for(var w=0;w<qu.length;w++)u=qu[w],Object.prototype.hasOwnProperty.call(d,u)&&(s[u]=d[u])}}var Hr="StopIteration"in S?S.StopIteration:{message:"StopIteration",stack:""};function vr(){}vr.prototype.next=function(){throw Hr},vr.prototype.ha=function(){return this};function Ku(s){if(s instanceof vr)return s;if(typeof s.ha=="function")return s.ha(!1);if(L(s)){var a=0,u=new vr;return u.next=function(){for(;;){if(a>=s.length)throw Hr;if(a in s)return s[a++];a++}},u}throw Error("Not implemented")}function ef(s,a){if(L(s))try{Ie(s,a,void 0)}catch(u){if(u!==Hr)throw u}else{s=Ku(s);try{for(;;)a.call(void 0,s.next(),void 0,s)}catch(u){if(u!==Hr)throw u}}}function tf(s){if(L(s))return Do(s);s=Ku(s);var a=[];return ef(s,function(u){a.push(u)}),a}function Oo(s,a){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var d=0;d<u;d+=2)this.set(arguments[d],arguments[d+1])}else if(s)if(s instanceof Oo)for(u=s.ja(),d=0;d<u.length;d++)this.set(u[d],s.get(u[d]));else for(d in s)this.set(d,s[d])}t=Oo.prototype,t.la=function(){yr(this);for(var s=[],a=0;a<this.a.length;a++)s.push(this.g[this.a[a]]);return s},t.ja=function(){return yr(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function yr(s){if(s.h!=s.a.length){for(var a=0,u=0;a<s.a.length;){var d=s.a[a];wi(s.g,d)&&(s.a[u++]=d),a++}s.a.length=u}if(s.h!=s.a.length){var m={};for(u=a=0;a<s.a.length;)d=s.a[a],wi(m,d)||(s.a[u++]=d,m[d]=1),a++;s.a.length=u}}t.get=function(s,a){return wi(this.g,s)?this.g[s]:a},t.set=function(s,a){wi(this.g,s)||(this.h++,this.a.push(s),this.j++),this.g[s]=a},t.forEach=function(s,a){for(var u=this.ja(),d=0;d<u.length;d++){var m=u[d],w=this.get(m);s.call(a,w,m,this)}},t.ha=function(s){yr(this);var a=0,u=this.j,d=this,m=new vr;return m.next=function(){if(u!=d.j)throw Error("The map has changed since the iterator was created");if(a>=d.a.length)throw Hr;var w=d.a[a++];return s?w:d.g[w]},m};function wi(s,a){return Object.prototype.hasOwnProperty.call(s,a)}var xs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lo(s,a){if(s){s=s.split("&");for(var u=0;u<s.length;u++){var d=s[u].indexOf("="),m=null;if(0<=d){var w=s[u].substring(0,d);m=s[u].substring(d+1)}else w=s[u];a(w,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Mo(s,a,u,d){for(var m=u.length;0<=(a=s.indexOf(u,a))&&a<d;){var w=s.charCodeAt(a-1);if((w==38||w==63)&&(w=s.charCodeAt(a+m),!w||w==61||w==38||w==35))return a;a+=m+1}return-1}var Uo=/#|$/;function Wr(s,a){var u=s.search(Uo),d=Mo(s,0,a,u);if(0>d)return null;var m=s.indexOf("&",d);return(0>m||m>u)&&(m=u),d+=a.length+1,decodeURIComponent(s.substr(d,m-d).replace(/\+/g," "))}var $a=/[?&]($|#)/;function Bi(s,a){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;s instanceof Bi?(this.i=P(a)?a:s.i,Va(this,s.j),this.A=s.A,this.h=s.h,Ga(this,s.C),this.g=s.g,za(this,Xu(s.a)),this.s=s.s):s&&(u=String(s).match(xs))?(this.i=!!a,Va(this,u[1]||"",!0),this.A=qr(u[2]||""),this.h=qr(u[3]||"",!0),Ga(this,u[4]),this.g=qr(u[5]||"",!0),za(this,u[6]||"",!0),this.s=qr(u[7]||"")):(this.i=!!a,this.a=new Ps(null,this.i))}Bi.prototype.toString=function(){var s=[],a=this.j;a&&s.push(Fo(a,As,!0),":");var u=this.h;return(u||a=="file")&&(s.push("//"),(a=this.A)&&s.push(Fo(a,As,!0),"@"),s.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&s.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&s.push("/"),s.push(Fo(u,u.charAt(0)=="/"?nf:Rs,!0))),(u=this.a.toString())&&s.push("?",u),(u=this.s)&&s.push("#",Fo(u,qa)),s.join("")};function Va(s,a,u){s.j=u?qr(a,!0):a,s.j&&(s.j=s.j.replace(/:$/,""))}function Ga(s,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);s.C=a}else s.C=null}function za(s,a,u){a instanceof Ps?(s.a=a,Ju(s.a,s.i)):(u||(a=Fo(a,Wa)),s.a=new Ps(a,s.i))}function Ha(s){return s instanceof Bi?new Bi(s):new Bi(s,void 0)}function qr(s,a){return s?a?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Fo(s,a,u){return $(s)?(s=encodeURI(s).replace(a,Yu),u&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Yu(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var As=/[#\/\?@]/g,Rs=/[#\?:]/g,nf=/[#\?]/g,Wa=/[#\?@]/g,qa=/#/g;function Ps(s,a){this.g=this.a=null,this.h=s||null,this.j=!!a}function Xi(s){s.a||(s.a=new Oo,s.g=0,s.h&&Lo(s.h,function(a,u){s.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}t=Ps.prototype,t.add=function(s,a){Xi(this),this.h=null,s=_r(this,s);var u=this.a.get(s);return u||this.a.set(s,u=[]),u.push(a),this.g+=1,this};function wr(s,a){Xi(s),a=_r(s,a),wi(s.a.g,a)&&(s.h=null,s.g-=s.a.get(a).length,s=s.a,wi(s.g,a)&&(delete s.g[a],s.h--,s.j++,s.a.length>2*s.h&&yr(s)))}t.clear=function(){this.a=this.h=null,this.g=0};function Qu(s,a){return Xi(s),a=_r(s,a),wi(s.a.g,a)}t.forEach=function(s,a){Xi(this),this.a.forEach(function(u,d){Ie(u,function(m){s.call(a,m,d,this)},this)},this)},t.ja=function(){Xi(this);for(var s=this.a.la(),a=this.a.ja(),u=[],d=0;d<a.length;d++)for(var m=s[d],w=0;w<m.length;w++)u.push(a[d]);return u},t.la=function(s){Xi(this);var a=[];if($(s))Qu(this,s)&&(a=Hu(a,this.a.get(_r(this,s))));else{s=this.a.la();for(var u=0;u<s.length;u++)a=Hu(a,s[u])}return a},t.set=function(s,a){return Xi(this),this.h=null,s=_r(this,s),Qu(this,s)&&(this.g-=this.a.get(s).length),this.a.set(s,[a]),this.g+=1,this},t.get=function(s,a){return s?(s=this.la(s),0<s.length?String(s[0]):a):a},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var s=[],a=this.a.ja(),u=0;u<a.length;u++){var d=a[u],m=encodeURIComponent(String(d));d=this.la(d);for(var w=0;w<d.length;w++){var R=m;d[w]!==""&&(R+="="+encodeURIComponent(String(d[w]))),s.push(R)}}return this.h=s.join("&")};function Xu(s){var a=new Ps;return a.h=s.h,s.a&&(a.a=new Oo(s.a),a.g=s.g),a}function _r(s,a){return a=String(a),s.j&&(a=a.toLowerCase()),a}function Ju(s,a){a&&!s.j&&(Xi(s),s.h=null,s.a.forEach(function(u,d){var m=d.toLowerCase();d!=m&&(wr(this,d),wr(this,m),0<u.length&&(this.h=null,this.a.set(_r(this,m),Do(u)),this.g+=u.length))},s)),s.j=a}function _i(s){this.a=Ha(s)}function ve(s,a){a?s.a.a.set(St.Sa,a):wr(s.a.a,St.Sa)}function rf(s,a){a!==null?s.a.a.set(St.Qa,a?"1":"0"):wr(s.a.a,St.Qa)}function sf(s){return s.a.a.get(St.Pa)||null}function br(s,a){a?s.a.a.set(St.PROVIDER_ID,a):wr(s.a.a,St.PROVIDER_ID)}_i.prototype.toString=function(){return this.a.toString()};var St={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Sr;e:{var Ka=S.navigator;if(Ka){var oi=Ka.userAgent;if(oi){Sr=oi;break e}}Sr=""}function ze(s){return Sr.indexOf(s)!=-1}function of(){return(ze("Chrome")||ze("CriOS"))&&!ze("Edge")}function Ya(s){return Ya[" "](s),s}Ya[" "]=D;function jv(s,a){var u=Ja;return Object.prototype.hasOwnProperty.call(u,s)?u[s]:u[s]=a(s)}var Et=ze("Opera"),ft=ze("Trident")||ze("MSIE"),fn=ze("Edge"),Bv=fn||ft,ai=ze("Gecko")&&!(Sr.toLowerCase().indexOf("webkit")!=-1&&!ze("Edge"))&&!(ze("Trident")||ze("MSIE"))&&!ze("Edge"),In=Sr.toLowerCase().indexOf("webkit")!=-1&&!ze("Edge"),$v=In&&ze("Mobile"),en=ze("Macintosh");function Ds(){var s=S.document;return s?s.documentMode:void 0}var Ns;e:{var tn="",Qa=function(){var s=Sr;if(ai)return/rv:([^\);]+)(\)|;)/.exec(s);if(fn)return/Edge\/([\d\.]+)/.exec(s);if(ft)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(In)return/WebKit\/(\S+)/.exec(s);if(Et)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(Qa&&(tn=Qa?Qa[1]:""),ft){var Xa=Ds();if(Xa!=null&&Xa>parseFloat(tn)){Ns=String(Xa);break e}}Ns=tn}var Ja={};function Kr(s){return jv(s,function(){for(var a=0,u=Nt(String(Ns)).split("."),d=Nt(String(s)).split("."),m=Math.max(u.length,d.length),w=0;a==0&&w<m;w++){var R=u[w]||"",V=d[w]||"";do{if(R=/(\d*)(\D*)(.*)/.exec(R)||["","","",""],V=/(\d*)(\D*)(.*)/.exec(V)||["","","",""],R[0].length==0&&V[0].length==0)break;a=Fa(R[1].length==0?0:parseInt(R[1],10),V[1].length==0?0:parseInt(V[1],10))||Fa(R[2].length==0,V[2].length==0)||Fa(R[2],V[2]),R=R[3],V=V[3]}while(a==0)}return 0<=a})}var Os,af=S.document;Os=af&&ft?Ds()||(af.compatMode=="CSS1Compat"?parseInt(Ns,10):5):void 0;function Er(s,a){this.a=s===Zu&&a||"",this.g=Za}Er.prototype.ma=!0,Er.prototype.ka=function(){return this.a},Er.prototype.toString=function(){return"Const{"+this.a+"}"};var Za={},Zu={};function Ir(){this.a="",this.h=c}Ir.prototype.ma=!0,Ir.prototype.ka=function(){return this.a.toString()},Ir.prototype.g=function(){return 1},Ir.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function lf(s){return s instanceof Ir&&s.constructor===Ir&&s.h===c?s.a:(he("expected object of type TrustedResourceUrl, got '"+s+"' of type "+x(s)),"type_error:TrustedResourceUrl")}function E(){var s=u5;s instanceof Er&&s.constructor===Er&&s.g===Za?s=s.a:(he("expected object of type Const, got '"+s+"'"),s="type_error:Const");var a=new Ir;return a.a=s,a}var c={};function p(){this.a="",this.h=A}p.prototype.ma=!0,p.prototype.ka=function(){return this.a.toString()},p.prototype.g=function(){return 1},p.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function y(s){return s instanceof p&&s.constructor===p&&s.h===A?s.a:(he("expected object of type SafeUrl, got '"+s+"' of type "+x(s)),"type_error:SafeUrl")}var _=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function T(s){return s instanceof p?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),_.test(s)||(s="about:invalid#zClosurez"),M(s))}function k(s){return s instanceof p?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),_.test(s)||(s="about:invalid#zClosurez"),M(s))}var A={};function M(s){var a=new p;return a.a=s,a}M("about:blank");function B(){this.a="",this.g=G}B.prototype.ma=!0;var G={};B.prototype.ka=function(){return this.a},B.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function X(){this.a="",this.j=de,this.h=null}X.prototype.g=function(){return this.h},X.prototype.ma=!0,X.prototype.ka=function(){return this.a.toString()},X.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function ae(s){return s instanceof X&&s.constructor===X&&s.j===de?s.a:(he("expected object of type SafeHtml, got '"+s+"' of type "+x(s)),"type_error:SafeHtml")}var de={};function ee(s,a){var u=new X;return u.a=s,u.h=a,u}ee("<!DOCTYPE html>",0);var we=ee("",0);ee("<br>",0);var st=function(s){var a=!1,u;return function(){return a||(u=s(),a=!0),u}}(function(){if(typeof document>"u")return!1;var s=document.createElement("div"),a=document.createElement("div");return a.appendChild(document.createElement("div")),s.appendChild(a),s.firstChild?(a=s.firstChild.firstChild,s.innerHTML=ae(we),!a.parentElement):!1});function Ht(s,a){if(s.src=lf(a),I===null)e:{if(a=S.document,(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&j.test(a)){I=a;break e}I=""}a=I,a&&s.setAttribute("nonce",a)}function pt(s,a){a=a instanceof p?a:k(a),s.assign(y(a))}function ct(s,a){this.a=P(s)?s:0,this.g=P(a)?a:0}ct.prototype.toString=function(){return"("+this.a+", "+this.g+")"},ct.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},ct.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},ct.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function yt(s,a){this.width=s,this.height=a}t=yt.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Kn(s){return s?new Yr(je(s)):K||(K=new Yr)}function bi(s,a){var u=a||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+s):li(document,s,a)}function Yn(s,a){var u=a||document;if(u.getElementsByClassName)s=u.getElementsByClassName(s)[0];else{u=document;var d=a||u;s=d.querySelectorAll&&d.querySelector&&s?d.querySelector(s?"."+s:""):li(u,s,a)[0]||null}return s||null}function li(s,a,u){var d;if(s=u||s,s.querySelectorAll&&s.querySelector&&a)return s.querySelectorAll(a?"."+a:"");if(a&&s.getElementsByClassName){var m=s.getElementsByClassName(a);return m}if(m=s.getElementsByTagName("*"),a){var w={};for(u=d=0;s=m[u];u++){var R=s.className;typeof R.split=="function"&&He(R.split(/\s+/),a)&&(w[d++]=s)}return w.length=d,w}return m}function pn(s,a){ja(a,function(u,d){u&&typeof u=="object"&&u.ma&&(u=u.ka()),d=="style"?s.style.cssText=u:d=="class"?s.className=u:d=="for"?s.htmlFor=u:Tt.hasOwnProperty(d)?s.setAttribute(Tt[d],u):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?s.setAttribute(d,u):s[d]=u})}var Tt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Re(s){return s.scrollingElement?s.scrollingElement:(In||s.compatMode!="CSS1Compat")&&s.body||s.documentElement}function Me(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function je(s){return s.nodeType==9?s:s.ownerDocument||s.document}function Ji(s,a){if("textContent"in s)s.textContent=a;else if(s.nodeType==3)s.data=String(a);else if(s.firstChild&&s.firstChild.nodeType==3){for(;s.lastChild!=s.firstChild;)s.removeChild(s.lastChild);s.firstChild.data=String(a)}else{for(var u;u=s.firstChild;)s.removeChild(u);s.appendChild(je(s).createTextNode(String(a)))}}function jo(s,a){return a?el(s,function(u){return!a||$(u.className)&&He(u.className.split(/\s+/),a)}):null}function el(s,a){for(var u=0;s;){if(a(s))return s;s=s.parentNode,u++}return null}function Yr(s){this.a=s||S.document||document}Yr.prototype.N=function(){return $(void 0)?this.a.getElementById(void 0):void 0};var $i={Fc:!0},uf={Hc:!0},IN={Ec:!0},wb={Gc:!0};function Ls(){throw Error("Do not instantiate directly")}Ls.prototype.va=null,Ls.prototype.toString=function(){return this.content};function ec(s,a,u,d){if(s=s(a||TN,void 0,u),d=(d||Kn()).a.createElement("DIV"),s=CN(s),s.match(kN),s=ee(s,null),st())for(;d.lastChild;)d.removeChild(d.lastChild);return d.innerHTML=ae(s),d.childNodes.length==1&&(s=d.firstChild,s.nodeType==1&&(d=s)),d}function CN(s){if(!H(s))return gr(String(s));if(s instanceof Ls){if(s.fa===$i)return s.content;if(s.fa===wb)return gr(s.content)}return he("Soy template output is unsafe for use as HTML: "+s),"zSoyz"}var kN=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,TN={};function xN(s){if(s!=null)switch(s.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function cf(){Ls.call(this)}Q(cf,Ls),cf.prototype.fa=$i;function Oe(s){return s!=null&&s.fa===$i?s:s instanceof X?be(ae(s).toString(),s.g()):be(gr(String(String(s))),xN(s))}function hf(){Ls.call(this)}Q(hf,Ls),hf.prototype.fa=uf,hf.prototype.va=1;function df(s,a){this.content=String(s),this.va=a??null}Q(df,Ls),df.prototype.fa=wb;function Ze(s){return new df(s,void 0)}var be=function(s){function a(u){this.content=u}return a.prototype=s.prototype,function(u,d){return u=new a(String(u)),d!==void 0&&(u.va=d),u}}(cf),AN=function(s){function a(u){this.content=u}return a.prototype=s.prototype,function(u){return new a(String(u))}}(hf);function RN(s){function a(){}var u={label:Ot("New password")};a.prototype=s,s=new a;for(var d in u)s[d]=u[d];return s}function Ot(s){return(s=String(s))?new df(s,void 0):""}var _b=function(s){function a(u){this.content=u}return a.prototype=s.prototype,function(u,d){return u=String(u),u?(u=new a(u),d!==void 0&&(u.va=d),u):""}}(cf);function Qn(s){return s!=null&&s.fa===$i?String(String(s.content).replace(UN,"").replace(FN,"&lt;")).replace(ON,DN):gr(String(s))}function Bo(s){return s!=null&&s.fa===uf?s=String(s).replace(Gv,Vv):s instanceof p?s=String(y(s).toString()).replace(Gv,Vv):(s=String(s),MN.test(s)?s=s.replace(Gv,Vv):(he("Bad value `%s` for |filterNormalizeUri",[s]),s="#zSoyz")),s}function bb(s){return s!=null&&s.fa===IN?s=s.content:s==null?s="":s instanceof B?s instanceof B&&s.constructor===B&&s.g===G?s=s.a:(he("expected object of type SafeStyle, got '"+s+"' of type "+x(s)),s="type_error:SafeStyle"):(s=String(s),LN.test(s)||(he("Bad value `%s` for |filterCssValue",[s]),s="zSoyz")),s}var PN={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function DN(s){return PN[s]}var NN={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function Vv(s){return NN[s]}var ON=/[\x00\x22\x27\x3c\x3e]/g,Gv=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,LN=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,MN=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,UN=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,FN=/</g;function zv(){return Ze("Enter a valid phone number")}function Sb(){return Ze("Unable to send password reset code to specified email")}function Eb(){return Ze("Something went wrong. Please try again.")}function Ib(){return Ze("This email already exists without any means of sign-in. Please reset the password to recover.")}function Cb(s){s=s||{};var a="";switch(s.code){case"invalid-argument":a+="Client specified an invalid argument.";break;case"invalid-configuration":a+="Client specified an invalid project configuration.";break;case"failed-precondition":a+="Request can not be executed in the current system state.";break;case"out-of-range":a+="Client specified an invalid range.";break;case"unauthenticated":a+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":a+="Client does not have sufficient permission.";break;case"not-found":a+="Specified resource is not found.";break;case"aborted":a+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":a+="The resource that a client tried to create already exists.";break;case"resource-exhausted":a+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":a+="Request cancelled by the client.";break;case"data-loss":a+="Unrecoverable data loss or data corruption.";break;case"unknown":a+="Unknown server error.";break;case"internal":a+="Internal server error.";break;case"not-implemented":a+="API method not implemented by the server.";break;case"unavailable":a+="Service unavailable.";break;case"deadline-exceeded":a+="Request deadline exceeded.";break;case"auth/user-disabled":a+="The user account has been disabled by an administrator.";break;case"auth/timeout":a+="The operation has timed out.";break;case"auth/too-many-requests":a+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":a+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":a+="A network error has occurred. Try again later.";break;case"restart-process":a+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":a+="No sign-in provider is available for the given email, please try with a different email."}return Ze(a)}function kb(){return Ze("Please login again to perform this operation")}function tc(s,a,u){var d=Error.call(this);if(this.message=d.message,"stack"in d&&(this.stack=d.stack),this.code=jN+s,!(s=a)){switch(s="",this.code){case"firebaseui/merge-conflict":s+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:s+=Eb()}s=Ze(s).toString()}this.message=s||"",this.credential=u||null}f(tc,Error),tc.prototype.toJSON=function(){return{code:this.code,message:this.message}};var jN="firebaseui/";function $o(){this.T=this.T,this.C=this.C}var BN=0;$o.prototype.T=!1,$o.prototype.m=function(){!this.T&&(this.T=!0,this.o(),BN!=0)&&(this[F]||(this[F]=++q))};function nc(s,a){s.T?P(void 0)?a.call(void 0):a():(s.C||(s.C=[]),s.C.push(P(void 0)?z(a,void 0):a))}$o.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ic(s){s&&typeof s.m=="function"&&s.m()}var $N=Object.freeze||function(s){return s},Tb=!ft||9<=Number(Os),VN=ft&&!Kr("9"),GN=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var s=!1,a=Object.defineProperty({},"passive",{get:function(){s=!0}});try{S.addEventListener("test",D,a),S.removeEventListener("test",D,a)}catch{}return s}();function Qr(s,a){this.type=s,this.g=this.target=a,this.h=!1,this.qb=!0}Qr.prototype.stopPropagation=function(){this.h=!0},Qr.prototype.preventDefault=function(){this.qb=!1};function Xn(s,a){if(Qr.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var u=this.type=s.type,d=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=a,a=s.relatedTarget){if(ai){e:{try{Ya(a.nodeName);var m=!0;break e}catch{}m=!1}m||(a=null)}}else u=="mouseover"?a=s.fromElement:u=="mouseout"&&(a=s.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.keyCode=s.keyCode||0,this.key=s.key||"",this.j=s.charCode||(u=="keypress"?s.keyCode:0),this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=$(s.pointerType)?s.pointerType:zN[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}Q(Xn,Qr);var zN=$N({2:"touch",3:"pen",4:"mouse"});Xn.prototype.stopPropagation=function(){Xn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Xn.prototype.preventDefault=function(){Xn.K.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,VN)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}};var rc="closure_listenable_"+(1e6*Math.random()|0),HN=0;function WN(s,a,u,d,m){this.listener=s,this.proxy=null,this.src=a,this.type=u,this.capture=!!d,this.La=m,this.key=++HN,this.sa=this.Ia=!1}function ff(s){s.sa=!0,s.listener=null,s.proxy=null,s.src=null,s.La=null}function pf(s){this.src=s,this.a={},this.g=0}pf.prototype.add=function(s,a,u,d,m){var w=s.toString();s=this.a[w],s||(s=this.a[w]=[],this.g++);var R=Wv(s,a,d,m);return-1<R?(a=s[R],u||(a.Ia=!1)):(a=new WN(a,this.src,w,!!d,m),a.Ia=u,s.push(a)),a};function Hv(s,a){var u=a.type;u in s.a&&yi(s.a[u],a)&&(ff(a),s.a[u].length==0&&(delete s.a[u],s.g--))}function Wv(s,a,u,d){for(var m=0;m<s.length;++m){var w=s[m];if(!w.sa&&w.listener==a&&w.capture==!!u&&w.La==d)return m}return-1}var qv="closure_lm_"+(1e6*Math.random()|0),Kv={};function Zi(s,a,u,d,m){if(d&&d.once)return sc(s,a,u,d,m);if(O(a)){for(var w=0;w<a.length;w++)Zi(s,a[w],u,d,m);return null}return u=Qv(u),s&&s[rc]?s.J.add(String(a),u,!1,H(d)?!!d.capture:!!d,m):xb(s,a,u,!1,d,m)}function xb(s,a,u,d,m,w){if(!a)throw Error("Invalid event type");var R=H(m)?!!m.capture:!!m,V=gf(s);if(V||(s[qv]=V=new pf(s)),u=V.add(a,u,d,R,w),u.proxy)return u;if(d=qN(),u.proxy=d,d.src=s,d.listener=u,s.addEventListener)GN||(m=R),m===void 0&&(m=!1),s.addEventListener(a.toString(),d,m);else if(s.attachEvent)s.attachEvent(Ab(a.toString()),d);else if(s.addListener&&s.removeListener)s.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return u}function qN(){var s=KN,a=Tb?function(u){return s.call(a.src,a.listener,u)}:function(u){if(u=s.call(a.src,a.listener,u),!u)return u};return a}function sc(s,a,u,d,m){if(O(a)){for(var w=0;w<a.length;w++)sc(s,a[w],u,d,m);return null}return u=Qv(u),s&&s[rc]?s.J.add(String(a),u,!0,H(d)?!!d.capture:!!d,m):xb(s,a,u,!0,d,m)}function Vo(s,a,u,d,m){if(O(a))for(var w=0;w<a.length;w++)Vo(s,a[w],u,d,m);else d=H(d)?!!d.capture:!!d,u=Qv(u),s&&s[rc]?(s=s.J,a=String(a).toString(),a in s.a&&(w=s.a[a],u=Wv(w,u,d,m),-1<u&&(ff(w[u]),si(w,u),w.length==0&&(delete s.a[a],s.g--)))):s&&(s=gf(s))&&(a=s.a[a.toString()],s=-1,a&&(s=Wv(a,u,d,m)),(u=-1<s?a[s]:null)&&Ms(u))}function Ms(s){if(typeof s!="number"&&s&&!s.sa){var a=s.src;if(a&&a[rc])Hv(a.J,s);else{var u=s.type,d=s.proxy;a.removeEventListener?a.removeEventListener(u,d,s.capture):a.detachEvent?a.detachEvent(Ab(u),d):a.addListener&&a.removeListener&&a.removeListener(d),(u=gf(a))?(Hv(u,s),u.g==0&&(u.src=null,a[qv]=null)):ff(s)}}}function Ab(s){return s in Kv?Kv[s]:Kv[s]="on"+s}function Rb(s,a,u,d){var m=!0;if((s=gf(s))&&(a=s.a[a.toString()]))for(a=a.concat(),s=0;s<a.length;s++){var w=a[s];w&&w.capture==u&&!w.sa&&(w=Pb(w,d),m=m&&w!==!1)}return m}function Pb(s,a){var u=s.listener,d=s.La||s.src;return s.Ia&&Ms(s),u.call(d,a)}function KN(s,a){if(s.sa)return!0;if(!Tb){if(!a)e:{a=["window","event"];for(var u=S,d=0;d<a.length;d++)if(u=u[a[d]],u==null){a=null;break e}a=u}if(d=a,a=new Xn(d,this),u=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var m=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{m=!0}(m||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],m=a.g;m;m=m.parentNode)d.push(m);for(s=s.type,m=d.length-1;!a.h&&0<=m;m--){a.g=d[m];var w=Rb(d[m],s,!0,a);u=u&&w}for(m=0;!a.h&&m<d.length;m++)a.g=d[m],w=Rb(d[m],s,!1,a),u=u&&w}return u}return Pb(s,new Xn(a,this))}function gf(s){return s=s[qv],s instanceof pf?s:null}var Yv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qv(s){return N(s)?s:(s[Yv]||(s[Yv]=function(a){return s.handleEvent(a)}),s[Yv])}function Wt(){$o.call(this),this.J=new pf(this),this.wb=this,this.Ha=null}Q(Wt,$o),Wt.prototype[rc]=!0,Wt.prototype.Za=function(s){this.Ha=s},Wt.prototype.removeEventListener=function(s,a,u,d){Vo(this,s,a,u,d)};function Us(s,a){var u,d=s.Ha;if(d)for(u=[];d;d=d.Ha)u.push(d);if(s=s.wb,d=a.type||a,$(a))a=new Qr(a,s);else if(a instanceof Qr)a.target=a.target||s;else{var m=a;a=new Qr(d,s),mr(a,m)}if(m=!0,u)for(var w=u.length-1;!a.h&&0<=w;w--){var R=a.g=u[w];m=mf(R,d,!0,a)&&m}if(a.h||(R=a.g=s,m=mf(R,d,!0,a)&&m,a.h||(m=mf(R,d,!1,a)&&m)),u)for(w=0;!a.h&&w<u.length;w++)R=a.g=u[w],m=mf(R,d,!1,a)&&m;return m}Wt.prototype.o=function(){if(Wt.K.o.call(this),this.J){var s=this.J,a;for(a in s.a){for(var u=s.a[a],d=0;d<u.length;d++)ff(u[d]);delete s.a[a],s.g--}}this.Ha=null};function mf(s,a,u,d){if(a=s.J.a[String(a)],!a)return!0;a=a.concat();for(var m=!0,w=0;w<a.length;++w){var R=a[w];if(R&&!R.sa&&R.capture==u){var V=R.listener,te=R.La||R.src;R.Ia&&Hv(s.J,R),m=V.call(te,d)!==!1&&m}}return m&&d.qb!=0}var Si={},Db=0;function Nb(s,a){if(!s)throw Error("Event target element must be provided!");if(s=Xv(s),Si[s]&&Si[s].length)for(var u=0;u<Si[s].length;u++)Us(Si[s][u],a)}function YN(s){var a=Xv(s.N());Si[a]&&Si[a].length&&(Po(Si[a],function(u){return u==s}),Si[a].length||delete Si[a])}function Xv(s){return typeof s.a>"u"&&(s.a=Db,Db++),s.a}function vf(s){if(!s)throw Error("Event target element must be provided!");Wt.call(this),this.a=s}f(vf,Wt),vf.prototype.N=function(){return this.a},vf.prototype.register=function(){var s=Xv(this.N());Si[s]?He(Si[s],this)||Si[s].push(this):Si[s]=[this]};function Ob(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function Jv(s,a){this.h=s,this.j=a,this.g=0,this.a=null}Jv.prototype.get=function(){if(0<this.g){this.g--;var s=this.a;this.a=s.next,s.next=null}else s=this.h();return s};function Lb(s,a){s.j(a),100>s.g&&(s.g++,a.next=s.a,s.a=a)}function Mb(){this.g=this.a=null}var Ub=new Jv(function(){return new Zv},function(s){s.reset()});Mb.prototype.add=function(s,a){var u=Ub.get();u.set(s,a),this.g?this.g.next=u:this.a=u,this.g=u};function QN(){var s=jb,a=null;return s.a&&(a=s.a,s.a=s.a.next,s.a||(s.g=null),a.next=null),a}function Zv(){this.next=this.g=this.a=null}Zv.prototype.set=function(s,a){this.a=s,this.g=a,this.next=null},Zv.prototype.reset=function(){this.next=this.g=this.a=null};function Fb(s){S.setTimeout(function(){throw s},0)}var ey;function XN(){var s=S.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ze("Presto")&&(s=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var w=m.contentWindow;m=w.document,m.open(),m.write(""),m.close();var R="callImmediate"+Math.random(),V=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;m=z(function(te){(V=="*"||te.origin==V)&&te.data==R&&this.port1.onmessage()},this),w.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(R,V)}}}),typeof s<"u"&&!ze("Trident")&&!ze("MSIE")){var a=new s,u={},d=u;return a.port1.onmessage=function(){if(P(u.next)){u=u.next;var m=u.gb;u.gb=null,m()}},function(m){d.next={gb:m},d=d.next,a.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var w=document.createElement("SCRIPT");w.onreadystatechange=function(){w.onreadystatechange=null,w.parentNode.removeChild(w),w=null,m(),m=null},document.documentElement.appendChild(w)}:function(m){S.setTimeout(m,0)}}function ty(s,a){yf||JN(),ny||(yf(),ny=!0),jb.add(s,a)}var yf;function JN(){if(S.Promise&&S.Promise.resolve){var s=S.Promise.resolve(void 0);yf=function(){s.then(Bb)}}else yf=function(){var a=Bb;!N(S.setImmediate)||S.Window&&S.Window.prototype&&!ze("Edge")&&S.Window.prototype.setImmediate==S.setImmediate?(ey||(ey=XN()),ey(a)):S.setImmediate(a)}}var ny=!1,jb=new Mb;function Bb(){for(var s;s=QN();){try{s.a.call(s.g)}catch(a){Fb(a)}Lb(Ub,s)}ny=!1}function qt(s){if(this.a=Go,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,s!=D)try{var a=this;s.call(void 0,function(u){zo(a,oc,u)},function(u){if(!(u instanceof nl))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}zo(a,Xr,u)})}catch(u){zo(this,Xr,u)}}var Go=0,oc=2,Xr=3;function $b(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}$b.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Vb=new Jv(function(){return new $b},function(s){s.reset()});function iy(s,a,u){var d=Vb.get();return d.s=s,d.g=a,d.j=u,d}function Lt(s){if(s instanceof qt)return s;var a=new qt(D);return zo(a,oc,s),a}function tl(s){return new qt(function(a,u){u(s)})}qt.prototype.then=function(s,a,u){return zb(this,N(s)?s:null,N(a)?a:null,u)},qt.prototype.$goog_Thenable=!0,t=qt.prototype,t.fc=function(s,a){return s=iy(s,s,a),s.h=!0,ry(this,s),this},t.Ca=function(s,a){return zb(this,null,s,a)},t.cancel=function(s){this.a==Go&&ty(function(){var a=new nl(s);Gb(this,a)},this)};function Gb(s,a){if(s.a==Go)if(s.h){var u=s.h;if(u.g){for(var d=0,m=null,w=null,R=u.g;R&&(R.h||(d++,R.a==s&&(m=R),!(m&&1<d)));R=R.next)m||(w=R);m&&(u.a==Go&&d==1?Gb(u,a):(w?(d=w,d.next==u.j&&(u.j=d),d.next=d.next.next):Wb(u),qb(u,m,Xr,a)))}s.h=null}else zo(s,Xr,a)}function ry(s,a){s.g||s.a!=oc&&s.a!=Xr||Hb(s),s.j?s.j.next=a:s.g=a,s.j=a}function zb(s,a,u,d){var m=iy(null,null,null);return m.a=new qt(function(w,R){m.s=a?function(V){try{var te=a.call(d,V);w(te)}catch(fe){R(fe)}}:w,m.g=u?function(V){try{var te=u.call(d,V);!P(te)&&V instanceof nl?R(V):w(te)}catch(fe){R(fe)}}:R}),m.a.h=s,ry(s,m),m.a}t.hc=function(s){this.a=Go,zo(this,oc,s)},t.ic=function(s){this.a=Go,zo(this,Xr,s)};function zo(s,a,u){if(s.a==Go){s===u&&(a=Xr,u=new TypeError("Promise cannot resolve to itself")),s.a=1;e:{var d=u,m=s.hc,w=s.ic;if(d instanceof qt){ry(d,iy(m||D,w||null,s));var R=!0}else if(Ob(d))d.then(m,w,s),R=!0;else{if(H(d))try{var V=d.then;if(N(V)){ZN(d,V,m,w,s),R=!0;break e}}catch(te){w.call(s,te),R=!0;break e}R=!1}}R||(s.A=u,s.a=a,s.h=null,Hb(s),a!=Xr||u instanceof nl||e5(s,u))}}function ZN(s,a,u,d,m){function w(te){V||(V=!0,d.call(m,te))}function R(te){V||(V=!0,u.call(m,te))}var V=!1;try{a.call(s,R,w)}catch(te){w(te)}}function Hb(s){s.i||(s.i=!0,ty(s.Hb,s))}function Wb(s){var a=null;return s.g&&(a=s.g,s.g=a.next,a.next=null),s.g||(s.j=null),a}t.Hb=function(){for(var s;s=Wb(this);)qb(this,s,this.a,this.A);this.i=!1};function qb(s,a,u,d){if(u==Xr&&a.g&&!a.h)for(;s&&s.s;s=s.h)s.s=!1;if(a.a)a.a.h=null,Kb(a,u,d);else try{a.h?a.s.call(a.j):Kb(a,u,d)}catch(m){Yb.call(null,m)}Lb(Vb,a)}function Kb(s,a,u){a==oc?s.s.call(s.j,u):s.g&&s.g.call(s.j,u)}function e5(s,a){s.s=!0,ty(function(){s.s&&Yb.call(null,a)})}var Yb=Fb;function nl(s){oe.call(this,s)}Q(nl,oe),nl.prototype.name="cancel";function Qb(s,a,u){a||(a={}),u=u||window;var d=s instanceof p?s:T(typeof s.href<"u"?s.href:String(s));s=a.target||s.target;var m=[];for(w in a)switch(w){case"width":case"height":case"top":case"left":m.push(w+"="+a[w]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(w+"="+(a[w]?1:0))}var w=m.join(",");return(ze("iPhone")&&!ze("iPod")&&!ze("iPad")||ze("iPad")||ze("iPod"))&&u.navigator&&u.navigator.standalone&&s&&s!="_self"?(w=u.document.createElement("A"),d=d instanceof p?d:k(d),w.href=y(d),w.setAttribute("target",s),a.noreferrer&&w.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,u,1),w.dispatchEvent(a),u={}):a.noreferrer?(u=u.open("",s,w),a=y(d).toString(),u&&(Bv&&a.indexOf(";")!=-1&&(a="'"+a.replace(/'/g,"%27")+"'"),u.opener=null,a=ee('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+gr(a)+'">',null),u.document.write(ae(a)),u.document.close())):(u=u.open(y(d).toString(),s,w))&&a.noopener&&(u.opener=null),u}function Xb(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function il(s){Qb(s,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function wf(s,a){if(s=H(s)&&s.nodeType==1?s:document.querySelector(String(s)),s==null)throw Error(a||"Cannot find element.");return s}function Jr(){return window.location.href}function t5(){var s=null;return new qt(function(a){S.document.readyState=="complete"?a():(s=function(){a()},sc(window,"load",s))}).Ca(function(a){throw Vo(window,"load",s),a})}function n5(){for(var s=32,a=[];0<s;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return a.join("")}function i5(s,a,u){return u=u===void 0?{}:u,Object.keys(s).filter(function(d){return a.includes(d)}).reduce(function(d,m){return d[m]=s[m],d},u)}function Fs(s){var a=o5;this.s=[],this.T=a,this.O=s||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Fs.prototype.cancel=function(s){if(this.a)this.h instanceof Fs&&this.h.cancel();else{if(this.g){var a=this.g;delete this.g,s?a.cancel(s):(a.C--,0>=a.C&&a.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(s=new lc,_f(this),ac(this,!1,s))}},Fs.prototype.L=function(s,a){this.A=!1,ac(this,s,a)};function ac(s,a,u){s.a=!0,s.h=u,s.j=!a,eS(s)}function _f(s){if(s.a){if(!s.J)throw new bf;s.J=!1}}Fs.prototype.callback=function(s){_f(this),ac(this,!0,s)};function Jb(s,a,u){s.s.push([a,u,void 0]),s.a&&eS(s)}Fs.prototype.then=function(s,a,u){var d,m,w=new qt(function(R,V){d=R,m=V});return Jb(this,d,function(R){R instanceof lc?w.cancel():m(R)}),w.then(s,a,u)},Fs.prototype.$goog_Thenable=!0;function Zb(s){return rt(s.s,function(a){return N(a[1])})}function eS(s){if(s.i&&s.a&&Zb(s)){var a=s.i,u=Sf[a];u&&(S.clearTimeout(u.a),delete Sf[a]),s.i=0}s.g&&(s.g.C--,delete s.g),a=s.h;for(var d=u=!1;s.s.length&&!s.A;){var m=s.s.shift(),w=m[0],R=m[1];if(m=m[2],w=s.j?R:w)try{var V=w.call(m||s.O,a);P(V)&&(s.j=s.j&&(V==a||V instanceof Error),s.h=a=V),(Ob(a)||typeof S.Promise=="function"&&a instanceof S.Promise)&&(d=!0,s.A=!0)}catch(te){a=te,s.j=!0,Zb(s)||(u=!0)}}s.h=a,d&&(V=z(s.L,s,!0),d=z(s.L,s,!1),a instanceof Fs?(Jb(a,V,d),a.l=!0):a.then(V,d)),u&&(a=new tS(a),Sf[a.a]=a,s.i=a.a)}function bf(){oe.call(this)}Q(bf,oe),bf.prototype.message="Deferred has already fired",bf.prototype.name="AlreadyCalledError";function lc(){oe.call(this)}Q(lc,oe),lc.prototype.message="Deferred was canceled",lc.prototype.name="CanceledError";function tS(s){this.a=S.setTimeout(z(this.h,this),0),this.g=s}tS.prototype.h=function(){throw delete Sf[this.a],this.g};var Sf={};function r5(s){var a={},u=a.document||document,d=lf(s).toString(),m=document.createElement("SCRIPT"),w={rb:m,sb:void 0},R=new Fs(w),V=null,te=a.timeout!=null?a.timeout:5e3;return 0<te&&(V=window.setTimeout(function(){Ef(m,!0);var fe=new sy(l5,"Timeout reached for loading script "+d);_f(R),ac(R,!1,fe)},te),w.sb=V),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(Ef(m,a.xc||!1,V),R.callback(null))},m.onerror=function(){Ef(m,!0,V);var fe=new sy(a5,"Error while loading script "+d);_f(R),ac(R,!1,fe)},w=a.attributes||{},mr(w,{type:"text/javascript",charset:"UTF-8"}),pn(m,w),Ht(m,s),s5(u).appendChild(m),R}function s5(s){var a=(s||document).getElementsByTagName("HEAD");return a&&a.length!=0?a[0]:s.documentElement}function o5(){if(this&&this.rb){var s=this.rb;s&&s.tagName=="SCRIPT"&&Ef(s,!0,this.sb)}}function Ef(s,a,u){u!=null&&S.clearTimeout(u),s.onload=D,s.onerror=D,s.onreadystatechange=D,a&&window.setTimeout(function(){Me(s)},0)}var a5=0,l5=1;function sy(s,a){var u="Jsloader error (code #"+s+")";a&&(u+=": "+a),oe.call(this,u),this.code=s}Q(sy,oe);function uc(){return S.google&&S.google.accounts&&S.google.accounts.id||null}function oy(s){this.a=s||uc(),this.h=!1,this.g=null}oy.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function nS(s,a,u){if(s.a&&a)return function(){return s.h=!0,new qt(function(m){s.g=m,s.a.initialize({client_id:a,callback:m,auto_select:!u}),s.a.prompt()})}();if(a){var d=ay.Xa().load().then(function(){return s.a=uc(),nS(s,a,u)}).Ca(function(){return null});return Lt(d)}return Lt(null)}C(oy);var u5=new Er(Zu,"https://accounts.google.com/gsi/client");function ay(){this.a=null}ay.prototype.load=function(){var s=this;if(this.a)return this.a;var a=E();return uc()?Lt():this.a=t5().then(function(){if(!uc())return new qt(function(u,d){var m=setTimeout(function(){s.a=null,d(Error("Network error!"))},1e4);S.onGoogleLibraryLoad=function(){clearTimeout(m),u()},Lt(r5(a)).then(function(){uc()&&u()}).Ca(function(w){clearTimeout(m),s.a=null,d(w)})})})},C(ay);function ly(s,a){this.a=s,this.g=a||function(u){throw u}}ly.prototype.confirm=function(s){return Lt(this.a.confirm(s)).Ca(this.g)};function uy(s,a,u){this.reset(s,a,u,void 0,void 0)}uy.prototype.a=null,uy.prototype.reset=function(s,a,u,d,m){this.h=d||ne(),this.j=s,this.s=a,this.g=u,delete this.a};function cy(s){this.s=s,this.a=this.h=this.j=this.g=null}function If(s,a){this.name=s,this.value=a}If.prototype.toString=function(){return this.name};var iS=new If("SEVERE",1e3),rS=new If("WARNING",900),sS=new If("CONFIG",700);function oS(s){return s.j?s.j:s.g?oS(s.g):(he("Root logger has no level set."),null)}cy.prototype.log=function(s,a,u){if(s.value>=oS(this).value)for(N(a)&&(a=a()),s=new uy(s,String(a),this.s),u&&(s.a=u),u=this;u;){var d=u,m=s;if(d.a)for(var w=0;a=d.a[w];w++)a(m);u=u.g}};var hy={},cc=null;function aS(){cc||(cc=new cy(""),hy[""]=cc,cc.j=sS)}function lS(s){aS();var a;if(!(a=hy[s])){a=new cy(s);var u=s.lastIndexOf("."),d=s.substr(u+1);u=lS(s.substr(0,u)),u.h||(u.h={}),u.h[d]=a,a.g=u,hy[s]=a}return a}function Cf(){this.a=ne()}var dy=null;Cf.prototype.set=function(s){this.a=s},Cf.prototype.reset=function(){this.set(ne())},Cf.prototype.get=function(){return this.a};function hc(s){this.j=s||"",dy||(dy=new Cf),this.s=dy}hc.prototype.a=!0,hc.prototype.g=!0,hc.prototype.h=!1;function Ho(s){return 10>s?"0"+s:String(s)}function c5(s,a){s=(s.h-a)/1e3,a=s.toFixed(3);var u=0;if(1>s)u=2;else for(;100>s;)u++,s*=10;for(;0<u--;)a=" "+a;return a}function uS(s){hc.call(this,s)}Q(uS,hc);function h5(s,a){var u=[];if(u.push(s.j," "),s.g){var d=new Date(a.h);u.push("[",Ho(d.getFullYear()-2e3)+Ho(d.getMonth()+1)+Ho(d.getDate())+" "+Ho(d.getHours())+":"+Ho(d.getMinutes())+":"+Ho(d.getSeconds())+"."+Ho(Math.floor(d.getMilliseconds()/10)),"] ")}return u.push("[",c5(a,s.s.get()),"s] "),u.push("[",a.g,"] "),u.push(a.s),s.h&&(a=a.a)&&u.push(`
`,a instanceof Error?a.message:a.toString()),s.a&&u.push(`
`),u.join("")}function cS(){this.s=z(this.h,this),this.a=new uS,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}cS.prototype.h=function(s){function a(w){if(w){if(w.value>=iS.value)return"error";if(w.value>=rS.value)return"warn";if(w.value>=sS.value)return"log"}return"debug"}if(!this.j[s.g]){var u=h5(this.a,s),d=d5;if(d){var m=a(s.j);f5(d,m,u,s.a)}}};var d5=S.console;function f5(s,a,u,d){s[a]?s[a](u,d||""):s.log(u,d||"")}function Ei(s,a){var u=fy;u&&u.log(iS,s,a)}var fy;fy=lS("firebaseui");var py=new cS;if(py.g!=1){var kf;aS(),kf=cc;var p5=py.s;kf.a||(kf.a=[]),kf.a.push(p5),py.g=!0}function js(s){var a=fy;a&&a.log(rS,s,void 0)}function hS(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=hS.prototype,t.set=function(s,a,u,d,m,w){if(/[;=\s]/.test(s))throw Error('Invalid cookie name "'+s+'"');if(/[;\r\n]/.test(a))throw Error('Invalid cookie value "'+a+'"');P(u)||(u=-1),m=m?";domain="+m:"",d=d?";path="+d:"",w=w?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(ne()+1e3*u).toUTCString(),this.a.cookie=s+"="+a+m+d+u+w},t.get=function(s,a){for(var u=s+"=",d=(this.a.cookie||"").split(";"),m=0,w;m<d.length;m++){if(w=Nt(d[m]),w.lastIndexOf(u,0)==0)return w.substr(u.length);if(w==s)return""}return a},t.ja=function(){return gy(this).keys},t.la=function(){return gy(this).values},t.clear=function(){for(var s=gy(this).keys,a=s.length-1;0<=a;a--){var u=s[a];this.get(u),this.set(u,"",0,void 0,void 0)}};function gy(s){s=(s.a.cookie||"").split(";");for(var a=[],u=[],d,m,w=0;w<s.length;w++)m=Nt(s[w]),d=m.indexOf("="),d==-1?(a.push(""),u.push(m)):(a.push(m.substring(0,d)),u.push(m.substring(d+1)));return{keys:a,values:u}}var Tf=new hS;function dS(){}function rl(s,a,u,d){this.h=typeof s<"u"&&s!==null?s:-1,this.g=a||null,this.a=u||null,this.j=!!d}f(rl,dS),rl.prototype.set=function(s,a){Tf.set(s,a,this.h,this.g,this.a,this.j)},rl.prototype.get=function(s){return Tf.get(s)||null},rl.prototype.ra=function(s){var a=this.g,u=this.a;Tf.get(s),Tf.set(s,"",0,a,u)};function my(s,a){this.g=s,this.a=a||null}function fS(s){return{email:s.g,credential:s.a&&s.a.toJSON()}}function pS(s){if(s&&s.email){var a=s.credential&&Te.auth.AuthCredential.fromJSON(s.credential);return new my(s.email,a)}return null}function gS(s){this.a=s||null}function mS(s){for(var a=[],u=0,d=0;d<s.length;d++){var m=s.charCodeAt(d);255<m&&(a[u++]=m&255,m>>=8),a[u++]=m}return a}function g5(s){return it(s,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}function xf(s){for(this.i=s,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(sl*(this.j+1)),s=0;s<this.g;s++)this.a[s]=[this.i[4*s],this.i[4*s+1],this.i[4*s+2],this.i[4*s+3]];var a=Array(4);for(s=this.g;s<sl*(this.j+1);s++){if(a[0]=this.a[s-1][0],a[1]=this.a[s-1][1],a[2]=this.a[s-1][2],a[3]=this.a[s-1][3],s%this.g==0){var u=a,d=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=d,bS(a),a[0]^=Rf[s/this.g][0],a[1]^=Rf[s/this.g][1],a[2]^=Rf[s/this.g][2],a[3]^=Rf[s/this.g][3]}else 6<this.g&&s%this.g==4&&bS(a);this.a[s]=Array(4),this.a[s][0]=this.a[s-this.g][0]^a[0],this.a[s][1]=this.a[s-this.g][1]^a[1],this.a[s][2]=this.a[s-this.g][2]^a[2],this.a[s][3]=this.a[s-this.g][3]^a[3]}}xf.prototype.A=16;var sl=xf.prototype.A/4;function vS(s,a){for(var u,d=0;d<sl;d++)for(var m=0;4>m;m++)u=4*m+d,u=a[u],s.h[d][m]=u}function yS(s){for(var a=[],u=0;u<sl;u++)for(var d=0;4>d;d++)a[4*d+u]=s.h[u][d];return a}function ol(s,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)s.h[u][d]^=s.a[4*a+d][u]}function Af(s,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)s.h[u][d]=a[s.h[u][d]]}function wS(s){for(var a=1;4>a;a++)for(var u=0;4>u;u++)s.s[a][u]=s.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)s.h[a][u]=s.s[a][(u+a)%sl]}function _S(s){for(var a=1;4>a;a++)for(var u=0;4>u;u++)s.s[a][(u+a)%sl]=s.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)s.h[a][u]=s.s[a][u]}function bS(s){s[0]=al[s[0]],s[1]=al[s[1]],s[2]=al[s[2]],s[3]=al[s[3]]}var al=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],SS=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Rf=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Pf=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Df=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Nf=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Of=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Lf=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Mf=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function ES(s,a){s=new xf(CS(s)),a=mS(a);for(var u=a.splice(0,16),d="",m;u.length;){m=16-u.length;for(var w=0;w<m;w++)u.push(0);for(m=s,vS(m,u),ol(m,0),u=1;u<m.j;++u){Af(m,al),wS(m),w=m.h;for(var R=m.s[0],V=0;4>V;V++)R[0]=w[0][V],R[1]=w[1][V],R[2]=w[2][V],R[3]=w[3][V],w[0][V]=Pf[R[0]]^Df[R[1]]^R[2]^R[3],w[1][V]=R[0]^Pf[R[1]]^Df[R[2]]^R[3],w[2][V]=R[0]^R[1]^Pf[R[2]]^Df[R[3]],w[3][V]=Df[R[0]]^R[1]^R[2]^Pf[R[3]];ol(m,u)}Af(m,al),wS(m),ol(m,m.j),d+=g5(yS(m)),u=a.splice(0,16)}return d}function IS(s,a){s=new xf(CS(s));for(var u=[],d=0;d<a.length;d+=2)u.push(parseInt(a.substring(d,d+2),16));var m=u.splice(0,16);for(a="";m.length;){for(d=s,vS(d,m),ol(d,d.j),m=1;m<d.j;++m){_S(d),Af(d,SS),ol(d,d.j-m);for(var w=d.h,R=d.s[0],V=0;4>V;V++)R[0]=w[0][V],R[1]=w[1][V],R[2]=w[2][V],R[3]=w[3][V],w[0][V]=Mf[R[0]]^Of[R[1]]^Lf[R[2]]^Nf[R[3]],w[1][V]=Nf[R[0]]^Mf[R[1]]^Of[R[2]]^Lf[R[3]],w[2][V]=Lf[R[0]]^Nf[R[1]]^Mf[R[2]]^Of[R[3]],w[3][V]=Of[R[0]]^Lf[R[1]]^Nf[R[2]]^Mf[R[3]]}if(_S(d),Af(d,SS),ol(d,0),d=yS(d),8192>=d.length)d=String.fromCharCode.apply(null,d);else{for(m="",w=0;w<d.length;w+=8192)m+=String.fromCharCode.apply(null,Zd(d,w,w+8192));d=m}a+=d,m=u.splice(0,16)}return a.replace(/(\x00)+$/,"")}function CS(s){s=mS(s.substring(0,32));for(var a=32-s.length,u=0;u<a;u++)s.push(0);return s}function kS(s){var a=[];return vy(new m5,s,a),a.join("")}function m5(){}function vy(s,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(O(a)){var d=a;a=d.length,u.push("[");for(var m="",w=0;w<a;w++)u.push(m),vy(s,d[w],u),m=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),m="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(w=a[d],typeof w!="function"&&(u.push(m),xS(d,u),u.push(":"),vy(s,w,u),m=","));u.push("}");return}}switch(typeof a){case"string":xS(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var TS={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},v5=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function xS(s,a){a.push('"',s.replace(v5,function(u){var d=TS[u];return d||(d="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),TS[u]=d),d}),'"')}function dc(s){this.a=s}dc.prototype.set=function(s,a){P(a)?this.a.set(s,kS(a)):this.a.ra(s)},dc.prototype.get=function(s){try{var a=this.a.get(s)}catch{return}if(a!==null)try{return JSON.parse(a)}catch{throw"Storage: Invalid value was encountered"}};function Uf(){}Q(Uf,dS),Uf.prototype.clear=function(){var s=tf(this.ha(!0)),a=this;Ie(s,function(u){a.ra(u)})};function Ff(s){this.a=s}Q(Ff,Uf);function jf(s){if(!s.a)return!1;try{return s.a.setItem("__sak","1"),s.a.removeItem("__sak"),!0}catch{return!1}}t=Ff.prototype,t.set=function(s,a){try{this.a.setItem(s,a)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(s){if(s=this.a.getItem(s),!$(s)&&s!==null)throw"Storage mechanism: Invalid value was encountered";return s},t.ra=function(s){this.a.removeItem(s)},t.ha=function(s){var a=0,u=this.a,d=new vr;return d.next=function(){if(a>=u.length)throw Hr;var m=u.key(a++);if(s)return m;if(m=u.getItem(m),!$(m))throw"Storage mechanism: Invalid value was encountered";return m},d},t.clear=function(){this.a.clear()},t.key=function(s){return this.a.key(s)};function yy(){var s=null;try{s=window.localStorage||null}catch{}this.a=s}Q(yy,Ff);function wy(){var s=null;try{s=window.sessionStorage||null}catch{}this.a=s}Q(wy,Ff);function ll(s,a){this.g=s,this.a=a+"::"}Q(ll,Uf),ll.prototype.set=function(s,a){this.g.set(this.a+s,a)},ll.prototype.get=function(s){return this.g.get(this.a+s)},ll.prototype.ra=function(s){this.g.ra(this.a+s)},ll.prototype.ha=function(s){var a=this.g.ha(!0),u=this,d=new vr;return d.next=function(){for(var m=a.next();m.substr(0,u.a.length)!=u.a;)m=a.next();return s?m.substr(u.a.length):u.g.get(m)},d},jf(new yy);var AS,RS=new wy;AS=jf(RS)?new ll(RS,"firebaseui"):null;var _y=new dc(AS),by={name:"pendingEmailCredential",storage:_y},Wo={name:"redirectStatus",storage:_y},fc={name:"redirectUrl",storage:_y},ul={name:"emailForSignIn",storage:new dc(new rl(3600,"/"))},pc={name:"pendingEncryptedCredential",storage:new dc(new rl(3600,"/"))};function cl(s,a){return s.storage.get(a?s.name+":"+a:s.name)}function ui(s,a){s.storage.a.ra(a?s.name+":"+a:s.name)}function hl(s,a,u){s.storage.set(u?s.name+":"+u:s.name,a)}function PS(s){return cl(fc,s)||null}function Cr(s){return s=cl(by,s)||null,pS(s)}function kr(s){ui(by,s)}function DS(s,a){hl(by,fS(s),a)}function Sy(s){return(s=cl(Wo,s)||null)&&typeof s.tenantId<"u"?new gS(s.tenantId):null}function y5(s,a){hl(Wo,{tenantId:s.a},a)}function w5(s,a){a=cl(ul,a);var u=null;if(a)try{var d=IS(s,a),m=JSON.parse(d);u=m&&m.email||null}catch{}return u}function _5(s,a){a=cl(pc,a);var u=null;if(a)try{var d=IS(s,a);u=JSON.parse(d)}catch{}return pS(u||null)}function b5(s,a,u){hl(pc,ES(s,JSON.stringify(fS(a))),u)}function Ey(){this.W={}}function $t(s,a,u){if(a.toLowerCase()in s.W)throw Error("Configuration "+a+" has already been defined.");s.W[a.toLowerCase()]=u}function Iy(s,a,u){if(!(a.toLowerCase()in s.W))throw Error("Configuration "+a+" is not defined.");s.W[a.toLowerCase()]=u}Ey.prototype.get=function(s){if(!(s.toLowerCase()in this.W))throw Error("Configuration "+s+" is not defined.");return this.W[s.toLowerCase()]};function Cy(s,a){if(s=s.get(a),!s)throw Error("Configuration "+a+" is required.");return s}function ky(){this.g=void 0,this.a={}}t=ky.prototype,t.set=function(s,a){NS(this,s,a,!1)},t.add=function(s,a){NS(this,s,a,!0)};function NS(s,a,u,d){for(var m=0;m<a.length;m++){var w=a.charAt(m);s.a[w]||(s.a[w]=new ky),s=s.a[w]}if(d&&s.g!==void 0)throw Error('The collection already contains the key "'+a+'"');s.g=u}t.get=function(s){e:{for(var a=this,u=0;u<s.length;u++)if(a=a.a[s.charAt(u)],!a){s=void 0;break e}s=a}return s?s.g:void 0},t.la=function(){var s=[];return OS(this,s),s};function OS(s,a){s.g!==void 0&&a.push(s.g);for(var u in s.a)OS(s.a[u],a)}t.ja=function(){var s=[];return LS(this,"",s),s};function LS(s,a,u){s.g!==void 0&&u.push(a);for(var d in s.a)LS(s.a[d],a+d,u)}t.clear=function(){this.a={},this.g=void 0};function MS(s){for(this.a=s,this.g=new ky,s=0;s<this.a.length;s++){var a=this.g.get("+"+this.a[s].b);a?a.push(this.a[s]):this.g.add("+"+this.a[s].b,[this.a[s]])}}function Bf(s,a){s=s.g;var u={},d=0;for(s.g!==void 0&&(u[d]=s.g);d<a.length;d++){var m=a.charAt(d);if(!(m in s.a))break;s=s.a[m],s.g!==void 0&&(u[d]=s.g)}for(var w in u)if(u.hasOwnProperty(w))return u[w];return[]}function qo(s){for(var a=0;a<Jn.length;a++)if(Jn[a].c===s)return Jn[a];return null}function US(s){s=s.toUpperCase();for(var a=[],u=0;u<Jn.length;u++)Jn[u].f===s&&a.push(Jn[u]);return a}function FS(s){if(0<s.length&&s.charAt(0)=="+"){s=s.substring(1);for(var a=[],u=0;u<Jn.length;u++)Jn[u].b==s&&a.push(Jn[u]);s=a}else s=US(s);return s}function jS(s){s.sort(function(a,u){return a.name.localeCompare(u.name,"en")})}var Jn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];jS(Jn);var gc=new MS(Jn);function BS(s,a){this.a=s,this.Aa=a}function $S(s){s=Nt(s);var a=Bf(gc,s);return 0<a.length?new BS(a[0].b=="1"?"1-US-0":a[0].c,Nt(s.substr(a[0].b.length+1))):null}function Ty(s){var a=qo(s.a);if(!a)throw Error("Country ID "+s.a+" not found.");return"+"+a.b+s.Aa}function VS(s,a){for(var u=0;u<s.length;u++)if(!He(GS,s[u])&&(dl!==null&&s[u]in dl||He(a,s[u])))return s[u];return null}var GS=["emailLink","password","phone"],dl={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function S5(){this.a=new Ey,$t(this.a,"autoUpgradeAnonymousUsers"),$t(this.a,"callbacks"),$t(this.a,"credentialHelper",Gf),$t(this.a,"immediateFederatedRedirect",!1),$t(this.a,"popupMode",!1),$t(this.a,"privacyPolicyUrl"),$t(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),$t(this.a,"queryParameterForWidgetMode","mode"),$t(this.a,"signInFlow"),$t(this.a,"signInOptions"),$t(this.a,"signInSuccessUrl"),$t(this.a,"siteName"),$t(this.a,"tosUrl"),$t(this.a,"widgetUrl"),$t(this.a,"adminRestrictedOperation")}function $f(s){var a=!!s.a.get("autoUpgradeAnonymousUsers");return a&&!ZS(s)&&Ei('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),a}function Vf(s){s=s.a.get("signInOptions")||[];for(var a=[],u=0;u<s.length;u++){var d=s[u];d=H(d)?d:{provider:d},d.provider&&a.push(d)}return a}function Ii(s,a){s=Vf(s);for(var u=0;u<s.length;u++)if(s[u].provider===a)return s[u];return null}function fl(s){return Vf(s).map(function(a){return a.provider})}function mc(s,a){s=zS(s);for(var u=0;u<s.length;u++)if(s[u].providerId===a)return s[u];return null}function zS(s){return Vf(s).map(function(a){if(dl[a.provider]||He(D5,a.provider)){a={providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?y(T(a.iconUrl)).toString():null};for(var u in a)a[u]===null&&delete a[u];return a}return{providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?y(T(a.iconUrl)).toString():null,Ob:a.loginHintKey||null}})}function HS(s){var a=Ii(s,Te.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=a&&a.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(d in s=s.a.get("credentialHelper"),Dy)if(Dy[d]===s){var d=Dy[d];break e}}d=Gf}u=d===Py}return u&&a.clientId||null}function WS(s){return s=Ii(s,Te.auth.EmailAuthProvider.PROVIDER_ID),!!(s&&s.disableSignUp&&s.disableSignUp.status)}function Ko(s){return s=s.a.get("adminRestrictedOperation")||null,!(!s||!s.status)}function E5(s){var a=null;if(Vf(s).forEach(function(d){d.provider==Te.auth.PhoneAuthProvider.PROVIDER_ID&&H(d.recaptchaParameters)&&!Array.isArray(d.recaptchaParameters)&&(a=Ba(d.recaptchaParameters))}),a){var u=[];N5.forEach(function(d){typeof a[d]<"u"&&(u.push(d),delete a[d])}),u.length&&js('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return a}function I5(s){return(s=s.a.get("adminRestrictedOperation"))&&s.adminEmail?s.adminEmail:null}function C5(s){if(s=s.a.get("adminRestrictedOperation")||null){var a=s.helpLink||null;if(a&&typeof a=="string")return function(){il(a)}}return null}function k5(s){return(s=Ii(s,Te.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.adminEmail||null}function T5(s){if((s=Ii(s,Te.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp){var a=s.disableSignUp.helpLink||null;if(a&&typeof a=="string")return function(){il(a)}}return null}function qS(s,a){return s=(s=Ii(s,a))&&s.scopes,Array.isArray(s)?s:[]}function KS(s,a){return s=(s=Ii(s,a))&&s.customParameters,H(s)?(s=Ba(s),a===Te.auth.GoogleAuthProvider.PROVIDER_ID&&delete s.login_hint,a===Te.auth.GithubAuthProvider.PROVIDER_ID&&delete s.login,s):null}function x5(s){s=Ii(s,Te.auth.PhoneAuthProvider.PROVIDER_ID);var a=null;return s&&typeof s.loginHint=="string"&&(a=$S(s.loginHint)),s&&s.defaultNationalNumber||a&&a.Aa||null}function A5(s){var a=(s=Ii(s,Te.auth.PhoneAuthProvider.PROVIDER_ID))&&s.defaultCountry||null;a=a&&US(a);var u=null;return s&&typeof s.loginHint=="string"&&(u=$S(s.loginHint)),a&&a[0]||u&&qo(u.a)||null}function xy(s){if(s=Ii(s,Te.auth.PhoneAuthProvider.PROVIDER_ID),!s)return null;var a=s.whitelistedCountries,u=s.blacklistedCountries;if(typeof a<"u"&&(!Array.isArray(a)||a.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(a&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!a&&!u)return Jn;if(s=[],a){u={};for(var d=0;d<a.length;d++)for(var m=FS(a[d]),w=0;w<m.length;w++)u[m[w].c]=m[w];for(var R in u)u.hasOwnProperty(R)&&s.push(u[R])}else{for(R={},a=0;a<u.length;a++)for(m=FS(u[a]),d=0;d<m.length;d++)R[m[d].c]=m[d];for(m=0;m<Jn.length;m++)R!==null&&Jn[m].c in R||s.push(Jn[m])}return s}function YS(s){return Cy(s.a,"queryParameterForWidgetMode")}function Vt(s){var a=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,a&&!s&&js("Privacy Policy URL is missing, the link will not be displayed."),a&&s){if(typeof a=="function")return a;if(typeof a=="string")return function(){il(a)}}return null}function Gt(s){var a=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!a&&js("Term of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){il(u)}}return null}function QS(s){return(s=Ii(s,Te.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.requireDisplayName<"u"?!!s.requireDisplayName:!0}function pl(s){return s=Ii(s,Te.auth.EmailAuthProvider.PROVIDER_ID),!(!s||s.signInMethod!==Te.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function R5(s){return s=Ii(s,Te.auth.EmailAuthProvider.PROVIDER_ID),!(!s||!s.forceSameDevice)}function P5(s){if(pl(s)){var a={url:Jr(),handleCodeInApp:!0};(s=Ii(s,Te.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.emailLinkSignIn=="function"&&mr(a,s.emailLinkSignIn()),s=a.url;var u=Jr();u instanceof Bi||(u=Ha(u)),s instanceof Bi||(s=Ha(s));var d=u;u=new Bi(d);var m=!!s.j;m?Va(u,s.j):m=!!s.A,m?u.A=s.A:m=!!s.h,m?u.h=s.h:m=s.C!=null;var w=s.g;if(m)Ga(u,s.C);else if(m=!!s.g){if(w.charAt(0)!="/"&&(d.h&&!d.g?w="/"+w:(d=u.g.lastIndexOf("/"),d!=-1&&(w=u.g.substr(0,d+1)+w))),w==".."||w==".")w="";else if(w.indexOf("./")!=-1||w.indexOf("/.")!=-1){d=w.lastIndexOf("/",0)==0,w=w.split("/");for(var R=[],V=0;V<w.length;){var te=w[V++];te=="."?d&&V==w.length&&R.push(""):te==".."?((1<R.length||R.length==1&&R[0]!="")&&R.pop(),d&&V==w.length&&R.push("")):(R.push(te),d=!0)}w=R.join("/")}}return m?u.g=w:m=s.a.toString()!=="",m?za(u,Xu(s.a)):m=!!s.s,m&&(u.s=s.s),a.url=u.toString(),a}return null}function Ay(s){var a=!!s.a.get("immediateFederatedRedirect"),u=fl(s);return s=XS(s),a&&u.length==1&&!He(GS,u[0])&&s==zf}function XS(s){s=s.a.get("signInFlow");for(var a in Ny)if(Ny[a]==s)return Ny[a];return zf}function Ry(s){return vc(s).signInSuccess||null}function JS(s){return vc(s).signInSuccessWithAuthResult||null}function ZS(s){return vc(s).signInFailure||null}function vc(s){return s.a.get("callbacks")||{}}var Py="googleyolo",Gf="none",Dy={nc:Py,NONE:Gf},zf="redirect",Ny={qc:"popup",rc:zf},Oy={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},D5=["anonymous"],N5=["sitekey","tabindex","callback","expired-callback"],yc,gl,Ly,eE,nt={};function Ce(s,a,u,d){nt[s].apply(null,Array.prototype.slice.call(arguments,1))}function tE(s){return s.classList?s.classList:(s=s.className,$(s)&&s.match(/\S+/g)||[])}function wc(s,a){return s.classList?s.classList.contains(a):He(tE(s),a)}function Tr(s,a){s.classList?s.classList.add(a):wc(s,a)||(s.className+=0<s.className.length?" "+a:a)}function xr(s,a){s.classList?s.classList.remove(a):wc(s,a)&&(s.className=qe(tE(s),function(u){return u!=a}).join(" "))}function gn(s){var a=s.type;switch($(a)&&a.toLowerCase()){case"checkbox":case"radio":return s.checked?s.value:null;case"select-one":return a=s.selectedIndex,0<=a?s.options[a].value:null;case"select-multiple":a=[];for(var u,d=0;u=s.options[d];d++)u.selected&&a.push(u.value);return a.length?a:null;default:return s.value!=null?s.value:null}}function nE(s,a){var u=s.type;switch($(u)&&u.toLowerCase()){case"checkbox":case"radio":s.checked=a;break;case"select-one":if(s.selectedIndex=-1,$(a)){for(var d=0;u=s.options[d];d++)if(u.value==a){u.selected=!0;break}}break;case"select-multiple":for($(a)&&(a=[a]),d=0;u=s.options[d];d++)if(u.selected=!1,a)for(var m,w=0;m=a[w];w++)u.value==m&&(u.selected=!0);break;default:s.value=a??""}}function O5(s){if(s.altKey&&!s.ctrlKey||s.metaKey||112<=s.keyCode&&123>=s.keyCode)return!1;if(_c(s.keyCode))return!0;switch(s.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!ai;default:return 166>s.keyCode||183<s.keyCode}}function iE(s,a,u,d,m,w){if(In&&!Kr("525"))return!0;if(en&&m)return _c(s);if(m&&!d)return!1;if(!ai){typeof a=="number"&&(a=My(a));var R=a==17||a==18||en&&a==91;if((!u||en)&&R||en&&a==16&&(d||w))return!1}if((In||fn)&&d&&u)switch(s){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(ft&&d&&a==s)return!1;switch(s){case 13:return ai?w||m?!1:!(u&&d):!0;case 27:return!(In||fn||ai)}return ai&&(d||m||w)?!1:_c(s)}function _c(s){if(48<=s&&57>=s||96<=s&&106>=s||65<=s&&90>=s||(In||fn)&&s==0)return!0;switch(s){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ai;default:return!1}}function My(s){if(ai)s=L5(s);else if(en&&In)switch(s){case 93:s=91}return s}function L5(s){switch(s){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return s}}function ml(s){Wt.call(this),this.a=s,Zi(s,"keydown",this.g,!1,this),Zi(s,"click",this.h,!1,this)}Q(ml,Wt),ml.prototype.g=function(s){(s.keyCode==13||In&&s.keyCode==3)&&rE(this,s)},ml.prototype.h=function(s){rE(this,s)};function rE(s,a){var u=new oE(a);if(Us(s,u)){u=new sE(a);try{Us(s,u)}finally{a.stopPropagation()}}}ml.prototype.o=function(){ml.K.o.call(this),Vo(this.a,"keydown",this.g,!1,this),Vo(this.a,"click",this.h,!1,this),delete this.a};function sE(s){Xn.call(this,s.a),this.type="action"}Q(sE,Xn);function oE(s){Xn.call(this,s.a),this.type="beforeaction"}Q(oE,Xn);function vl(s){Wt.call(this),this.a=s,s=ft?"focusout":"blur",this.g=Zi(this.a,ft?"focusin":"focus",this,!ft),this.h=Zi(this.a,s,this,!ft)}Q(vl,Wt),vl.prototype.handleEvent=function(s){var a=new Xn(s.a);a.type=s.type=="focusin"||s.type=="focus"?"focusin":"focusout",Us(this,a)},vl.prototype.o=function(){vl.K.o.call(this),Ms(this.g),Ms(this.h),delete this.a};function Hf(s,a){Wt.call(this),this.g=s||1,this.a=a||S,this.h=z(this.gc,this),this.j=ne()}Q(Hf,Wt),t=Hf.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var s=ne()-this.j;0<s&&s<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-s):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Us(this,"tick"),this.Ka&&(Wf(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=ne())};function Wf(s){s.Ka=!1,s.aa&&(s.a.clearTimeout(s.aa),s.aa=null)}t.o=function(){Hf.K.o.call(this),Wf(this),delete this.a};function M5(s,a){if(N(s))a&&(s=z(s,a));else if(s&&typeof s.handleEvent=="function")s=z(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<0?-1:S.setTimeout(s,0)}function yl(s){$o.call(this),this.g=s,this.a={}}Q(yl,$o);var aE=[];function wl(s,a,u,d){O(u)||(u&&(aE[0]=u.toString()),u=aE);for(var m=0;m<u.length;m++){var w=Zi(a,u[m],d||s.handleEvent,!1,s.g||s);if(!w)break;s.a[w.key]=w}}function lE(s){ja(s.a,function(a,u){this.a.hasOwnProperty(u)&&Ms(a)},s),s.a={}}yl.prototype.o=function(){yl.K.o.call(this),lE(this)},yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bc(s){Wt.call(this),this.a=null,this.g=s,s=ft||fn||In&&!Kr("531")&&s.tagName=="TEXTAREA",this.h=new yl(this),wl(this.h,this.g,s?["keydown","paste","cut","drop","input"]:"input",this)}Q(bc,Wt),bc.prototype.handleEvent=function(s){if(s.type=="input")ft&&Kr(10)&&s.keyCode==0&&s.j==0||(Uy(this),Us(this,uE(s)));else if(s.type!="keydown"||O5(s)){var a=s.type=="keydown"?this.g.value:null;ft&&s.keyCode==229&&(a=null);var u=uE(s);Uy(this),this.a=M5(function(){this.a=null,this.g.value!=a&&Us(this,u)},this)}};function Uy(s){s.a!=null&&(S.clearTimeout(s.a),s.a=null)}function uE(s){return s=new Xn(s.a),s.type="input",s}bc.prototype.o=function(){bc.K.o.call(this),this.h.m(),Uy(this),delete this.g};function Sc(s,a){Wt.call(this),s&&(this.Oa&&pE(this),this.qa=s,this.Na=Zi(this.qa,"keypress",this,a),this.Ya=Zi(this.qa,"keydown",this.Jb,a,this),this.Oa=Zi(this.qa,"keyup",this.Kb,a,this))}Q(Sc,Wt),t=Sc.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var cE={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},hE={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},dE=!In||Kr("525"),fE=en&&ai;t=Sc.prototype,t.Jb=function(s){(In||fn)&&(this.R==17&&!s.ctrlKey||this.R==18&&!s.altKey||en&&this.R==91&&!s.metaKey)&&(this.X=this.R=-1),this.R==-1&&(s.ctrlKey&&s.keyCode!=17?this.R=17:s.altKey&&s.keyCode!=18?this.R=18:s.metaKey&&s.keyCode!=91&&(this.R=91)),dE&&!iE(s.keyCode,this.R,s.shiftKey,s.ctrlKey,s.altKey,s.metaKey)?this.handleEvent(s):(this.X=My(s.keyCode),fE&&(this.Ua=s.altKey))},t.Kb=function(s){this.X=this.R=-1,this.Ua=s.altKey},t.handleEvent=function(s){var a=s.a,u=a.altKey;if(ft&&s.type=="keypress")var d=this.X,m=d!=13&&d!=27?a.keyCode:0;else(In||fn)&&s.type=="keypress"?(d=this.X,m=0<=a.charCode&&63232>a.charCode&&_c(d)?a.charCode:0):Et&&!In?(d=this.X,m=_c(d)?a.keyCode:0):(s.type=="keypress"?(fE&&(u=this.Ua),a.keyCode==a.charCode?32>a.keyCode?(d=a.keyCode,m=0):(d=this.X,m=a.charCode):(d=a.keyCode||this.X,m=a.charCode||0)):(d=a.keyCode||this.X,m=a.charCode||0),en&&m==63&&d==224&&(d=191));var w=d=My(d);d?63232<=d&&d in cE?w=cE[d]:d==25&&s.shiftKey&&(w=9):a.keyIdentifier&&a.keyIdentifier in hE&&(w=hE[a.keyIdentifier]),ai&&dE&&s.type=="keypress"&&!iE(w,this.R,s.shiftKey,s.ctrlKey,u,s.metaKey)||(s=w==this.R,this.R=w,a=new gE(w,m,s,a),a.altKey=u,Us(this,a))},t.N=function(){return this.qa};function pE(s){s.Na&&(Ms(s.Na),Ms(s.Ya),Ms(s.Oa),s.Na=null,s.Ya=null,s.Oa=null),s.qa=null,s.R=-1,s.X=-1}t.o=function(){Sc.K.o.call(this),pE(this)};function gE(s,a,u,d){Xn.call(this,d),this.type="key",this.keyCode=s,this.j=a,this.repeat=u}Q(gE,Xn);function _l(s,a,u,d){this.top=s,this.right=a,this.bottom=u,this.left=d}_l.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},_l.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},_l.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},_l.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function qf(s,a){var u=je(s);return u.defaultView&&u.defaultView.getComputedStyle&&(s=u.defaultView.getComputedStyle(s,null))&&(s[a]||s.getPropertyValue(a))||""}function mE(s){try{var a=s.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return ft&&s.ownerDocument.body&&(s=s.ownerDocument,a.left-=s.documentElement.clientLeft+s.body.clientLeft,a.top-=s.documentElement.clientTop+s.body.clientTop),a}function U5(s,a){a=a||Re(document);var u=a||Re(document),d=vE(s),m=vE(u);if(!ft||9<=Number(Os)){R=qf(u,"borderLeftWidth");var w=qf(u,"borderRightWidth");V=qf(u,"borderTopWidth"),te=qf(u,"borderBottomWidth"),w=new _l(parseFloat(V),parseFloat(w),parseFloat(te),parseFloat(R))}else{var R=Kf(u,"borderLeft");w=Kf(u,"borderRight");var V=Kf(u,"borderTop"),te=Kf(u,"borderBottom");w=new _l(V,w,te,R)}u==Re(document)?(R=d.a-u.scrollLeft,d=d.g-u.scrollTop,!ft||10<=Number(Os)||(R+=w.left,d+=w.top)):(R=d.a-m.a-w.left,d=d.g-m.g-w.top),m=s.offsetWidth,w=s.offsetHeight,V=In&&!m&&!w,P(m)&&!V||!s.getBoundingClientRect?s=new yt(m,w):(s=mE(s),s=new yt(s.right-s.left,s.bottom-s.top)),m=u.clientHeight-s.height,w=u.scrollLeft,V=u.scrollTop,w+=Math.min(R,Math.max(R-(u.clientWidth-s.width),0)),V+=Math.min(d,Math.max(d-m,0)),u=new ct(w,V),a.scrollLeft=u.a,a.scrollTop=u.g}function vE(s){var a=je(s),u=new ct(0,0),d=a?je(a):document;return d=!ft||9<=Number(Os)||Kn(d).a.compatMode=="CSS1Compat"?d.documentElement:d.body,s==d||(s=mE(s),d=Kn(a).a,a=Re(d),d=d.parentWindow||d.defaultView,a=ft&&Kr("10")&&d.pageYOffset!=a.scrollTop?new ct(a.scrollLeft,a.scrollTop):new ct(d.pageXOffset||a.scrollLeft,d.pageYOffset||a.scrollTop),u.a=s.left+a.a,u.g=s.top+a.g),u}var yE={thin:2,medium:4,thick:6};function Kf(s,a){if((s.currentStyle?s.currentStyle[a+"Style"]:null)=="none")return 0;var u=s.currentStyle?s.currentStyle[a+"Width"]:null;if(u in yE)s=yE[u];else if(/^\d+px?$/.test(u))s=parseInt(u,10);else{a=s.style.left;var d=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left,s.style.left=u,u=s.style.pixelLeft,s.style.left=a,s.runtimeStyle.left=d,s=+u}return s}function Fy(){}C(Fy),Fy.prototype.a=0;function Yo(s){Wt.call(this),this.s=s||Kn(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}Q(Yo,Wt),t=Yo.prototype,t.Lb=Fy.Xa(),t.N=function(){return this.g};function Qe(s,a){return s.g?Yn(a,s.g||s.s.a):null}function Ec(s){return s.L||(s.L=new yl(s)),s.L}t.Za=function(s){if(this.Y&&this.Y!=s)throw Error("Method not supported");Yo.K.Za.call(this,s)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(s){if(this.na)throw Error("Component already rendered");this.g||this.kb(),s?s.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,jy(this,function(s){!s.na&&s.N()&&s.v()})},t.ya=function(){jy(this,function(s){s.na&&s.ya()}),this.L&&lE(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),jy(this,function(s){s.m()}),this.g&&Me(this.g),this.Y=this.g=this.oa=this.Ea=null,Yo.K.o.call(this)};function jy(s,a){s.Ea&&Ie(s.Ea,a,void 0)}t.removeChild=function(s,a){if(s){var u=$(s)?s:s.cb||(s.cb=":"+(s.Lb.a++).toString(36));if(this.oa&&u?(s=this.oa,s=(s!==null&&u in s?s[u]:void 0)||null):s=null,u&&s){var d=this.oa;if(u in d&&delete d[u],yi(this.Ea,s),a&&(s.ya(),s.g&&Me(s.g)),a=s,a==null)throw Error("Unable to set parent component");a.Y=null,Yo.K.Za.call(a,null)}}if(!s)throw Error("Child is not in parent component");return s};function Mt(s,a){var u=jo(s,"firebaseui-textfield");a?(xr(s,"firebaseui-input-invalid"),Tr(s,"firebaseui-input"),u&&xr(u,"firebaseui-textfield-invalid")):(xr(s,"firebaseui-input"),Tr(s,"firebaseui-input-invalid"),u&&Tr(u,"firebaseui-textfield-invalid"))}function bl(s,a,u){a=new bc(a),nc(s,W(ic,a)),wl(Ec(s),a,"input",u)}function Ic(s,a,u){a=new Sc(a),nc(s,W(ic,a)),wl(Ec(s),a,"key",function(d){d.keyCode==13&&(d.stopPropagation(),d.preventDefault(),u(d))})}function F5(s,a,u){a=new vl(a),nc(s,W(ic,a)),wl(Ec(s),a,"focusin",u)}function j5(s,a,u){a=new vl(a),nc(s,W(ic,a)),wl(Ec(s),a,"focusout",u)}function xt(s,a,u){a=new ml(a),nc(s,W(ic,a)),wl(Ec(s),a,"action",function(d){d.stopPropagation(),d.preventDefault(),u(d)})}function Ci(s){Tr(s,"firebaseui-hidden")}function mn(s,a){a&&Ji(s,a),xr(s,"firebaseui-hidden")}function Sl(s){return!wc(s,"firebaseui-hidden")&&s.style.display!="none"}function El(s){s=s||{};var a=s.email,u=s.disabled,d='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return d=s.wc?d+"Enter new email address":d+"Email",d+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Qn(a??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',be(d)}function ci(s){s=s||{},s=s.label;var a='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return a=s?a+Oe(s):a+"Next",be(a+"</button>")}function By(){var s=""+ci({label:Ot("Sign In")});return be(s)}function wE(){var s=""+ci({label:Ot("Save")});return be(s)}function er(){var s=""+ci({label:Ot("Continue")});return be(s)}function _E(s){s=s||{},s=s.label;var a='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return a=s?a+Oe(s):a+"Choose password",be(a+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function bE(){var s={},a='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return a=s.current?a+"Current password":a+"Password",be(a+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function SE(){return be('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function ki(s){s=s||{},s=s.label;var a='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return a=s?a+Oe(s):a+"Cancel",be(a+"</button>")}function Cn(s){var a="";return s.F&&s.D&&(a+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),be(a)}function Il(s){var a="";return s.F&&s.D&&(a+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),be(a)}function EE(s){return s='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Oe(s.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',be(s)}EE.a="firebaseui.auth.soy2.element.infoBar";function IE(s){var a=s.content;return s=s.Ab,be('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(s?" "+Qn(s):"")+'">'+Oe(a)+"</dialog>")}function CE(s){var a=s.message;return be(IE({content:_b('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Qn(s.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Oe(a)+"</div>")}))}CE.a="firebaseui.auth.soy2.element.progressDialog";function kE(s){var a='<div class="firebaseui-list-box-actions">';s=s.items;for(var u=s.length,d=0;d<u;d++){var m=s[d];a+='<button type="button" data-listboxid="'+Qn(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Qn(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Oe(m.label)+"</div></button>"}return a=""+IE({Ab:Ot("firebaseui-list-box-dialog"),content:_b(a+"</div>")}),be(a)}kE.a="firebaseui.auth.soy2.element.listBoxDialog";function Yf(s){return s=s||{},be(s.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Yf.a="firebaseui.auth.soy2.element.busyIndicator";function Bs(s,a){return s=s||{},s=s.ga,Ze(s.S?s.S:a.hb[s.providerId]?""+a.hb[s.providerId]:s.providerId&&s.providerId.indexOf("saml.")==0||s.providerId&&s.providerId.indexOf("oidc.")==0?s.providerId.substring(5):""+s.providerId)}function $y(s){TE(s,"upgradeElement")}function Vy(s){TE(s,"downgradeElements")}var B5=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function TE(s,a){s&&window.componentHandler&&window.componentHandler[a]&&B5.forEach(function(u){wc(s,u)&&window.componentHandler[a](s),Ie(bi(u,s),function(d){window.componentHandler[a](d)})})}function xE(s,a,u){if(Qf.call(this),document.body.appendChild(s),s.showModal||window.dialogPolyfill.registerDialog(s),s.showModal(),$y(s),a&&xt(this,s,function(w){var R=s.getBoundingClientRect();(w.clientX<R.left||R.left+R.width<w.clientX||w.clientY<R.top||R.top+R.height<w.clientY)&&Qf.call(this)}),!u){var d=this.N().parentElement||this.N().parentNode;if(d){var m=this;this.da=function(){if(s.open){var w=s.getBoundingClientRect().height,R=d.getBoundingClientRect().height,V=d.getBoundingClientRect().top-document.body.getBoundingClientRect().top,te=d.getBoundingClientRect().left-document.body.getBoundingClientRect().left,fe=s.getBoundingClientRect().width,ke=d.getBoundingClientRect().width;s.style.top=(V+(R-w)/2).toString()+"px",w=te+(ke-fe)/2,s.style.left=w.toString()+"px",s.style.right=(document.body.getBoundingClientRect().width-w-fe).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Qf(){var s=Gy.call(this);s&&(Vy(s),s.open&&s.close(),Me(s),this.da&&window.removeEventListener("resize",this.da))}function Gy(){return Yn("firebaseui-id-dialog")}function AE(){Me(RE.call(this))}function RE(){return Qe(this,"firebaseui-id-info-bar")}function PE(){return Qe(this,"firebaseui-id-dismiss-info-bar")}var $5={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function zy(s,a,u){Qr.call(this,s,a);for(var d in u)this[d]=u[d]}Q(zy,Qr);function le(s,a,u,d,m){Yo.call(this,u),this.fb=s,this.eb=a,this.Fa=!1,this.Ga=d||null,this.A=this.ca=null,this.Z=Ba($5),mr(this.Z,m||{})}Q(le,Yo),t=le.prototype,t.kb=function(){var s=ec(this.fb,this.eb,this.Z,this.s);$y(s),this.g=s},t.v=function(){if(le.K.v.call(this),Nb(It(this),new zy("pageEnter",It(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var s=this.Z.F;xt(this,this.bb(),function(){s()})}if(this.ab()&&this.Z.D){var a=this.Z.D;xt(this,this.ab(),function(){a()})}},t.ya=function(){Nb(It(this),new zy("pageExit",It(this),{pageId:this.Ga})),le.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Vy(this.N()),le.K.o.call(this)};function V5(s){s.Fa=!0;var a=wc(s.N(),"firebaseui-use-spinner");s.ca=window.setTimeout(function(){s.N()&&s.A===null&&(s.A=ec(Yf,{tb:a},null,s.s),s.N().appendChild(s.A),$y(s.A))},500)}t.I=function(s,a,u,d){function m(){if(w.T)return null;w.Fa=!1,window.clearTimeout(w.ca),w.ca=null,w.A&&(Vy(w.A),Me(w.A),w.A=null)}var w=this;return w.Fa?null:(V5(w),s.apply(null,a).then(u,d).then(m,m))};function It(s){return s.N().parentElement||s.N().parentNode}function Cc(s,a,u){Ic(s,a,function(){u.focus()})}function Cl(s,a,u){Ic(s,a,function(){u()})}U(le.prototype,{a:function(s){AE.call(this);var a=ec(EE,{message:s},null,this.s);this.N().appendChild(a),xt(this,PE.call(this),function(){Me(a)})},yc:AE,Ac:RE,zc:PE,$:function(s,a){s=ec(CE,{Ma:s,message:a},null,this.s),xE.call(this,s)},h:Qf,Cb:Gy,Cc:function(){return Qe(this,"firebaseui-tos")},bb:function(){return Qe(this,"firebaseui-tos-link")},ab:function(){return Qe(this,"firebaseui-pp-link")},Dc:function(){return Qe(this,"firebaseui-tos-list")}});function DE(s,a,u){s=s||{},a=s.Va;var d=s.ia;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+El(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?ki(null):"")+ci(null)+'</div></div><div class="firebaseui-card-footer">'+(d?Il(u):Cn(u))+"</div></form></div>",be(s)}DE.a="firebaseui.auth.soy2.page.signIn";function NE(s,a,u){return s=s||{},a=s.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+El(s)+bE()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+SE()+'</div><div class="firebaseui-form-actions">'+By()+'</div></div><div class="firebaseui-card-footer">'+(a?Il(u):Cn(u))+"</div></form></div>",be(s)}NE.a="firebaseui.auth.soy2.page.passwordSignIn";function OE(s,a,u){s=s||{};var d=s.Tb;a=s.Ta;var m=s.ia,w='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+El(s);return d?(s=s||{},s=s.name,s='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Qn(s??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',s=be(s)):s="",u=w+s+_E(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?ki(null):"")+wE()+'</div></div><div class="firebaseui-card-footer">'+(m?Il(u):Cn(u))+"</div></form></div>",be(u)}OE.a="firebaseui.auth.soy2.page.passwordSignUp";function LE(s,a,u){return s=s||{},a=s.Ta,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+El(s)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?ki(null):"")+ci({label:Ot("Send")})+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form></div>",be(s)}LE.a="firebaseui.auth.soy2.page.passwordRecovery";function ME(s,a,u){a=s.G;var d="";return s="Follow the instructions sent to <strong>"+(Oe(s.email)+"</strong> to recover your password"),d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">',a&&(d+='<div class="firebaseui-form-actions">'+ci({label:Ot("Done")})+"</div>"),d+='</div><div class="firebaseui-card-footer">'+Cn(u)+"</div></div>",be(d)}ME.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function UE(s,a,u){return be('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Yf(null)+"</div></div>")}UE.a="firebaseui.auth.soy2.page.callback";function FE(s,a,u){return be('<div class="firebaseui-container firebaseui-id-page-spinner">'+Yf({tb:!0})+"</div>")}FE.a="firebaseui.auth.soy2.page.spinner";function jE(){return be('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}jE.a="firebaseui.auth.soy2.page.blank";function BE(s,a,u){a="",s="A sign-in email with additional instructions was sent to <strong>"+(Oe(s.email)+"</strong>. Check your email to complete sign-in.");var d=be('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+d+'</div><div class="firebaseui-form-actions">'+ki({label:Ot("Back")})+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form></div>",be(a)}BE.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function $E(s,a,u){return s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+be('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+ki({label:Ot("Back")})+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form></div>",be(s)}$E.a="firebaseui.auth.soy2.page.emailNotReceived";function VE(s,a,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+El(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ki(null)+ci(null)+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form></div>",be(s)}VE.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function GE(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ki({label:Ot("Dismiss")})+"</div></div></div>";return be(s)}GE.a="firebaseui.auth.soy2.page.differentDeviceError";function zE(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ki({label:Ot("Dismiss")})+"</div></div></div>";return be(s)}zE.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function HE(s,a,u){return a="",s="You’ve already used <strong>"+(Oe(s.email)+"</strong> to sign in. Enter your password for that account."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+s+"</p>"+bE()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+SE()+'</div><div class="firebaseui-form-actions">'+By()+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form></div>",be(a)}HE.a="firebaseui.auth.soy2.page.passwordLinking";function WE(s,a,u){var d=s.email;return a="",s=""+Bs(s,u),s=Ot(s),d="You’ve already used <strong>"+(Oe(d)+("</strong>. You can connect your <strong>"+(Oe(s)+("</strong> account with <strong>"+(Oe(d)+"</strong> by signing in with email link below."))))),s="For this flow to successfully connect your "+(Oe(s)+" account with this email, you have to open the link on the same device or browser."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+d+'<p class="firebaseui-text firebaseui-text-justify">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+By()+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form></div>",be(a)}WE.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function qE(s,a,u){a="";var d=""+Bs(s,u);return d=Ot(d),s="You originally intended to connect <strong>"+(Oe(d)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),d="If you still want to connect your <strong>"+(Oe(d)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+s+'</p><p class="firebaseui-text firebaseui-text-justify">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+er()+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form></div>",be(a)}qE.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function KE(s,a,u){var d=s.email;return a="",s=""+Bs(s,u),s=Ot(s),d="You’ve already used <strong>"+(Oe(d)+("</strong>. Sign in with "+(Oe(s)+" to continue."))),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ci({label:Ot("Sign in with "+s)})+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form></div>",be(a)}KE.a="firebaseui.auth.soy2.page.federatedLinking";function YE(s,a,u){s=s||{};var d=s.kc;a=s.yb,s=s.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return d?(d="<strong>"+(Oe(d)+"</strong> is not authorized to view the requested page."),m+=d):m+="User is not authorized to view the requested page.",m+="</p>",a&&(a="Please contact <strong>"+(Oe(a)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+a+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',s&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+ki({label:Ot("Back")})+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form></div>",be(m)}YE.a="firebaseui.auth.soy2.page.unauthorizedUser";function QE(s,a,u){return a="",s="To continue sign in with <strong>"+(Oe(s.email)+"</strong> on this device, you have to recover the password."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ki(null)+ci({label:Ot("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form></div>",be(a)}QE.a="firebaseui.auth.soy2.page.unsupportedProvider";function XE(s){var a="",u='<p class="firebaseui-text">for <strong>'+(Oe(s.email)+"</strong></p>");return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+_E(RN(s))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wE()+"</div></div></form></div>",be(a)}XE.a="firebaseui.auth.soy2.page.passwordReset";function JE(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+er()+"</div>":"")+"</div></div>",be(s)}JE.a="firebaseui.auth.soy2.page.passwordResetSuccess";function ZE(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+er()+"</div>":"")+"</div></div>",be(s)}ZE.a="firebaseui.auth.soy2.page.passwordResetFailure";function eI(s){var a=s.G,u="";return s="Your sign-in email address has been changed back to <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+er()+"</div>":"")+"</div></form></div>",be(u)}eI.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function tI(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+er()+"</div>":"")+"</div></div>",be(s)}tI.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function nI(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+er()+"</div>":"")+"</div></div>",be(s)}nI.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function iI(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+er()+"</div>":"")+"</div></div>",be(s)}iI.a="firebaseui.auth.soy2.page.emailVerificationFailure";function rI(s){var a=s.G,u="";return s="You can now sign in with your new email <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+er()+"</div>":"")+"</div></div>",be(u)}rI.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function sI(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+er()+"</div>":"")+"</div></div>",be(s)}sI.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function oI(s){var a=s.factorId,u=s.phoneNumber;s=s.G;var d='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(a){case"phone":a="The <strong>"+(Oe(a)+(" "+(Oe(u)+"</strong> was removed as a second authentication step."))),d+=a;break;default:d+="The device or app was removed as a second authentication step."}return d+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(s?'<div class="firebaseui-form-actions">'+er()+"</div>":"")+"</div></form></div>",be(d)}oI.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function aI(s){return s=s||{},s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(s.G?'<div class="firebaseui-form-actions">'+er()+"</div>":"")+"</div></div>",be(s)}aI.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function lI(s){var a=s.zb;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',a&&(s+=ci({label:Ot("Retry")})),be(s+"</div></div></div>")}lI.a="firebaseui.auth.soy2.page.recoverableError";function uI(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+"</p></div></div>",be(s)}uI.a="firebaseui.auth.soy2.page.unrecoverableError";function cI(s,a,u){var d=s.Qb;return a="",s="Continue with "+(Oe(s.jc)+"?"),d="You originally wanted to sign in with "+Oe(d),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+s+'</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ki(null)+ci({label:Ot("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form></div>",be(a)}cI.a="firebaseui.auth.soy2.page.emailMismatch";function hI(s,a,u){var d='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';s=s.Sb,a=s.length;for(var m=0;m<a;m++){var w={ga:s[m]},R=u;w=w||{};var V=w.ga,te=w;te=te||{};var fe="";switch(te.ga.providerId){case"google.com":fe+="firebaseui-idp-google";break;case"github.com":fe+="firebaseui-idp-github";break;case"facebook.com":fe+="firebaseui-idp-facebook";break;case"twitter.com":fe+="firebaseui-idp-twitter";break;case"phone":fe+="firebaseui-idp-phone";break;case"anonymous":fe+="firebaseui-idp-anonymous";break;case"password":fe+="firebaseui-idp-password";break;default:fe+="firebaseui-idp-generic"}te='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Qn(Ze(fe))+' firebaseui-id-idp-button" data-provider-id="'+Qn(V.providerId)+'" style="background-color:',fe=(fe=w)||{},fe=fe.ga,te=te+Qn(bb(Ze(fe.ta?fe.ta:R.wa[fe.providerId]?""+R.wa[fe.providerId]:fe.providerId.indexOf("saml.")==0?""+R.wa.saml:fe.providerId.indexOf("oidc.")==0?""+R.wa.oidc:""+R.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var ke=w;fe=R,ke=ke||{},ke=ke.ga,fe=AN(ke.za?Bo(ke.za):fe.xa[ke.providerId]?Bo(fe.xa[ke.providerId]):ke.providerId.indexOf("saml.")==0?Bo(fe.xa.saml):ke.providerId.indexOf("oidc.")==0?Bo(fe.xa.oidc):Bo(fe.xa.password)),te=te+Qn(Bo(fe))+'"></span>',V.providerId=="password"?(te+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',V.V?te+=Oe(V.V):V.S?(w="Sign in with "+Oe(Bs(w,R)),te+=w):te+="Sign in with email",te+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',te=V.S?te+Oe(V.S):te+"Email",te+="</span>"):V.providerId=="phone"?(te+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',V.V?te+=Oe(V.V):V.S?(w="Sign in with "+Oe(Bs(w,R)),te+=w):te+="Sign in with phone",te+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',te=V.S?te+Oe(V.S):te+"Phone",te+="</span>"):V.providerId=="anonymous"?(te+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',V.V?te+=Oe(V.V):V.S?(w="Sign in with "+Oe(Bs(w,R)),te+=w):te+="Continue as guest",te+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',te=V.S?te+Oe(V.S):te+"Guest",te+="</span>"):(te+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',V.V?te+=Oe(V.V):(fe="Sign in with "+Oe(Bs(w,R)),te+=fe),te+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(V.S?Oe(V.S):Oe(Bs(w,R)))+"</span>"),V=be(te+"</button>"),d+='<li class="firebaseui-list-item">'+V+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Il(u)+"</div></div>",be(d)}hI.a="firebaseui.auth.soy2.page.providerSignIn";function dI(s,a,u){s=s||{};var d=s.Gb,m=s.Va;a=s.ia,s=s||{},s=s.Aa,s='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Qn(s??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+be(s);var w;return d?w=be('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):w="",w=s+w+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?ki(null):"")+ci({label:Ot("Verify")})+'</div></div><div class="firebaseui-card-footer">',a?(a='<p class="firebaseui-tos firebaseui-phone-tos">',a=u.F&&u.D?a+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':a+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=be(a+"</p>")):u=be('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Cn(u),be(w+u+"</div></form></div>")}dI.a="firebaseui.auth.soy2.page.phoneSignInStart";function fI(s,a,u){s=s||{},a=s.phoneNumber;var d="";return s='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Oe(a)+"</a>"),Oe(a),a=d,d=be('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+"</p>"+d+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ki(null)+ci({label:Ot("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Cn(u)+"</div></form>",s=be('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),be(a+(u+s+"</div>"))}fI.a="firebaseui.auth.soy2.page.phoneSignInFinish";function pI(){return be('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}pI.a="firebaseui.auth.soy2.page.signOut";function gI(s,a,u){var d='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';s=s.ec,a=s.length;for(var m=0;m<a;m++){var w=s[m],R="",V=Oe(w.displayName),te=w.tenantId?w.tenantId:"top-level-project";te=Ot(te),R+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Qn(te)+' firebaseui-id-tenant-selection-button"'+(w.tenantId?'data-tenant-id="'+Qn(w.tenantId)+'"':"")+'style="background-color:'+Qn(bb(w.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Qn(Bo(w.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',w.V?R+=Oe(w.V):(w="Sign in to "+Oe(w.displayName),R+=w),R=be(R+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+V+"</span></button>")),d+='<li class="firebaseui-list-item">'+R+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Il(u)+"</div></div>",be(d)}gI.a="firebaseui.auth.soy2.page.selectTenant";function mI(s,a,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+El(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ci(null)+'</div></div><div class="firebaseui-card-footer">'+Il(u)+"</div></form></div>",be(s)}mI.a="firebaseui.auth.soy2.page.providerMatchByEmail";function nn(){return Qe(this,"firebaseui-id-submit")}function Kt(){return Qe(this,"firebaseui-id-secondary-link")}function vn(s,a){xt(this,nn.call(this),function(d){s(d)});var u=Kt.call(this);u&&a&&xt(this,u,function(d){a(d)})}function Xf(){return Qe(this,"firebaseui-id-password")}function Jf(){return Qe(this,"firebaseui-id-password-error")}function vI(){var s=Xf.call(this),a=Jf.call(this);bl(this,s,function(){Sl(a)&&(Mt(s,!0),Ci(a))})}function yI(){var s=Xf.call(this),a=Jf.call(this);return gn(s)?(Mt(s,!0),Ci(a),a=!0):(Mt(s,!1),mn(a,Ze("Enter your password").toString()),a=!1),a?gn(s):null}function kl(s,a,u,d,m,w){le.call(this,HE,{email:s},w,"passwordLinking",{F:d,D:m}),this.w=a,this.H=u}f(kl,le),kl.prototype.v=function(){this.P(),this.M(this.w,this.H),Cl(this,this.i(),this.w),this.i().focus(),le.prototype.v.call(this)},kl.prototype.o=function(){this.w=null,le.prototype.o.call(this)},kl.prototype.j=function(){return gn(Qe(this,"firebaseui-id-email"))},U(kl.prototype,{i:Xf,B:Jf,P:vI,u:yI,ea:nn,ba:Kt,M:vn});var G5=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Zr(){return Qe(this,"firebaseui-id-email")}function $s(){return Qe(this,"firebaseui-id-email-error")}function Tl(s){var a=Zr.call(this),u=$s.call(this);bl(this,a,function(){Sl(u)&&(Mt(a,!0),Ci(u))}),s&&Ic(this,a,function(){s()})}function xl(){return Nt(gn(Zr.call(this))||"")}function Al(){var s=Zr.call(this),a=$s.call(this),u=gn(s)||"";return u?G5.test(u)?(Mt(s,!0),Ci(a),a=!0):(Mt(s,!1),mn(a,Ze("That email address isn't correct").toString()),a=!1):(Mt(s,!1),mn(a,Ze("Enter your email address to continue").toString()),a=!1),a?Nt(gn(s)):null}function kc(s,a,u,d,m,w,R){le.call(this,NE,{email:u,ia:!!w},R,"passwordSignIn",{F:d,D:m}),this.w=s,this.H=a}f(kc,le),kc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Cc(this,this.l(),this.i()),Cl(this,this.i(),this.w),gn(this.l())?this.i().focus():this.l().focus(),le.prototype.v.call(this)},kc.prototype.o=function(){this.H=this.w=null,le.prototype.o.call(this)},U(kc.prototype,{l:Zr,U:$s,P:Tl,M:xl,j:Al,i:Xf,B:Jf,ea:vI,u:yI,ua:nn,pa:Kt,ba:vn});function ot(s,a,u,d,m,w){le.call(this,s,a,d,m||"notice",w),this.i=u||null}Q(ot,le),ot.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),ot.K.v.call(this)},ot.prototype.o=function(){this.i=null,ot.K.o.call(this)},U(ot.prototype,{l:nn,w:Kt,u:vn});function Zf(s,a,u,d,m){ot.call(this,ME,{email:s,G:!!a},a,m,"passwordRecoveryEmailSent",{F:u,D:d})}Q(Zf,ot);function wI(s,a){ot.call(this,nI,{G:!!s},s,a,"emailVerificationSuccess")}Q(wI,ot);function _I(s,a){ot.call(this,iI,{G:!!s},s,a,"emailVerificationFailure")}Q(_I,ot);function bI(s,a,u){ot.call(this,rI,{email:s,G:!!a},a,u,"verifyAndChangeEmailSuccess")}Q(bI,ot);function SI(s,a){ot.call(this,sI,{G:!!s},s,a,"verifyAndChangeEmailFailure")}Q(SI,ot);function EI(s,a){ot.call(this,aI,{G:!!s},s,a,"revertSecondFactorAdditionFailure")}Q(EI,ot);function II(s){ot.call(this,pI,void 0,void 0,s,"signOut")}Q(II,ot);function CI(s,a){ot.call(this,JE,{G:!!s},s,a,"passwordResetSuccess")}Q(CI,ot);function kI(s,a){ot.call(this,ZE,{G:!!s},s,a,"passwordResetFailure")}Q(kI,ot);function TI(s,a){ot.call(this,tI,{G:!!s},s,a,"emailChangeRevokeFailure")}Q(TI,ot);function xI(s,a,u){ot.call(this,lI,{errorMessage:s,zb:!!a},a,u,"recoverableError")}Q(xI,ot);function AI(s,a){ot.call(this,uI,{errorMessage:s},void 0,a,"unrecoverableError")}Q(AI,ot);function Tc(s){if(s.code==="auth/invalid-credential"&&s.message&&s.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(s.message&&s.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var a=JSON.parse(s.message.substring(s.message.indexOf("{"),s.message.lastIndexOf("}")+1));return{code:s.code,message:a&&a.error&&a.error.message||s.message}}return s}function es(s,a,u,d){function m(R){if(!R.name||R.name!="cancel"){e:{var V=R.message;try{var te=((JSON.parse(V).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(te&&te.length){var fe=!0;break e}}catch{}fe=!1}if(fe)R=It(a),a.m(),gt(s,R,void 0,Ze("Your sign-in session has expired. Please try again.").toString());else{if(fe=R&&R.message||"",R.code){if(R.code=="auth/email-already-in-use"||R.code=="auth/credential-already-in-use")return;fe=ht(R)}a.a(fe)}}}if(XI(s),d)return RI(s,u),Lt();if(!u.credential)throw Error("No credential found!");if(!We(s).currentUser&&!u.user)throw Error("User not logged in.");try{var w=bO(s,u)}catch(R){return Ei(R.code||R.message,R),a.a(R.code||R.message),Lt()}return u=w.then(function(R){RI(s,R)},m).then(void 0,m),$e(s,w),Lt(u)}function RI(s,a){if(!a.user)throw Error("No user found");var u=JS(ce(s));if(Ry(ce(s))&&u&&js("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=JS(ce(s));var d=PS(Ne(s))||void 0;ui(fc,Ne(s));var m=!1;Xb()?((!u||u(a,d))&&(m=!0,pt(window.opener.location,ep(s,d))),u||window.close()):(!u||u(a,d))&&(m=!0,pt(window.location,ep(s,d))),m||s.reset()}else{u=a.user,a=a.credential,d=Ry(ce(s)),m=PS(Ne(s))||void 0,ui(fc,Ne(s));var w=!1;Xb()?((!d||d(u,a,m))&&(w=!0,pt(window.opener.location,ep(s,m))),d||window.close()):(!d||d(u,a,m))&&(w=!0,pt(window.location,ep(s,m))),w||s.reset()}}function ep(s,a){if(s=a||ce(s).a.get("signInSuccessUrl"),!s)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return s}function ht(s){var a={code:s.code};a=a||{};var u="";switch(a.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=kb();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=kb();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=zv();break;case"auth/invalid-verification-code":u+=Ze("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(a=Ze(u).toString())return a;try{return JSON.parse(s.message),Ei("Internal error: "+s.message,void 0),Eb().toString()}catch{return s.message}}function z5(s,a,u){var d=dl[a]&&Te.auth[dl[a]]?new Te.auth[dl[a]]:a.indexOf("saml.")==0?new Te.auth.SAMLAuthProvider(a):new Te.auth.OAuthProvider(a);if(!d)throw Error("Invalid Firebase Auth provider!");var m=qS(ce(s),a);if(d.addScope)for(var w=0;w<m.length;w++)d.addScope(m[w]);return m=KS(ce(s),a)||{},u&&(a==Te.auth.GoogleAuthProvider.PROVIDER_ID?s="login_hint":a==Te.auth.GithubAuthProvider.PROVIDER_ID?s="login":s=(s=mc(ce(s),a))&&s.Ob,s&&(m[s]=u)),d.setCustomParameters&&d.setCustomParameters(m),d}function xc(s,a,u,d){function m(){y5(new gS(s.h.tenantId||null),Ne(s)),$e(s,a.I(z(s.dc,s),[te],function(){if((window.location&&window.location.protocol)==="file:")return $e(s,WI(s).then(function(fe){a.m(),ui(Wo,Ne(s)),Ce("callback",s,V,Lt(fe))},w))},R))}function w(fe){if(ui(Wo,Ne(s)),!fe.name||fe.name!="cancel")switch(fe=Tc(fe),fe.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":a.a(ht(fe));break;case"auth/admin-restricted-operation":a.m(),Ko(ce(s))?Ce("handleUnauthorizedUser",s,V,null,u):Ce("callback",s,V,tl(fe));break;default:a.m(),Ce("callback",s,V,tl(fe))}}function R(fe){ui(Wo,Ne(s)),fe.name&&fe.name=="cancel"||(Ei("signInWithRedirect: "+fe.code,void 0),fe=ht(fe),a.Ga=="blank"&&Ay(ce(s))?(a.m(),Ce("providerSignIn",s,V,fe)):a.a(fe))}var V=It(a),te=z5(s,u,d);XS(ce(s))==zf?m():$e(s,_O(s,te).then(function(fe){a.m(),Ce("callback",s,V,Lt(fe))},w))}function H5(s,a){$e(s,a.I(z(s.$b,s),[],function(u){return a.m(),es(s,a,u,!0)},function(u){u.name&&u.name=="cancel"||(Ei("ContinueAsGuest: "+u.code,void 0),u=ht(u),a.a(u))}))}function W5(s,a,u){function d(w){var R=!1;return w=a.I(z(s.ac,s),[w],function(V){var te=It(a);a.m(),Ce("callback",s,te,Lt(V)),R=!0},function(V){if((!V.name||V.name!="cancel")&&(!V||V.code!="auth/credential-already-in-use"))if(V&&V.code=="auth/email-already-in-use"&&V.email&&V.credential){var te=It(a);a.m(),Ce("callback",s,te,tl(V))}else V&&V.code=="auth/admin-restricted-operation"&&Ko(ce(s))?(V=It(a),a.m(),Ce("handleUnauthorizedUser",s,V,null,Te.auth.GoogleAuthProvider.PROVIDER_ID)):(V=ht(V),a.a(V))}),$e(s,w),w.then(function(){return R},function(){return!1})}if(u&&u.credential&&u.clientId===HS(ce(s))){if(qS(ce(s),Te.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return xc(s,a,Te.auth.GoogleAuthProvider.PROVIDER_ID,m),Lt(!0)}return d(Te.auth.GoogleAuthProvider.credential(u.credential))}return u&&a.a(Ze("The selected credential for the authentication provider is not supported!").toString()),Lt(!1)}function q5(s,a){var u=a.j(),d=a.u();if(u)if(d){var m=Te.auth.EmailAuthProvider.credential(u,d);$e(s,a.I(z(s.bc,s),[u,d],function(w){return es(s,a,{user:w.user,credential:m,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo})},function(w){if(!w.name||w.name!="cancel")switch(w.code){case"auth/email-already-in-use":break;case"auth/email-exists":Mt(a.l(),!1),mn(a.U(),ht(w));break;case"auth/too-many-requests":case"auth/wrong-password":Mt(a.i(),!1),mn(a.B(),ht(w));break;default:Ei("verifyPassword: "+w.message,void 0),a.a(ht(w))}}))}else a.i().focus();else a.l().focus()}function tp(s){return s=fl(ce(s)),s.length==1&&s[0]==Te.auth.EmailAuthProvider.PROVIDER_ID}function PI(s){return s=fl(ce(s)),s.length==1&&s[0]==Te.auth.PhoneAuthProvider.PROVIDER_ID}function gt(s,a,u,d){tp(s)?d?Ce("signIn",s,a,u,d):Wy(s,a,u):s&&PI(s)&&!d?Ce("phoneSignInStart",s,a):s&&Ay(ce(s))&&!d?Ce("federatedRedirect",s,a,u):Ce("providerSignIn",s,a,d,u)}function DI(s,a,u,d){var m=It(a);$e(s,a.I(z(We(s).fetchSignInMethodsForEmail,We(s)),[u],function(w){a.m(),NI(s,m,w,u,d)},function(w){w=ht(w),a.a(w)}))}function NI(s,a,u,d,m,w){u.length||pl(ce(s))&&!pl(ce(s))?He(u,Te.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?Ce("passwordSignIn",s,a,d,w):u.length==1&&u[0]===Te.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?pl(ce(s))?Ce("sendEmailLinkForSignIn",s,a,d,function(){Ce("signIn",s,a)}):Ce("unsupportedProvider",s,a,d):(u=VS(u,fl(ce(s))))?(DS(new my(d),Ne(s)),Ce("federatedSignIn",s,a,d,u,m)):Ce("unsupportedProvider",s,a,d):WS(ce(s))?Ce("handleUnauthorizedUser",s,a,d,Te.auth.EmailAuthProvider.PROVIDER_ID):pl(ce(s))?Ce("sendEmailLinkForSignIn",s,a,d,function(){Ce("signIn",s,a)}):Ce("passwordSignUp",s,a,d,void 0,void 0,w)}function Hy(s,a,u,d,m,w){var R=It(a);$e(s,a.I(z(s.Ib,s),[u,w],function(){a.m(),Ce("emailLinkSignInSent",s,R,u,d,w)},m))}function Wy(s,a,u){u?Ce("prefilledEmailSignIn",s,a,u):Ce("signIn",s,a)}function Ac(){return Wr(Jr(),"oobCode")}function qy(){var s=Wr(Jr(),"continueUrl");return s?function(){pt(window.location,s)}:null}function Rc(s,a){le.call(this,zE,void 0,a,"anonymousUserMismatch"),this.i=s}f(Rc,le),Rc.prototype.v=function(){var s=this;xt(this,this.l(),function(){s.i()}),this.l().focus(),le.prototype.v.call(this)},Rc.prototype.o=function(){this.i=null,le.prototype.o.call(this)},U(Rc.prototype,{l:Kt}),nt.anonymousUserMismatch=function(s,a){var u=new Rc(function(){u.m(),gt(s,a)});u.render(a),Ge(s,u)};function np(s){le.call(this,UE,void 0,s,"callback")}f(np,le),np.prototype.I=function(s,a,u,d){return s.apply(null,a).then(u,d)};function OI(s,a,u){if(u.user){var d={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},m=Cr(Ne(s)),w=m&&m.g;if(w&&!Y5(u.user,w))K5(s,a,d);else{var R=m&&m.a;R?$e(s,u.user.linkWithCredential(R).then(function(V){d={user:V.user,credential:R,operationType:V.operationType,additionalUserInfo:V.additionalUserInfo},LI(s,a,d)},function(V){ip(s,a,V)})):LI(s,a,d)}}else u=It(a),a.m(),kr(Ne(s)),gt(s,u)}function LI(s,a,u){kr(Ne(s)),es(s,a,u)}function ip(s,a,u){var d=It(a);kr(Ne(s)),u=ht(u),a.m(),gt(s,d,void 0,u)}function MI(s,a,u,d){var m=It(a);$e(s,We(s).fetchSignInMethodsForEmail(u).then(function(w){a.m(),w.length?He(w,Te.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?Ce("passwordLinking",s,m,u):w.length==1&&w[0]===Te.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ce("emailLinkSignInLinking",s,m,u):(w=VS(w,fl(ce(s))))?Ce("federatedLinking",s,m,u,w,d):(kr(Ne(s)),Ce("unsupportedProvider",s,m,u)):(kr(Ne(s)),Ce("passwordRecovery",s,m,u,!1,Ib().toString()))},function(w){ip(s,a,w)}))}function K5(s,a,u){var d=It(a);$e(s,Vs(s).then(function(){a.m(),Ce("emailMismatch",s,d,u)},function(m){m.name&&m.name=="cancel"||(m=ht(m.code),a.a(m))}))}function Y5(s,a){if(a==s.email)return!0;if(s.providerData){for(var u=0;u<s.providerData.length;u++)if(a==s.providerData[u].email)return!0}return!1}nt.callback=function(s,a,u){var d=new np;d.render(a),Ge(s,d),u=u||WI(s),$e(s,u.then(function(m){OI(s,d,m)},function(m){if((m=Tc(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)DS(new my(m.email,m.credential),Ne(s)),MI(s,d,m.email);else if(m&&m.code=="auth/user-cancelled"){var w=Cr(Ne(s)),R=ht(m);w&&w.a?MI(s,d,w.g,R):w?DI(s,d,w.g,R):ip(s,d,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&tp(s)?OI(s,d,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&Ko(ce(s))?(d.m(),kr(Ne(s)),Ce("handleUnauthorizedUser",s,a,null,null)):ip(s,d,m))}))};function Pc(s,a){le.call(this,GE,void 0,a,"differentDeviceError"),this.i=s}f(Pc,le),Pc.prototype.v=function(){var s=this;xt(this,this.l(),function(){s.i()}),this.l().focus(),le.prototype.v.call(this)},Pc.prototype.o=function(){this.i=null,le.prototype.o.call(this)},U(Pc.prototype,{l:Kt}),nt.differentDeviceError=function(s,a){var u=new Pc(function(){u.m(),gt(s,a)});u.render(a),Ge(s,u)};function Dc(s,a,u,d){le.call(this,eI,{email:s,G:!!u},d,"emailChangeRevoke"),this.l=a,this.i=u||null}f(Dc,le),Dc.prototype.v=function(){var s=this;xt(this,Qe(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),le.prototype.v.call(this)},Dc.prototype.o=function(){this.l=this.i=null,le.prototype.o.call(this)},U(Dc.prototype,{u:nn,B:Kt,w:vn});function Nc(){return Qe(this,"firebaseui-id-new-password")}function rp(){return Qe(this,"firebaseui-id-password-toggle")}function Q5(){this.Ra=!this.Ra;var s=rp.call(this),a=Nc.call(this);this.Ra?(a.type="text",Tr(s,"firebaseui-input-toggle-off"),xr(s,"firebaseui-input-toggle-on")):(a.type="password",Tr(s,"firebaseui-input-toggle-on"),xr(s,"firebaseui-input-toggle-off")),a.focus()}function sp(){return Qe(this,"firebaseui-id-new-password-error")}function UI(){this.Ra=!1;var s=Nc.call(this);s.type="password";var a=sp.call(this);bl(this,s,function(){Sl(a)&&(Mt(s,!0),Ci(a))});var u=rp.call(this);Tr(u,"firebaseui-input-toggle-on"),xr(u,"firebaseui-input-toggle-off"),F5(this,s,function(){Tr(u,"firebaseui-input-toggle-focus"),xr(u,"firebaseui-input-toggle-blur")}),j5(this,s,function(){Tr(u,"firebaseui-input-toggle-blur"),xr(u,"firebaseui-input-toggle-focus")}),xt(this,u,z(Q5,this))}function FI(){var s=Nc.call(this),a=sp.call(this);return gn(s)?(Mt(s,!0),Ci(a),a=!0):(Mt(s,!1),mn(a,Ze("Enter your password").toString()),a=!1),a?gn(s):null}function Oc(s,a,u){le.call(this,XE,{email:s},u,"passwordReset"),this.l=a}f(Oc,le),Oc.prototype.v=function(){this.H(),this.B(this.l),Cl(this,this.i(),this.l),this.i().focus(),le.prototype.v.call(this)},Oc.prototype.o=function(){this.l=null,le.prototype.o.call(this)},U(Oc.prototype,{i:Nc,w:sp,M:rp,H:UI,u:FI,U:nn,P:Kt,B:vn});function Lc(s,a,u,d,m){le.call(this,oI,{factorId:s,phoneNumber:u||null,G:!!d},m,"revertSecondFactorAdditionSuccess"),this.l=a,this.i=d||null}f(Lc,le),Lc.prototype.v=function(){var s=this;xt(this,Qe(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),le.prototype.v.call(this)},Lc.prototype.o=function(){this.l=this.i=null,le.prototype.o.call(this)},U(Lc.prototype,{u:nn,B:Kt,w:vn});function X5(s,a,u,d,m){var w=u.u();w&&$e(s,u.I(z(We(s).confirmPasswordReset,We(s)),[d,w],function(){u.m();var R=new CI(m);R.render(a),Ge(s,R)},function(R){jI(s,a,u,R)}))}function jI(s,a,u,d){(d&&d.code)=="auth/weak-password"?(s=ht(d),Mt(u.i(),!1),mn(u.w(),s),u.i().focus()):(u&&u.m(),u=new kI,u.render(a),Ge(s,u))}function J5(s,a,u){var d=new Dc(u,function(){$e(s,d.I(z(We(s).sendPasswordResetEmail,We(s)),[u],function(){d.m(),d=new Zf(u,void 0,Vt(ce(s)),Gt(ce(s))),d.render(a),Ge(s,d)},function(){d.a(Sb().toString())}))});d.render(a),Ge(s,d)}function Z5(s,a,u,d){var m=new Lc(d.factorId,function(){m.I(z(We(s).sendPasswordResetEmail,We(s)),[u],function(){m.m(),m=new Zf(u,void 0,Vt(ce(s)),Gt(ce(s))),m.render(a),Ge(s,m)},function(){m.a(Sb().toString())})},d.phoneNumber);m.render(a),Ge(s,m)}nt.passwordReset=function(s,a,u,d){$e(s,We(s).verifyPasswordResetCode(u).then(function(m){var w=new Oc(m,function(){X5(s,a,w,u,d)});w.render(a),Ge(s,w)},function(){jI(s,a)}))},nt.emailChangeRevocation=function(s,a,u){var d=null;$e(s,We(s).checkActionCode(u).then(function(m){return d=m.data.email,We(s).applyActionCode(u)}).then(function(){J5(s,a,d)},function(){var m=new TI;m.render(a),Ge(s,m)}))},nt.emailVerification=function(s,a,u,d){$e(s,We(s).applyActionCode(u).then(function(){var m=new wI(d);m.render(a),Ge(s,m)},function(){var m=new _I;m.render(a),Ge(s,m)}))},nt.revertSecondFactorAddition=function(s,a,u){var d=null,m=null;$e(s,We(s).checkActionCode(u).then(function(w){return d=w.data.email,m=w.data.multiFactorInfo,We(s).applyActionCode(u)}).then(function(){Z5(s,a,d,m)},function(){var w=new EI;w.render(a),Ge(s,w)}))},nt.verifyAndChangeEmail=function(s,a,u,d){var m=null;$e(s,We(s).checkActionCode(u).then(function(w){return m=w.data.email,We(s).applyActionCode(u)}).then(function(){var w=new bI(m,d);w.render(a),Ge(s,w)},function(){var w=new SI;w.render(a),Ge(s,w)}))};function op(s,a){try{var u=typeof s.selectionStart=="number"}catch{u=!1}u?(s.selectionStart=a,s.selectionEnd=a):ft&&!Kr("9")&&(s.type=="textarea"&&(a=s.value.substring(0,a).replace(/(\r\n|\r|\n)/g,`
`).length),s=s.createTextRange(),s.collapse(!0),s.move("character",a),s.select())}function Mc(s,a,u,d,m,w){le.call(this,VE,{email:u},w,"emailLinkSignInConfirmation",{F:d,D:m}),this.l=s,this.u=a}f(Mc,le),Mc.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),op(this.i(),(this.i().value||"").length),le.prototype.v.call(this)},Mc.prototype.o=function(){this.u=this.l=null,le.prototype.o.call(this)},U(Mc.prototype,{i:Zr,M:$s,w:Tl,H:xl,j:Al,U:nn,P:Kt,B:vn}),nt.emailLinkConfirmation=function(s,a,u,d,m,w){var R=new Mc(function(){var V=R.j();V?(R.m(),d(s,a,V,u)):R.i().focus()},function(){R.m(),gt(s,a,m||void 0)},m||void 0,Vt(ce(s)),Gt(ce(s)));R.render(a),Ge(s,R),w&&R.a(w)};function Uc(s,a,u,d,m){le.call(this,qE,{ga:s},m,"emailLinkSignInLinkingDifferentDevice",{F:u,D:d}),this.i=a}f(Uc,le),Uc.prototype.v=function(){this.u(this.i),this.l().focus(),le.prototype.v.call(this)},Uc.prototype.o=function(){this.i=null,le.prototype.o.call(this)},U(Uc.prototype,{l:nn,u:vn}),nt.emailLinkNewDeviceLinking=function(s,a,u,d){var m=new _i(u);if(u=m.a.a.get(St.PROVIDER_ID)||null,br(m,null),u){var w=new Uc(mc(ce(s),u),function(){w.m(),d(s,a,m.toString())},Vt(ce(s)),Gt(ce(s)));w.render(a),Ge(s,w)}else gt(s,a)};function ap(s){le.call(this,jE,void 0,s,"blank")}f(ap,le);function Ky(s,a,u,d,m){var w=new ap,R=new _i(u),V=R.a.a.get(St.$a)||"",te=R.a.a.get(St.Sa)||"",fe=R.a.a.get(St.Qa)==="1",ke=sf(R),at=R.a.a.get(St.PROVIDER_ID)||null;R=R.a.a.get(St.vb)||null,JI(s,R);var ir=!cl(ul,Ne(s)),iC=d||w5(te,Ne(s)),Qc=(d=_5(te,Ne(s)))&&d.a;at&&Qc&&Qc.providerId!==at&&(Qc=null),w.render(a),Ge(s,w),$e(s,w.I(function(){var Vi=Lt(null);Vi=ke&&ir||ir&&fe?tl(Error("anonymous-user-not-found")):vO(s,u).then(function(s0){if(at&&!Qc)throw Error("pending-credential-not-found");return s0});var Xc=null;return Vi.then(function(s0){return Xc=s0,m?null:We(s).checkActionCode(V)}).then(function(){return Xc})},[],function(Vi){iC?tO(s,w,iC,u,Qc,Vi):fe?(w.m(),Ce("differentDeviceError",s,a)):(w.m(),Ce("emailLinkConfirmation",s,a,u,BI))},function(Vi){var Xc=void 0;if(!Vi||!Vi.name||Vi.name!="cancel")switch(w.m(),Vi&&Vi.message){case"anonymous-user-not-found":Ce("differentDeviceError",s,a);break;case"anonymous-user-mismatch":Ce("anonymousUserMismatch",s,a);break;case"pending-credential-not-found":Ce("emailLinkNewDeviceLinking",s,a,u,eO);break;default:Vi&&(Xc=ht(Vi)),gt(s,a,void 0,Xc)}}))}function BI(s,a,u,d){Ky(s,a,d,u,!0)}function eO(s,a,u){Ky(s,a,u)}function tO(s,a,u,d,m,w){var R=It(a);a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ze("Signing in...").toString());var V=null;m=(w?yO(s,w,u,d,m):wO(s,u,d,m)).then(function(te){ui(pc,Ne(s)),ui(ul,Ne(s)),a.h(),a.$("firebaseui-icon-done",Ze("Signed in!").toString()),V=setTimeout(function(){a.h(),es(s,a,te,!0)},1e3),$e(s,function(){a&&(a.h(),a.m()),clearTimeout(V)})},function(te){if(a.h(),a.m(),!te.name||te.name!="cancel"){te=Tc(te);var fe=ht(te);te.code=="auth/email-already-in-use"||te.code=="auth/credential-already-in-use"?(ui(pc,Ne(s)),ui(ul,Ne(s))):te.code=="auth/invalid-email"?(fe=Ze("The email provided does not match the current sign-in session.").toString(),Ce("emailLinkConfirmation",s,R,d,BI,null,fe)):gt(s,R,u,fe)}}),$e(s,m)}nt.emailLinkSignInCallback=Ky;function Fc(s,a,u,d,m,w){le.call(this,WE,{email:s,ga:a},w,"emailLinkSignInLinking",{F:d,D:m}),this.i=u}f(Fc,le),Fc.prototype.v=function(){this.u(this.i),this.l().focus(),le.prototype.v.call(this)},Fc.prototype.o=function(){this.i=null,le.prototype.o.call(this)},U(Fc.prototype,{l:nn,u:vn});function nO(s,a,u,d){var m=It(a);Hy(s,a,u,function(){gt(s,m,u)},function(w){if(!w.name||w.name!="cancel"){var R=ht(w);w&&w.code=="auth/network-request-failed"?a.a(R):(a.m(),gt(s,m,u,R))}},d)}nt.emailLinkSignInLinking=function(s,a,u){var d=Cr(Ne(s));if(kr(Ne(s)),d){var m=d.a.providerId,w=new Fc(u,mc(ce(s),m),function(){nO(s,w,u,d)},Vt(ce(s)),Gt(ce(s)));w.render(a),Ge(s,w)}else gt(s,a)};function jc(s,a,u,d,m,w){le.call(this,BE,{email:s},w,"emailLinkSignInSent",{F:d,D:m}),this.u=a,this.i=u}f(jc,le),jc.prototype.v=function(){var s=this;xt(this,this.l(),function(){s.i()}),xt(this,Qe(this,"firebaseui-id-trouble-getting-email-link"),function(){s.u()}),this.l().focus(),le.prototype.v.call(this)},jc.prototype.o=function(){this.i=this.u=null,le.prototype.o.call(this)},U(jc.prototype,{l:Kt}),nt.emailLinkSignInSent=function(s,a,u,d,m){var w=new jc(u,function(){w.m(),Ce("emailNotReceived",s,a,u,d,m)},function(){w.m(),d()},Vt(ce(s)),Gt(ce(s)));w.render(a),Ge(s,w)};function Bc(s,a,u,d,m,w,R){le.call(this,cI,{jc:s,Qb:a},R,"emailMismatch",{F:m,D:w}),this.l=u,this.i=d}f(Bc,le),Bc.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),le.prototype.v.call(this)},Bc.prototype.o=function(){this.i=null,le.prototype.o.call(this)},U(Bc.prototype,{u:nn,B:Kt,w:vn}),nt.emailMismatch=function(s,a,u){var d=Cr(Ne(s));if(d){var m=new Bc(u.user.email,d.g,function(){var w=m;kr(Ne(s)),es(s,w,u)},function(){var w=u.credential.providerId,R=It(m);m.m(),d.a?Ce("federatedLinking",s,R,d.g,w):Ce("federatedSignIn",s,R,d.g,w)},Vt(ce(s)),Gt(ce(s)));m.render(a),Ge(s,m)}else gt(s,a)};function Rl(s,a,u,d,m){le.call(this,$E,void 0,m,"emailNotReceived",{F:u,D:d}),this.l=s,this.i=a}f(Rl,le),Rl.prototype.v=function(){var s=this;xt(this,this.u(),function(){s.i()}),xt(this,this.Da(),function(){s.l()}),this.u().focus(),le.prototype.v.call(this)},Rl.prototype.Da=function(){return Qe(this,"firebaseui-id-resend-email-link")},Rl.prototype.o=function(){this.i=this.l=null,le.prototype.o.call(this)},U(Rl.prototype,{u:Kt}),nt.emailNotReceived=function(s,a,u,d,m){var w=new Rl(function(){Hy(s,w,u,d,function(R){R=ht(R),w.a(R)},m)},function(){w.m(),gt(s,a,u)},Vt(ce(s)),Gt(ce(s)));w.render(a),Ge(s,w)};function Pl(s,a,u,d,m,w){le.call(this,KE,{email:s,ga:a},w,"federatedLinking",{F:d,D:m}),this.i=u}f(Pl,le),Pl.prototype.v=function(){this.u(this.i),this.l().focus(),le.prototype.v.call(this)},Pl.prototype.o=function(){this.i=null,le.prototype.o.call(this)},U(Pl.prototype,{l:nn,u:vn}),nt.federatedLinking=function(s,a,u,d,m){var w=Cr(Ne(s));if(w&&w.a){var R=new Pl(u,mc(ce(s),d),function(){xc(s,R,d,u)},Vt(ce(s)),Gt(ce(s)));R.render(a),Ge(s,R),m&&R.a(m)}else gt(s,a)},nt.federatedRedirect=function(s,a,u){var d=new ap;d.render(a),Ge(s,d),a=fl(ce(s))[0],xc(s,d,a,u)},nt.federatedSignIn=function(s,a,u,d,m){var w=new Pl(u,mc(ce(s),d),function(){xc(s,w,d,u)},Vt(ce(s)),Gt(ce(s)));w.render(a),Ge(s,w),m&&w.a(m)};function iO(s,a,u,d){var m=a.u();m?$e(s,a.I(z(s.Xb,s),[u,m],function(w){return w=w.user.linkWithCredential(d).then(function(R){return es(s,a,{user:R.user,credential:d,operationType:R.operationType,additionalUserInfo:R.additionalUserInfo})}),$e(s,w),w},function(w){if(!w.name||w.name!="cancel")switch(w.code){case"auth/wrong-password":Mt(a.i(),!1),mn(a.B(),ht(w));break;case"auth/too-many-requests":a.a(ht(w));break;default:Ei("signInWithEmailAndPassword: "+w.message,void 0),a.a(ht(w))}})):a.i().focus()}nt.passwordLinking=function(s,a,u){var d=Cr(Ne(s));kr(Ne(s));var m=d&&d.a;if(m){var w=new kl(u,function(){iO(s,w,u,m)},function(){w.m(),Ce("passwordRecovery",s,a,u)},Vt(ce(s)),Gt(ce(s)));w.render(a),Ge(s,w)}else gt(s,a)};function $c(s,a,u,d,m,w){le.call(this,LE,{email:u,Ta:!!a},w,"passwordRecovery",{F:d,D:m}),this.l=s,this.u=a}f($c,le),$c.prototype.v=function(){this.B(),this.H(this.l,this.u),gn(this.i())||this.i().focus(),Cl(this,this.i(),this.l),le.prototype.v.call(this)},$c.prototype.o=function(){this.u=this.l=null,le.prototype.o.call(this)},U($c.prototype,{i:Zr,w:$s,B:Tl,M:xl,j:Al,U:nn,P:Kt,H:vn});function rO(s,a){var u=a.j();if(u){var d=It(a);$e(s,a.I(z(We(s).sendPasswordResetEmail,We(s)),[u],function(){a.m();var m=new Zf(u,function(){m.m(),gt(s,d)},Vt(ce(s)),Gt(ce(s)));m.render(d),Ge(s,m)},function(m){Mt(a.i(),!1),mn(a.w(),ht(m))}))}else a.i().focus()}nt.passwordRecovery=function(s,a,u,d,m){var w=new $c(function(){rO(s,w)},d?void 0:function(){w.m(),gt(s,a)},u,Vt(ce(s)),Gt(ce(s)));w.render(a),Ge(s,w),m&&w.a(m)},nt.passwordSignIn=function(s,a,u,d){var m=new kc(function(){q5(s,m)},function(){var w=m.M();m.m(),Ce("passwordRecovery",s,a,w)},u,Vt(ce(s)),Gt(ce(s)),d);m.render(a),Ge(s,m)};function Yy(){return Qe(this,"firebaseui-id-name")}function Qy(){return Qe(this,"firebaseui-id-name-error")}function Vc(s,a,u,d,m,w,R,V,te){le.call(this,OE,{email:d,Tb:s,name:m,Ta:!!u,ia:!!V},te,"passwordSignUp",{F:w,D:R}),this.w=a,this.H=u,this.B=s}f(Vc,le),Vc.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Cc(this,this.i(),this.u()),Cc(this,this.u(),this.l())):Cc(this,this.i(),this.l()),this.w&&Cl(this,this.l(),this.w),gn(this.i())?this.B&&!gn(this.u())?this.u().focus():this.l().focus():this.i().focus(),le.prototype.v.call(this)},Vc.prototype.o=function(){this.H=this.w=null,le.prototype.o.call(this)},U(Vc.prototype,{i:Zr,U:$s,ea:Tl,jb:xl,j:Al,u:Yy,Bc:Qy,Ja:function(){var s=Yy.call(this),a=Qy.call(this);bl(this,s,function(){Sl(a)&&(Mt(s,!0),Ci(a))})},M:function(){var s=Yy.call(this),a=Qy.call(this),u=gn(s);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),Mt(s,u),u?(Ci(a),a=!0):(mn(a,Ze("Enter your account name").toString()),a=!1),a?Nt(gn(s)):null},l:Nc,ba:sp,lb:rp,ua:UI,P:FI,Nb:nn,Mb:Kt,pa:vn});function sO(s,a){var u=QS(ce(s)),d=a.j(),m=null;u&&(m=a.M());var w=a.P();if(d){if(u)if(m)m=gr(m);else{a.u().focus();return}if(w){var R=Te.auth.EmailAuthProvider.credential(d,w);$e(s,a.I(z(s.Yb,s),[d,w],function(V){var te={user:V.user,credential:R,operationType:V.operationType,additionalUserInfo:V.additionalUserInfo};return u?(V=V.user.updateProfile({displayName:m}).then(function(){return es(s,a,te)}),$e(s,V),V):es(s,a,te)},function(V){if(!V.name||V.name!="cancel"){var te=Tc(V);switch(V=ht(te),te.code){case"auth/email-already-in-use":return oO(s,a,d,te);case"auth/too-many-requests":V=Ze("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Mt(a.l(),!1),mn(a.ba(),V);break;case"auth/admin-restricted-operation":Ko(ce(s))?(V=It(a),a.m(),Ce("handleUnauthorizedUser",s,V,d,Te.auth.EmailAuthProvider.PROVIDER_ID)):a.a(V);break;default:te="setAccountInfo: "+kS(te),Ei(te,void 0),a.a(V)}}}))}else a.l().focus()}else a.i().focus()}function oO(s,a,u,d){function m(){var R=ht(d);Mt(a.i(),!1),mn(a.U(),R),a.i().focus()}var w=We(s).fetchSignInMethodsForEmail(u).then(function(R){R.length?m():(R=It(a),a.m(),Ce("passwordRecovery",s,R,u,!1,Ib().toString()))},function(){m()});return $e(s,w),w}nt.passwordSignUp=function(s,a,u,d,m,w){function R(){V.m(),gt(s,a)}var V=new Vc(QS(ce(s)),function(){sO(s,V)},m?void 0:R,u,d,Vt(ce(s)),Gt(ce(s)),w);V.render(a),Ge(s,V)};function Xy(){return Qe(this,"firebaseui-id-phone-confirmation-code")}function $I(){return Qe(this,"firebaseui-id-phone-confirmation-code-error")}function VI(){return Qe(this,"firebaseui-id-resend-countdown")}function Dl(s,a,u,d,m,w,R,V,te){le.call(this,fI,{phoneNumber:m},te,"phoneSignInFinish",{F:R,D:V}),this.jb=w,this.i=new Hf(1e3),this.B=w,this.P=s,this.l=a,this.H=u,this.M=d}f(Dl,le),Dl.prototype.v=function(){var s=this;this.U(this.jb),Zi(this.i,"tick",this.w,!1,this),this.i.start(),xt(this,Qe(this,"firebaseui-id-change-phone-number-link"),function(){s.P()}),xt(this,this.Da(),function(){s.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),le.prototype.v.call(this)},Dl.prototype.o=function(){this.M=this.H=this.l=this.P=null,Wf(this.i),Vo(this.i,"tick",this.w),this.i=null,le.prototype.o.call(this)},Dl.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Wf(this.i),Vo(this.i,"tick",this.w),this.ua(),this.lb())},U(Dl.prototype,{u:Xy,pa:$I,Ja:function(s){var a=Xy.call(this),u=$I.call(this);bl(this,a,function(){Sl(u)&&(Mt(a,!0),Ci(u))}),s&&Ic(this,a,function(){s()})},ba:function(){var s=Nt(gn(Xy.call(this))||"");return/^\d{6}$/.test(s)?s:null},Fb:VI,U:function(s){Ji(VI.call(this),Ze("Resend code in "+((9<s?"0:":"0:0")+s)).toString())},ua:function(){Ci(this.Fb())},Da:function(){return Qe(this,"firebaseui-id-resend-link")},lb:function(){mn(this.Da())},Nb:nn,Mb:Kt,ea:vn});function aO(s,a,u,d){function m(R){a.u().focus(),Mt(a.u(),!1),mn(a.pa(),R)}var w=a.ba();w?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ze("Verifying...").toString()),$e(s,a.I(z(d.confirm,d),[w],function(R){a.h(),a.$("firebaseui-icon-done",Ze("Verified!").toString());var V=setTimeout(function(){a.h(),a.m();var te={user:tr(s).currentUser,credential:null,operationType:R.operationType,additionalUserInfo:R.additionalUserInfo};es(s,a,te,!0)},1e3);$e(s,function(){a&&a.h(),clearTimeout(V)})},function(R){if(R.name&&R.name=="cancel")a.h();else{var V=Tc(R);switch(R=ht(V),V.code){case"auth/credential-already-in-use":a.h();break;case"auth/code-expired":V=It(a),a.h(),a.m(),Ce("phoneSignInStart",s,V,u,R);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":a.h(),m(R);break;default:a.h(),a.a(R)}}}))):m(Ze("Wrong code. Try again.").toString())}nt.phoneSignInFinish=function(s,a,u,d,m,w){var R=new Dl(function(){R.m(),Ce("phoneSignInStart",s,a,u)},function(){aO(s,R,u,m)},function(){R.m(),gt(s,a)},function(){R.m(),Ce("phoneSignInStart",s,a,u)},Ty(u),d,Vt(ce(s)),Gt(ce(s)));R.render(a),Ge(s,R),w&&R.a(w)};var lO=!ft&&!(ze("Safari")&&!(of()||ze("Coast")||ze("Opera")||ze("Edge")||ze("Firefox")||ze("FxiOS")||ze("Silk")||ze("Android")));function lp(s,a){return/-[a-z]/.test(a)?null:lO&&s.dataset?!ze("Android")||of()||ze("Firefox")||ze("FxiOS")||ze("Opera")||ze("Silk")||a in s.dataset?(s=s.dataset[a],s===void 0?null:s):null:s.getAttribute("data-"+String(a).replace(/([A-Z])/g,"-$1").toLowerCase())}function uO(s,a,u){var d=this;s=ec(kE,{items:s},null,this.s),xE.call(this,s,!0,!0),u&&(u=cO(s,u))&&(u.focus(),U5(u,s)),xt(this,s,function(m){(m=(m=jo(m.target,"firebaseui-id-list-box-dialog-button"))&&lp(m,"listboxid"))&&(Qf.call(d),a(m))})}function cO(s,a){s=(s||document).getElementsByTagName("BUTTON");for(var u=0;u<s.length;u++)if(lp(s[u],"listboxid")===a)return s[u];return null}function Qo(){return Qe(this,"firebaseui-id-phone-number")}function GI(){return Qe(this,"firebaseui-id-country-selector")}function Jy(){return Qe(this,"firebaseui-id-phone-number-error")}function hO(s,a){var u=s.a,d=Zy("1-US-0",u),m=null;if(a&&Zy(a,u)?m=a:d?m="1-US-0":m=0<u.length?u[0].c:null,!m)throw Error("No available default country");up.call(this,m,s)}function Zy(s,a){return s=qo(s),!(!s||!He(a,s))}function dO(s){return s.map(function(a){return{id:a.c,Ma:"firebaseui-flag "+e0(a),label:a.name+" "+("‎+"+a.b)}})}function e0(s){return"firebaseui-flag-"+s.f}function fO(s){var a=this;uO.call(this,dO(s.a),function(u){up.call(a,u,s,!0),a.O().focus()},this.Ba)}function up(s,a,u){var d=qo(s);d&&(u&&(u=Nt(gn(Qo.call(this))||""),a=Bf(a,u),a.length&&a[0].b!=d.b&&(u="+"+d.b+u.substr(a[0].b.length+1),nE(Qo.call(this),u))),a=qo(this.Ba),this.Ba=s,s=Qe(this,"firebaseui-id-country-selector-flag"),a&&xr(s,e0(a)),Tr(s,e0(d)),Ji(Qe(this,"firebaseui-id-country-selector-code"),"‎+"+d.b))}function Gc(s,a,u,d,m,w,R,V,te,fe){le.call(this,dI,{Gb:a,Aa:te||null,Va:!!u,ia:!!w},fe,"phoneSignInStart",{F:d,D:m}),this.H=V||null,this.M=a,this.l=s,this.w=u||null,this.pa=R||null}f(Gc,le),Gc.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Cc(this,this.O(),this.i()),Cl(this,this.i(),this.l),this.O().focus(),op(this.O(),(this.O().value||"").length),le.prototype.v.call(this)},Gc.prototype.o=function(){this.w=this.l=null,le.prototype.o.call(this)},U(Gc.prototype,{Cb:Gy,O:Qo,B:Jy,ea:function(s,a,u){var d=this,m=Qo.call(this),w=GI.call(this),R=Jy.call(this),V=s||gc,te=V.a;if(te.length==0)throw Error("No available countries provided.");hO.call(d,V,a),xt(this,w,function(){fO.call(d,V)}),bl(this,m,function(){Sl(R)&&(Mt(m,!0),Ci(R));var fe=Nt(gn(m)||""),ke=qo(this.Ba),at=Bf(V,fe);fe=Zy("1-US-0",te),at.length&&at[0].b!=ke.b&&(ke=at[0],up.call(d,ke.b=="1"&&fe?"1-US-0":ke.c,V))}),u&&Ic(this,m,function(){u()})},U:function(s){var a=Nt(gn(Qo.call(this))||"");s=s||gc;var u=s.a,d=Bf(gc,a);if(d.length&&!He(u,d[0]))throw nE(Qo.call(this)),Qo.call(this).focus(),mn(Jy.call(this),Ze("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=qo(this.Ba),d.length&&d[0].b!=u.b&&up.call(this,d[0].c,s),d.length&&(a=a.substr(d[0].b.length+1)),a?new BS(this.Ba,a):null},Ja:GI,ba:function(){return Qe(this,"firebaseui-recaptcha-container")},u:function(){return Qe(this,"firebaseui-id-recaptcha-error")},i:nn,ua:Kt,P:vn});function zI(s,a,u,d){try{var m=a.U(Ly)}catch{return}m?yc?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ze("Verifying...").toString()),$e(s,a.I(z(s.cc,s),[Ty(m),u],function(w){var R=It(a);a.$("firebaseui-icon-done",Ze("Code sent!").toString());var V=setTimeout(function(){a.h(),a.m(),Ce("phoneSignInFinish",s,R,m,15,w)},1e3);$e(s,function(){a&&a.h(),clearTimeout(V)})},function(w){if(a.h(),!w.name||w.name!="cancel"){grecaptcha.reset(eE),yc=null;var R=w&&w.message||"";if(w.code)switch(w.code){case"auth/too-many-requests":R=Ze("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":a.O().focus(),mn(a.B(),zv().toString());return;case"auth/admin-restricted-operation":if(Ko(ce(s))){w=It(a),a.m(),Ce("handleUnauthorizedUser",s,w,Ty(m),Te.auth.PhoneAuthProvider.PROVIDER_ID);return}R=ht(w);break;default:R=ht(w)}a.a(R)}}))):gl?mn(a.u(),Ze("Solve the reCAPTCHA").toString()):!gl&&d&&a.i().click():(a.O().focus(),mn(a.B(),zv().toString()))}nt.phoneSignInStart=function(s,a,u,d){var m=E5(ce(s))||{};yc=null,gl=!(m&&m.size==="invisible");var w=PI(s),R=A5(ce(s)),V=w?x5(ce(s)):null;R=u&&u.a||R&&R.c||null,u=u&&u.Aa||V,(V=xy(ce(s)))&&jS(V),Ly=V?new MS(xy(ce(s))):gc;var te=new Gc(function(ke){zI(s,te,fe,!(!ke||!ke.keyCode))},gl,w?null:function(){fe.clear(),te.m(),gt(s,a)},Vt(ce(s)),Gt(ce(s)),w,Ly,R,u);te.render(a),Ge(s,te),d&&te.a(d),m.callback=function(ke){te.u()&&Ci(te.u()),yc=ke,gl||zI(s,te,fe)},m["expired-callback"]=function(){yc=null};var fe=new Te.auth.RecaptchaVerifier(gl?te.ba():te.i(),m,tr(s).app);$e(s,te.I(z(fe.render,fe),[],function(ke){eE=ke},function(ke){ke.name&&ke.name=="cancel"||(ke=ht(ke),te.m(),gt(s,a,void 0,ke))}))},nt.prefilledEmailSignIn=function(s,a,u){var d=new ap;d.render(a),Ge(s,d),$e(s,d.I(z(We(s).fetchSignInMethodsForEmail,We(s)),[u],function(m){d.m();var w=!(!tp(s)||!qI(s));NI(s,a,m,u,void 0,w)},function(m){m=ht(m),d.m(),Ce("signIn",s,a,u,m)}))};function zc(s,a,u,d,m){le.call(this,hI,{Sb:a},m,"providerSignIn",{F:u,D:d}),this.i=s}f(zc,le),zc.prototype.v=function(){this.l(this.i),le.prototype.v.call(this)},zc.prototype.o=function(){this.i=null,le.prototype.o.call(this)},U(zc.prototype,{l:function(s){function a(R){s(R)}for(var u=this.g?bi("firebaseui-id-idp-button",this.g||this.s.a):[],d=0;d<u.length;d++){var m=u[d],w=lp(m,"providerId");xt(this,m,W(a,w))}}}),nt.providerSignIn=function(s,a,u,d){var m=new zc(function(w){w==Te.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),Wy(s,a,d)):w==Te.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),Ce("phoneSignInStart",s,a)):w=="anonymous"?H5(s,m):xc(s,m,w,d),Xe(s),s.l.cancel()},zS(ce(s)),Vt(ce(s)),Gt(ce(s)));m.render(a),Ge(s,m),u&&m.a(u),mO(s)},nt.sendEmailLinkForSignIn=function(s,a,u,d){var m=new np;m.render(a),Ge(s,m),Hy(s,m,u,d,function(w){m.m(),w&&w.code=="auth/admin-restricted-operation"&&Ko(ce(s))?Ce("handleUnauthorizedUser",s,a,u,Te.auth.EmailAuthProvider.PROVIDER_ID):(w=ht(w),Ce("signIn",s,a,u,w))})};function Hc(s,a,u,d,m,w,R){le.call(this,DE,{email:u,Va:!!a,ia:!!w},R,"signIn",{F:d,D:m}),this.i=s,this.u=a}f(Hc,le),Hc.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),op(this.l(),(this.l().value||"").length),le.prototype.v.call(this)},Hc.prototype.o=function(){this.u=this.i=null,le.prototype.o.call(this)},U(Hc.prototype,{l:Zr,M:$s,w:Tl,H:xl,j:Al,U:nn,P:Kt,B:vn}),nt.signIn=function(s,a,u,d){var m=tp(s),w=new Hc(function(){var R=w,V=R.j()||"";V&&DI(s,R,V)},m?null:function(){w.m(),gt(s,a,u)},u,Vt(ce(s)),Gt(ce(s)),m);w.render(a),Ge(s,w),d&&w.a(d)};function Wc(s,a,u,d,m,w,R){le.call(this,YE,{kc:s,yb:u,Eb:!!d},R,"unauthorizedUser",{F:m,D:w}),this.l=a,this.i=d}f(Wc,le),Wc.prototype.v=function(){var s=this,a=Qe(this,"firebaseui-id-unauthorized-user-help-link");this.i&&a&&xt(this,a,function(){s.i()}),xt(this,this.u(),function(){s.l()}),this.u().focus(),le.prototype.v.call(this)},Wc.prototype.o=function(){this.i=this.l=null,le.prototype.o.call(this)},U(Wc.prototype,{u:Kt}),nt.handleUnauthorizedUser=function(s,a,u,d){function m(){gt(s,a)}d===Te.auth.EmailAuthProvider.PROVIDER_ID?m=function(){Wy(s,a)}:d===Te.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){Ce("phoneSignInStart",s,a)});var w=null,R=null;d===Te.auth.EmailAuthProvider.PROVIDER_ID&&WS(ce(s))?(w=k5(ce(s)),R=T5(ce(s))):Ko(ce(s))&&(w=I5(ce(s)),R=C5(ce(s)));var V=new Wc(u,function(){V.m(),m()},w,R,Vt(ce(s)),Gt(ce(s)));V.render(a),Ge(s,V)};function qc(s,a,u,d,m,w){le.call(this,QE,{email:s},w,"unsupportedProvider",{F:d,D:m}),this.l=a,this.i=u}f(qc,le),qc.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),le.prototype.v.call(this)},qc.prototype.o=function(){this.i=this.l=null,le.prototype.o.call(this)},U(qc.prototype,{u:nn,B:Kt,w:vn}),nt.unsupportedProvider=function(s,a,u){var d=new qc(u,function(){d.m(),Ce("passwordRecovery",s,a,u)},function(){d.m(),gt(s,a,u)},Vt(ce(s)),Gt(ce(s)));d.render(a),Ge(s,d)};function Ar(s,a){this.$=!1;var u=t0(a);if(Kc[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Kc[u]=this,this.a=s,this.u=null,this.Y=!1,HI(this.a),this.h=Te.initializeApp({apiKey:s.app.options.apiKey,authDomain:s.app.options.authDomain},s.app.name+"-firebaseui-temp").auth(),(s=s.emulatorConfig)&&(u=s.port,this.h.useEmulator(s.protocol+"://"+s.host+(u===null?"":":"+u),s.options)),HI(this.h),this.h.setPersistence&&this.h.setPersistence(Te.auth.Auth.Persistence.SESSION),this.oa=a,this.ca=new S5,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=oy.Xa(),this.j=this.C=null,this.da=this.A=!1}function HI(s){s&&s.INTERNAL&&s.INTERNAL.logFramework&&s.INTERNAL.logFramework("FirebaseUI-web")}var Kc={};function t0(s){return s||"[DEFAULT]"}function WI(s){return Xe(s),s.i||(s.i=ts(s,function(a){return a&&!Cr(Ne(s))?Lt(tr(s).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return Gs(s,u)})):Lt(We(s).getRedirectResult().then(function(u){return $f(ce(s))&&!u.user&&s.j&&!s.j.isAnonymous?tr(s).getRedirectResult():u}))})),s.i}function Ge(s,a){Xe(s),s.g=a}var Nl=null;function We(s){return Xe(s),s.h}function tr(s){return Xe(s),s.a}function Ne(s){return Xe(s),s.oa}function qI(s){return Xe(s),s.O?s.O.emailHint:void 0}t=Ar.prototype,t.nb=function(){return Xe(this),!!Sy(Ne(this))||KI(Jr())};function KI(s){return s=new _i(s),(s.a.a.get(St.ub)||null)==="signIn"&&!!s.a.a.get(St.$a)}t.start=function(s,a){YI(this,s,a)};function YI(s,a,u,d){Xe(s),typeof s.a.languageCode<"u"&&(s.u=s.a.languageCode);var m="en".replace(/_/g,"-");s.a.languageCode=m,s.h.languageCode=m,s.Y=!0,typeof s.a.tenantId<"u"&&(s.h.tenantId=s.a.tenantId),s.ib(u),s.O=d||null;var w=S.document;s.C?s.C.then(function(){w.readyState=="complete"?cp(s,a):sc(window,"load",function(){cp(s,a)})}):w.readyState=="complete"?cp(s,a):sc(window,"load",function(){cp(s,a)})}function cp(s,a){var u=wf(a,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Nl){var d=Nl;Xe(d),Cr(Ne(d))&&js("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Nl.reset()}if(Nl=s,s.T=u,gO(s,u),jf(new yy)&&jf(new wy)){a=wf(a,"Could not find the FirebaseUI widget element on the page."),u=Jr(),d=Cy(ce(s).a,"queryParameterForSignInSuccessUrl"),u=(u=Wr(u,d))?y(T(u)).toString():null;e:{d=Jr();var m=YS(ce(s));d=Wr(d,m)||"";for(w in Oy)if(Oy[w].toLowerCase()==d.toLowerCase()){var w=Oy[w];break e}w="callback"}switch(w){case"callback":u&&(w=Ne(s),hl(fc,u,w)),s.nb()?Ce("callback",s,a):gt(s,a,qI(s));break;case"resetPassword":Ce("passwordReset",s,a,Ac(),qy());break;case"recoverEmail":Ce("emailChangeRevocation",s,a,Ac());break;case"revertSecondFactorAddition":Ce("revertSecondFactorAddition",s,a,Ac());break;case"verifyEmail":Ce("emailVerification",s,a,Ac(),qy());break;case"verifyAndChangeEmail":Ce("verifyAndChangeEmail",s,a,Ac(),qy());break;case"signIn":Ce("emailLinkSignInCallback",s,a,Jr()),ZI();break;case"select":u&&(w=Ne(s),hl(fc,u,w)),gt(s,a);break;default:throw Error("Unhandled widget operation.")}a=ce(s),(a=vc(a).uiShown||null)&&a()}else a=wf(a,"Could not find the FirebaseUI widget element on the page."),w=new AI(Ze("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),w.render(a),Ge(s,w);a=s.g&&s.g.Ga=="blank"&&Ay(ce(s)),Sy(Ne(s))&&!a&&(a=Sy(Ne(s)),JI(s,a.a),ui(Wo,Ne(s)))}function ts(s,a){if(s.A)return a(QI(s));if($e(s,function(){s.A=!1}),$f(ce(s))){var u=new qt(function(d){$e(s,s.a.onAuthStateChanged(function(m){s.j=m,s.A||(s.A=!0,d(a(QI(s))))}))});return $e(s,u),u}return s.A=!0,a(null)}function QI(s){return Xe(s),$f(ce(s))&&s.j&&s.j.isAnonymous?s.j:null}function $e(s,a){if(Xe(s),a){s.s.push(a);var u=function(){Ua(s.s,function(d){return d==a})};typeof a!="function"&&a.then(u,u)}}t.Db=function(){Xe(this),this.Z=!0};function pO(s){Xe(s);var a;return(a=s.Z)||(s=ce(s),s=KS(s,Te.auth.GoogleAuthProvider.PROVIDER_ID),a=!(!s||s.prompt!=="select_account")),a}function XI(s){typeof s.a.languageCode<"u"&&s.Y&&(s.Y=!1,s.a.languageCode=s.u)}function JI(s,a){s.a.tenantId=a,s.h.tenantId=a}t.reset=function(){Xe(this);var s=this;this.T&&this.T.removeAttribute("lang"),this.J&&YN(this.J),XI(this),this.O=null,ZI(),ui(Wo,Ne(this)),Xe(this),this.l.cancel(),this.i=Lt({user:null,credential:null}),Nl==this&&(Nl=null),this.T=null;for(var a=0;a<this.s.length;a++)typeof this.s[a]=="function"?this.s[a]():this.s[a].cancel&&this.s[a].cancel();this.s=[],kr(Ne(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Vs(this).then(function(){s.C=null},function(){s.C=null}))};function gO(s,a){s.L=null,s.J=new vf(a),s.J.register(),Zi(s.J,"pageEnter",function(u){if(u=u&&u.pageId,s.L!=u){var d=ce(s);(d=vc(d).uiChanged||null)&&d(s.L,u),s.L=u}})}t.ib=function(s){Xe(this);var a=this.ca,u;for(u in s)try{Iy(a.a,u,s[u])}catch{Ei('Invalid config: "'+u+'"',void 0)}$v&&Iy(a.a,"popupMode",!1),xy(a),!this.da&&Ry(ce(this))&&(js("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function ce(s){return Xe(s),s.ca}t.Wb=function(){Xe(this);var s=ce(this),a=Cy(s.a,"widgetUrl");s=YS(s);for(var u=a.search(Uo),d=0,m,w=[];0<=(m=Mo(a,d,s,u));)w.push(a.substring(d,m)),d=Math.min(a.indexOf("&",m)+1||u,u);w.push(a.substr(d)),a=w.join("").replace($a,"$1"),u="="+encodeURIComponent("select"),(s+=u)?(u=a.indexOf("#"),0>u&&(u=a.length),d=a.indexOf("?"),0>d||d>u?(d=u,m=""):m=a.substring(d+1,u),a=[a.substr(0,d),m,a.substr(u)],u=a[1],a[1]=s?u?u+"&"+s:s:u,u=a[0]+(a[1]?"?"+a[1]:"")+a[2]):u=a,ce(this).a.get("popupMode")?(s=(window.screen.availHeight-600)/2,a=(window.screen.availWidth-500)/2,u=u||"about:blank",s={width:500,height:600,top:0<s?s:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},s.target=s.target||u.target||"google_popup",s.width=s.width||690,s.height=s.height||500,(s=Qb(u,s))&&s.focus()):pt(window.location,u)};function Xe(s){if(s.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var s=this;return Xe(this),this.h.app.delete().then(function(){var a=t0(Ne(s));delete Kc[a],s.reset(),s.$=!0})};function mO(s){Xe(s);try{nS(s.l,HS(ce(s)),pO(s)).then(function(a){return s.g?W5(s,s.g,a):!1})}catch{}}t.Ib=function(s,a){Xe(this);var u=this,d=n5();if(!pl(ce(this)))return tl(Error("Email link sign-in should be enabled to trigger email sending."));var m=P5(ce(this)),w=new _i(m.url);return ve(w,d),a&&a.a&&(b5(d,a,Ne(this)),br(w,a.a.providerId)),rf(w,R5(ce(this))),ts(this,function(R){return R&&((R=R.uid)?w.a.a.set(St.Pa,R):wr(w.a.a,St.Pa)),m.url=w.toString(),We(u).sendSignInLinkToEmail(s,m)}).then(function(){var R=Ne(u),V={};V.email=s,hl(ul,ES(d,JSON.stringify(V)),R)},function(R){throw ui(pc,Ne(u)),ui(ul,Ne(u)),R})};function vO(s,a){var u=sf(new _i(a));return u?(a=new qt(function(d,m){var w=tr(s).onAuthStateChanged(function(R){w(),R&&R.isAnonymous&&R.uid===u?d(R):R&&R.isAnonymous&&R.uid!==u?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});$e(s,w)}),$e(s,a),a):Lt(null)}function yO(s,a,u,d,m){Xe(s);var w=m||null,R=Te.auth.EmailAuthProvider.credentialWithLink(u,d);return u=w?We(s).signInWithEmailLink(u,d).then(function(V){return V.user.linkWithCredential(w)}).then(function(){return Vs(s)}).then(function(){return Gs(s,{code:"auth/email-already-in-use"},w)}):We(s).fetchSignInMethodsForEmail(u).then(function(V){return V.length?Gs(s,{code:"auth/email-already-in-use"},R):a.linkWithCredential(R)}),$e(s,u),u}function wO(s,a,u,d){Xe(s);var m=d||null,w;return a=We(s).signInWithEmailLink(a,u).then(function(R){if(w={user:R.user,credential:null,operationType:R.operationType,additionalUserInfo:R.additionalUserInfo},m)return R.user.linkWithCredential(m).then(function(V){w={user:V.user,credential:m,operationType:w.operationType,additionalUserInfo:V.additionalUserInfo}})}).then(function(){Vs(s)}).then(function(){return tr(s).updateCurrentUser(w.user)}).then(function(){return w.user=tr(s).currentUser,w}),$e(s,a),a}function ZI(){var s=Jr();if(KI(s)){s=new _i(s);for(var a in St)St.hasOwnProperty(a)&&wr(s.a.a,St[a]);a={state:"signIn",mode:"emailLink",operation:"clear"};var u=S.document.title;S.history&&S.history.replaceState&&S.history.replaceState(a,u,s.toString())}}t.bc=function(s,a){Xe(this);var u=this;return We(this).signInWithEmailAndPassword(s,a).then(function(d){return ts(u,function(m){return m?Vs(u).then(function(){return Gs(u,{code:"auth/email-already-in-use"},Te.auth.EmailAuthProvider.credential(s,a))}):d})})},t.Yb=function(s,a){Xe(this);var u=this;return ts(this,function(d){if(d){var m=Te.auth.EmailAuthProvider.credential(s,a);return d.linkWithCredential(m)}return We(u).createUserWithEmailAndPassword(s,a)})},t.ac=function(s){Xe(this);var a=this;return ts(this,function(u){return u?u.linkWithCredential(s).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return Gs(a,d,s)}):We(a).signInWithCredential(s)})};function _O(s,a){return Xe(s),ts(s,function(u){return u&&!Cr(Ne(s))?u.linkWithPopup(a).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return Gs(s,d)}):We(s).signInWithPopup(a)})}t.dc=function(s){Xe(this);var a=this,u=this.i;return this.i=null,ts(this,function(d){return d&&!Cr(Ne(a))?d.linkWithRedirect(s):We(a).signInWithRedirect(s)}).then(function(){},function(d){throw a.i=u,d})},t.cc=function(s,a){Xe(this);var u=this;return ts(this,function(d){return d?d.linkWithPhoneNumber(s,a).then(function(m){return new ly(m,function(w){if(w.code=="auth/credential-already-in-use")return Gs(u,w);throw w})}):tr(u).signInWithPhoneNumber(s,a).then(function(m){return new ly(m)})})},t.$b=function(){return Xe(this),tr(this).signInAnonymously()};function bO(s,a){return Xe(s),ts(s,function(u){if(s.j&&!s.j.isAnonymous&&$f(ce(s))&&!We(s).currentUser)return Vs(s).then(function(){return a.credential.providerId=="password"&&(a.credential=null),a});if(u)return Vs(s).then(function(){return u.linkWithCredential(a.credential)}).then(function(d){return a.user=d.user,a.credential=d.credential,a.operationType=d.operationType,a.additionalUserInfo=d.additionalUserInfo,a},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return Gs(s,d,a.credential)});if(!a.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Vs(s).then(function(){return tr(s).updateCurrentUser(a.user)}).then(function(){return a.user=tr(s).currentUser,a.operationType="signIn",a.credential&&a.credential.providerId&&a.credential.providerId=="password"&&(a.credential=null),a})})}t.Xb=function(s,a){return Xe(this),We(this).signInWithEmailAndPassword(s,a)};function Vs(s){return Xe(s),We(s).signOut()}function Gs(s,a,u){if(Xe(s),a&&a.code&&(a.code=="auth/email-already-in-use"||a.code=="auth/credential-already-in-use")){var d=ZS(ce(s));return Lt().then(function(){return d(new tc("anonymous-upgrade-merge-conflict",null,u||a.credential))}).then(function(){throw s.g&&(s.g.m(),s.g=null),a})}return tl(a)}function Yc(s,a,u,d){le.call(this,mI,void 0,d,"providerMatchByEmail",{F:a,D:u}),this.i=s}f(Yc,le),Yc.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),op(this.l(),(this.l().value||"").length),le.prototype.v.call(this)},Yc.prototype.o=function(){this.i=null,le.prototype.o.call(this)},U(Yc.prototype,{l:Zr,H:$s,u:Tl,B:xl,j:Al,M:nn,w:vn});function hp(s,a,u,d,m){le.call(this,gI,{ec:a},m,"selectTenant",{F:u,D:d}),this.i=s}f(hp,le),hp.prototype.v=function(){SO(this,this.i),le.prototype.v.call(this)},hp.prototype.o=function(){this.i=null,le.prototype.o.call(this)};function SO(s,a){function u(V){a(V)}for(var d=s.g?bi("firebaseui-id-tenant-selection-button",s.g||s.s.a):[],m=0;m<d.length;m++){var w=d[m],R=lp(w,"tenantId");xt(s,w,W(u,R))}}function n0(s){le.call(this,FE,void 0,s,"spinner")}f(n0,le);function EO(s){this.a=new Ey,$t(this.a,"authDomain"),$t(this.a,"displayMode",fp),$t(this.a,"tenants"),$t(this.a,"callbacks"),$t(this.a,"tosUrl"),$t(this.a,"privacyPolicyUrl");for(var a in s)if(s.hasOwnProperty(a))try{Iy(this.a,a,s[a])}catch{Ei('Invalid config: "'+a+'"',void 0)}}function IO(s){s=s.a.get("displayMode");for(var a in r0)if(r0[a]===s)return r0[a];return fp}function dp(s){return s.a.get("callbacks")||{}}function eC(s){var a=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,a&&!s&&js("Privacy Policy URL is missing, the link will not be displayed."),a&&s){if(typeof a=="function")return a;if(typeof a=="string")return function(){il(a)}}return null}function tC(s){var a=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!a&&js("Terms of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){il(u)}}return null}function i0(s,a){if(s=s.a.get("tenants"),!s||!s.hasOwnProperty(a)&&!s.hasOwnProperty(pp))throw Error("Invalid tenant configuration!")}function nC(s,a,u){if(s=s.a.get("tenants"),!s)throw Error("Invalid tenant configuration!");var d=[];if(s=s[a]||s[pp],!s)return Ei("Invalid tenant configuration: "+(a+" is not configured!"),void 0),d;if(a=s.signInOptions,!a)throw Error("Invalid tenant configuration: signInOptions are invalid!");return a.forEach(function(m){if(typeof m=="string")d.push(m);else if(typeof m.provider=="string"){var w=m.hd;w&&u?(w instanceof RegExp?w:new RegExp("@"+w.replace(".","\\.")+"$")).test(u)&&d.push(m.provider):d.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),Ei(m,void 0)}),d}function CO(s,a,u){return s=kO(s,a),(a=s.signInOptions)&&u&&(a=a.filter(function(d){return typeof d=="string"?u.includes(d):u.includes(d.provider)}),s.signInOptions=a),s}function kO(s,a){var u=TO,d=d===void 0?{}:d;return i0(s,a),s=s.a.get("tenants"),i5(s[a]||s[pp],u,d)}var TO=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],fp="optionFirst",r0={pc:fp,oc:"identifierFirst"},pp="*";function nr(s,a){var u=this;this.s=wf(s),this.a={},Object.keys(a).forEach(function(d){u.a[d]=new EO(a[d])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(d){this.ob=d||null},enumerable:!1})}t=nr.prototype,t.Ub=function(s,a){var u=this;zs(this);var d=s.apiKey;return new qt(function(m,w){if(u.a.hasOwnProperty(d)){var R=dp(u.a[d]).selectTenantUiHidden||null;if(IO(u.a[d])===fp){var V=[];a.forEach(function(ke){ke=ke||"_";var at=u.a[d].a.get("tenants");if(!at)throw Error("Invalid tenant configuration!");(at=at[ke]||at[pp])?ke={tenantId:ke!=="_"?ke:null,V:at.fullLabel||null,displayName:at.displayName,za:at.iconUrl,ta:at.buttonColor}:(Ei("Invalid tenant configuration: "+(ke+" is not configured!"),void 0),ke=null),ke&&V.push(ke)});var te=function(ke){ke={tenantId:ke,providerIds:nC(u.a[d],ke||"_")},m(ke)};if(V.length===1){te(V[0].tenantId);return}u.g=new hp(function(ke){zs(u),R&&R(),te(ke)},V,eC(u.a[d]),tC(u.a[d]))}else u.g=new Yc(function(){var ke=u.g.j();if(ke){for(var at=0;at<a.length;at++){var ir=nC(u.a[d],a[at]||"_",ke);if(ir.length!==0){ke={tenantId:a[at],providerIds:ir,email:ke},zs(u),R&&R(),m(ke);return}}u.g.a(Cb({code:"no-matching-tenant-for-email"}).toString())}},eC(u.a[d]),tC(u.a[d]));u.g.render(u.s),(w=dp(u.a[d]).selectTenantUiShown||null)&&w()}else{var fe=Error("Invalid project configuration: API key is invalid!");fe.code="invalid-configuration",u.pb(fe),w(fe)}})},t.Pb=function(s,a){if(!this.a.hasOwnProperty(s))throw Error("Invalid project configuration: API key is invalid!");var u=a||void 0;i0(this.a[s],a||"_");try{this.i=Te.app(u).auth()}catch{var d=this.a[s].a.get("authDomain");if(!d)throw Error("Invalid project configuration: authDomain is required!");s=Te.initializeApp({apiKey:s,authDomain:d},u),s.auth().tenantId=a,this.i=s.auth()}return this.i},t.Zb=function(s,a){var u=this;return new qt(function(d,m){function w(at,ir){u.j=new Ar(s),YI(u.j,u.s,at,ir)}var R=s.app.options.apiKey;u.a.hasOwnProperty(R)||m(Error("Invalid project configuration: API key is invalid!"));var V=CO(u.a[R],s.tenantId||"_",a&&a.providerIds);zs(u),m={signInSuccessWithAuthResult:function(at){return d(at),!1}};var te=dp(u.a[R]).signInUiShown||null,fe=!1;m.uiChanged=function(at,ir){at===null&&ir==="callback"?((at=Yn("firebaseui-id-page-callback",u.s))&&Ci(at),u.h=new n0,u.h.render(u.s)):fe||at===null&&ir==="spinner"||ir==="blank"||(u.h&&(u.h.m(),u.h=null),fe=!0,te&&te(s.tenantId))},V.callbacks=m,V.credentialHelper="none";var ke;a&&a.email&&(ke={emailHint:a.email}),u.j?u.j.Wa().then(function(){w(V,ke)}):w(V,ke)})},t.reset=function(){var s=this;return Lt().then(function(){s.j&&s.j.Wa()}).then(function(){s.j=null,zs(s)})},t.Vb=function(){var s=this;this.h||this.A||(this.A=window.setTimeout(function(){zs(s),s.h=new n0,s.g=s.h,s.h.render(s.s),s.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return zs(this),this.g=new II,this.g.render(this.s),Lt()};function zs(s){s.j&&s.j.reset(),s.mb(),s.g&&s.g.m()}t.pb=function(s){var a=this,u=Cb({code:s.code}).toString()||s.message;zs(this);var d;s.retry&&typeof s.retry=="function"&&(d=function(){a.reset(),s.retry()}),this.g=new xI(u,d),this.g.render(this.s)},t.Rb=function(s){var a=this;return Lt().then(function(){var u=a.i&&a.i.app.options.apiKey;if(!a.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(i0(a.a[u],s.tenantId||"_"),!a.i.currentUser||a.i.currentUser.uid!==s.uid)throw Error("The user being processed does not match the signed in user!");return(u=dp(a.a[u]).beforeSignInSuccess||null)?u(s):s}).then(function(u){if(u.uid!==s.uid)throw Error("User with mismatching UID returned.");return u})},J("firebaseui.auth.FirebaseUiHandler",nr),J("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",nr.prototype.Ub),J("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",nr.prototype.Pb),J("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",nr.prototype.Zb),J("firebaseui.auth.FirebaseUiHandler.prototype.reset",nr.prototype.reset),J("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",nr.prototype.Vb),J("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",nr.prototype.mb),J("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",nr.prototype.Bb),J("firebaseui.auth.FirebaseUiHandler.prototype.handleError",nr.prototype.pb),J("firebaseui.auth.FirebaseUiHandler.prototype.processUser",nr.prototype.Rb),J("firebaseui.auth.AuthUI",Ar),J("firebaseui.auth.AuthUI.getInstance",function(s){return s=t0(s),Kc[s]?Kc[s]:null}),J("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Ar.prototype.Db),J("firebaseui.auth.AuthUI.prototype.start",Ar.prototype.start),J("firebaseui.auth.AuthUI.prototype.setConfig",Ar.prototype.ib),J("firebaseui.auth.AuthUI.prototype.signIn",Ar.prototype.Wb),J("firebaseui.auth.AuthUI.prototype.reset",Ar.prototype.reset),J("firebaseui.auth.AuthUI.prototype.delete",Ar.prototype.Wa),J("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Ar.prototype.nb),J("firebaseui.auth.AuthUIError",tc),J("firebaseui.auth.AuthUIError.prototype.toJSON",tc.prototype.toJSON),J("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Py),J("firebaseui.auth.CredentialHelper.NONE",Gf),J("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),qt.prototype.catch=qt.prototype.Ca,qt.prototype.finally=qt.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=OH);var ZT=firebaseui.auth;function LH({auth:t,setUser:e}){const i=re.useCallback(async()=>{},[]);return re.useEffect(()=>{i()},[]),re.useEffect(()=>{(ZT.AuthUI.getInstance()||new ZT.AuthUI(t)).start(".firebase-auth-container",{signInOptions:[{provider:Te.auth.EmailAuthProvider.PROVIDER_ID,requireDisplayName:!1}],callbacks:{signInSuccessWithAuthResult:(o,l)=>(console.log(o),e({email:o.user.email,uid:o.user.uid,userIcon:o.user.photoUrl}),!1)},privacyPolicyUrl:"<your-privacy-policy-url>"})},[t]),Y.jsx("div",{className:"col-span-5  lg:col-span-7 lg:ml-72  mt-48 ",children:Y.jsx("div",{className:"firebase-auth-container"})})}const Mv=re.createContext({message:{receiverEmail:"",receiverUid:"",userToReceiver:"",uploadedMessage:[]},setMessage:()=>{}});function MH(){var b;const{user:t}=re.useContext(Cs),e=(b=t.email)==null?void 0:b.substring(0,t.email.lastIndexOf("@")),[i,r]=re.useState(""),{message:o}=re.useContext(Mv),l=S=>{r(S.currentTarget.value)},h=o.uploadedMessage,f=async S=>{S.preventDefault(),r("");try{const P=await ku(Li(an,"messages"),{isHighlighted:!1,messageContent:i,email:t.email,uid:t.uid,timestamp:Ca(),userIcon:t.photoURL,receiver:o.receiverEmail,color:"transparent"});console.log("uploaded")}catch(P){console.log(P)}},g=t.email,v=o.receiverEmail;return Math.random().toString(36).substring(2,9)+"",Y.jsxs("div",{className:"col-span-7 lg:col-span-5 px-2 mt-2 overflow-scroll",children:[Y.jsxs("div",{className:" items-center flex space-x-2 p-5 border-b mb-6",children:[Y.jsx("img",{className:"h-14 w-14 rounded-full object-cover mt-4",src:t.userIcon||da}),Y.jsx("div",{className:"flex items-center justify-between ",children:Y.jsx("h1",{className:"p-5 pb-0 text-md font-bold",children:e})})]}),Y.jsx("div",{className:"w-full px-5 flex flex-col justify-between",children:Y.jsx("div",{className:"flex flex-col mt-5 mb-96",children:o.receiverEmail!=null&&h.map(S=>Y.jsx("div",{children:S.email===g&&v===S.receiver||S.email===v&&S.receiver===g?Y.jsx("div",{children:S.email===g?Y.jsxs("div",{className:"flex justify-end mb-4",children:[Y.jsx("div",{className:"mr-2 py-3 px-4 bg-blue-400 rounded-bl-3xl rounded-tl-3xl rounded-tr-xl text-white",children:S.messageContent}),Y.jsx("img",{className:"h-12 w-12 rounded-full object-cover mt-4",src:S.userIcon||da,alt:"usericon"})]}):Y.jsxs("div",{className:"flex justify-start mb-4",children:[Y.jsx("img",{className:"h-12 w-12 rounded-full object-cover mt-4",src:S.userIcon,alt:"usericon"}),Y.jsx("div",{className:"ml-2 py-3 px-4 bg-gray-400 rounded-br-3xl rounded-tr-3xl rounded-tl-xl text-white",children:S.messageContent||da})]})}):Y.jsx("div",{})},S.id))})}),Y.jsx("form",{onSubmit:f,children:Y.jsxs("div",{className:"py-5 flex justify-between",children:[Y.jsx("input",{type:"text",onChange:l,className:" w-9/12 bg-gray-300 py-5 px-3 rounded-xl",placeholder:"type your message here...",value:i}),Y.jsx("div",{children:Y.jsx("button",{disabled:!i,className:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded my-1.5 disabled:opacity-40",type:"submit",children:"send"})})]})})]})}function UH({receiverEmail:t,receiverUid:e,userToReceiver:i,receiverIcon:r,allReceivingMessage:o,index:l}){var D,C;const{message:h,setMessage:f}=re.useContext(Mv),g=t==null?void 0:t.substring(0,t.lastIndexOf("@")),[v,b]=re.useState([]);re.useContext(Cs);const[S,P]=re.useState(-1),$=async()=>{console.log(e);const x=await Ia(Li(an,"messages"),_v("timestamp","asc"));bv(x,O=>{const L=[];O.docs.forEach(N=>{L.push({...N.data(),id:N.id})}),b(L),f({receiverEmail:t,receiverUid:e,userToReceiver:i,uploadedMessage:L})})};function j(x){var O=new Date(1970,0,1);return O.setSeconds(x),O}const I=j((D=o==null?void 0:o.timestamp)==null?void 0:D.seconds);return Y.jsxs("div",{onClick:()=>{$(),P(l)},className:`items-center flex space-x-2 p-3 border-b cursor-pointer   
      ${l==S?"bg-blue-200":""}
      `,children:[Y.jsx("img",{className:"h-12 w-12 rounded-full object-cover ",src:r||da}),Y.jsxs("div",{className:" items-center justify-between ",children:[Y.jsx("h1",{className:"p-5 pb-0 text-lg",children:g}),Y.jsxs("div",{className:"flex items-center  justify-content",children:[Y.jsx("h1",{className:"p-5 pb-0 text-xs text-gray-500",children:o==null?void 0:o.messageContent}),Y.jsx("h3",{className:"p-5 pb-0 text-xs  text-gray-500",children:(C=o==null?void 0:o.timestamp)!=null&&C.seconds?I==null?void 0:I.toLocaleTimeString("en-HK"):""})]})]})]})}function FH(){const{user:t}=re.useContext(Cs);re.useContext(Mv);const[e,i]=re.useState([]),[r,o]=re.useState([]);return re.useState(""),re.useEffect(()=>{(async()=>{const h=await fm(Ia(Li(an,"data"),vd("email","!=",t.email))),f=[];h.forEach(g=>{f.push({...g.data(),id:g.id})}),i(f)})()},[]),re.useEffect(()=>{(async()=>{const h=await Ia(Li(an,"messages"),_v("timestamp","asc"),vd("receiver","==",t.email));bv(h,f=>{const g=[];f.docs.forEach(v=>{g.push({...v.data(),id:v.id})}),o(g)})})()},[]),Y.jsxs("div",{className:"col-span-3  hidden lg:inline",children:[Y.jsx("div",{className:" items-center flex space-x-2 p-5 border-b",children:Y.jsxs("div",{className:"flex items-center justify-between ",children:[Y.jsx("h1",{className:"p-5 pb-0 text-xl font-bold",children:"Message"}),Y.jsx("button",{children:Y.jsx(e6,{className:"h-8 w-8  mr-5 mt-5 cursor-pointer text-twitter transition-all duration-500 ease-out hover:rotate-180 active:scale-125"})})]})}),e.map((l,h)=>Y.jsx(UH,{index:h,allReceivingMessage:r.filter(f=>f.email===l.email).pop(),userToReceiver:`${t.email}-AND-${l.email}`,receiverUid:l.uid,receiverEmail:l.email,receiverIcon:l.photoURL},l.id))]})}const jH=()=>Y.jsxs(Y.Fragment,{children:[Y.jsx(MH,{}),Y.jsx(FH,{})]}),BH=()=>{const[t,e]=re.useState({email:"",uid:"",photoURL:"",userIcon:""}),[i,r]=re.useState({receiverEmail:"",receiverUid:"",userToReceiver:"",uploadedMessage:[]});return re.useState([]),re.useEffect(()=>{const o=Te.auth().onAuthStateChanged(async l=>{if(l){try{const h=await Li(an,"userIcon"),f=Ia(h,vd("email","==",l.email),_v("timestamp","desc"),j9(1)),g=await fm(f);bv(f,async b=>{var S,P;l==null||l.updateProfile({photoURL:(P=(S=b==null?void 0:b.docs[0])==null?void 0:S.data())==null?void 0:P.url}).then(()=>{}).catch($=>{console.error("Error updating user profile:",$)})});let v={uid:l.uid,email:l.email,timestamp:Ca(),photoURL:l.photoURL,uploadedmessage:[]};await G9(Iu(an,"data",`${l.email}`),v)}catch(h){console.log("Unexpected error",h)}e({email:l==null?void 0:l.email,uid:l==null?void 0:l.uid,photoURL:l==null?void 0:l.photoURL,userIcon:l==null?void 0:l.photoURL}),console.log(l==null?void 0:l.photoURL)}else e({email:"",uid:"",photoURL:"",userIcon:""})});return()=>o()},[an]),Y.jsx(Mv.Provider,{value:{message:i,setMessage:r},children:Y.jsx(Cs.Provider,{value:{user:t,setUser:e},children:Y.jsx("div",{className:"App mx-auto lg:max-w-7xl grid grid-cols-10 gap-3 overflow-hidden",children:Y.jsxs(U$,{children:[t.email&&t.email!==""&&Y.jsx($$,{}),Y.jsx(D$,{children:t.email&&t.email!==""?Y.jsxs(Y.Fragment,{children:[Y.jsx(yg,{path:"/",element:Y.jsx(Y.Fragment,{children:Y.jsx(OB,{})})}),Y.jsx(yg,{path:"/chatroom",element:Y.jsx(jH,{})})]}):Y.jsx(yg,{index:!0,path:"*",element:Y.jsx(LH,{setUser:e,auth:Te.auth()})})})]})})})})},$H="modulepreload",VH=function(t){return"/"+t},ex={},GH=function(e,i,r){if(!i||i.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(i.map(l=>{if(l=VH(l),l in ex)return;ex[l]=!0;const h=l.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(!!r)for(let b=o.length-1;b>=0;b--){const S=o[b];if(S.href===l&&(!h||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${f}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":$H,h||(v.as="script",v.crossOrigin=""),v.href=l,document.head.appendChild(v),h)return new Promise((b,S)=>{v.addEventListener("load",b),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>e())},zH=t=>{t&&t instanceof Function&&GH(()=>import("./web-vitals-60d3425a.js"),[]).then(({getCLS:e,getFID:i,getFCP:r,getLCP:o,getTTFB:l})=>{e(t),i(t),r(t),o(t),l(t)})},HH=s1.createRoot(document.getElementById("root"));HH.render(Y.jsx(lx.StrictMode,{children:Y.jsx(BH,{})}));zH();
